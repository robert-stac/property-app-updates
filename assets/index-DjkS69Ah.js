(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function R1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Um={exports:{}},Yl={};var x_;function IS(){if(x_)return Yl;x_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:c}}return Yl.Fragment=e,Yl.jsx=n,Yl.jsxs=n,Yl}var E_;function DS(){return E_||(E_=1,Um.exports=IS()),Um.exports}var m=DS(),zm={exports:{}},Ne={};var T_;function OS(){if(T_)return Ne;T_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),w=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,H={};function J(M,ee,ae){this.props=M,this.context=ee,this.refs=H,this.updater=ae||U}J.prototype.isReactComponent={},J.prototype.setState=function(M,ee){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ee,"setState")},J.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=J.prototype;function Z(M,ee,ae){this.props=M,this.context=ee,this.refs=H,this.updater=ae||U}var ce=Z.prototype=new k;ce.constructor=Z,q(ce,J.prototype),ce.isPureReactComponent=!0;var K=Array.isArray;function oe(){}var S={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(M,ee,ae){var fe=ae.ref;return{$$typeof:r,type:M,key:ee,ref:fe!==void 0?fe:null,props:ae}}function L(M,ee){return N(M.type,ee,M.props)}function j(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function B(M){var ee={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return ee[ae]})}var C=/\/+/g;function je(M,ee){return typeof M=="object"&&M!==null&&M.key!=null?B(""+M.key):ee.toString(36)}function ot(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(oe,oe):(M.status="pending",M.then(function(ee){M.status==="pending"&&(M.status="fulfilled",M.value=ee)},function(ee){M.status==="pending"&&(M.status="rejected",M.reason=ee)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function D(M,ee,ae,fe,we){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var qe=!1;if(M===null)qe=!0;else switch(De){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(M.$$typeof){case r:case e:qe=!0;break;case x:return qe=M._init,D(qe(M._payload),ee,ae,fe,we)}}if(qe)return we=we(M),qe=fe===""?"."+je(M,0):fe,K(we)?(ae="",qe!=null&&(ae=qe.replace(C,"$&/")+"/"),D(we,ee,ae,"",function(Rs){return Rs})):we!=null&&(j(we)&&(we=L(we,ae+(we.key==null||M&&M.key===we.key?"":(""+we.key).replace(C,"$&/")+"/")+qe)),ee.push(we)),1;qe=0;var Vt=fe===""?".":fe+":";if(K(M))for(var lt=0;lt<M.length;lt++)fe=M[lt],De=Vt+je(fe,lt),qe+=D(fe,ee,ae,De,we);else if(lt=I(M),typeof lt=="function")for(M=lt.call(M),lt=0;!(fe=M.next()).done;)fe=fe.value,De=Vt+je(fe,lt++),qe+=D(fe,ee,ae,De,we);else if(De==="object"){if(typeof M.then=="function")return D(ot(M),ee,ae,fe,we);throw ee=String(M),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return qe}function se(M,ee,ae){if(M==null)return M;var fe=[],we=0;return D(M,fe,"","",function(De){return ee.call(ae,De,we++)}),fe}function he(M){if(M._status===-1){var ee=M._result;ee=ee(),ee.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=ee)}if(M._status===1)return M._result.default;throw M._result}var _e=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Re={map:se,forEach:function(M,ee,ae){se(M,function(){ee.apply(this,arguments)},ae)},count:function(M){var ee=0;return se(M,function(){ee++}),ee},toArray:function(M){return se(M,function(ee){return ee})||[]},only:function(M){if(!j(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ne.Activity=E,Ne.Children=Re,Ne.Component=J,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=Z,Ne.StrictMode=s,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return S.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(M,ee,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var fe=q({},M.props),we=M.key;if(ee!=null)for(De in ee.key!==void 0&&(we=""+ee.key),ee)!R.call(ee,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ee.ref===void 0||(fe[De]=ee[De]);var De=arguments.length-2;if(De===1)fe.children=ae;else if(1<De){for(var qe=Array(De),Vt=0;Vt<De;Vt++)qe[Vt]=arguments[Vt+2];fe.children=qe}return N(M.type,we,fe)},Ne.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ne.createElement=function(M,ee,ae){var fe,we={},De=null;if(ee!=null)for(fe in ee.key!==void 0&&(De=""+ee.key),ee)R.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(we[fe]=ee[fe]);var qe=arguments.length-2;if(qe===1)we.children=ae;else if(1<qe){for(var Vt=Array(qe),lt=0;lt<qe;lt++)Vt[lt]=arguments[lt+2];we.children=Vt}if(M&&M.defaultProps)for(fe in qe=M.defaultProps,qe)we[fe]===void 0&&(we[fe]=qe[fe]);return N(M,De,we)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:p,render:M}},Ne.isValidElement=j,Ne.lazy=function(M){return{$$typeof:x,_payload:{_status:-1,_result:M},_init:he}},Ne.memo=function(M,ee){return{$$typeof:y,type:M,compare:ee===void 0?null:ee}},Ne.startTransition=function(M){var ee=S.T,ae={};S.T=ae;try{var fe=M(),we=S.S;we!==null&&we(ae,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(oe,_e)}catch(De){_e(De)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),S.T=ee}},Ne.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Ne.use=function(M){return S.H.use(M)},Ne.useActionState=function(M,ee,ae){return S.H.useActionState(M,ee,ae)},Ne.useCallback=function(M,ee){return S.H.useCallback(M,ee)},Ne.useContext=function(M){return S.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,ee){return S.H.useDeferredValue(M,ee)},Ne.useEffect=function(M,ee){return S.H.useEffect(M,ee)},Ne.useEffectEvent=function(M){return S.H.useEffectEvent(M)},Ne.useId=function(){return S.H.useId()},Ne.useImperativeHandle=function(M,ee,ae){return S.H.useImperativeHandle(M,ee,ae)},Ne.useInsertionEffect=function(M,ee){return S.H.useInsertionEffect(M,ee)},Ne.useLayoutEffect=function(M,ee){return S.H.useLayoutEffect(M,ee)},Ne.useMemo=function(M,ee){return S.H.useMemo(M,ee)},Ne.useOptimistic=function(M,ee){return S.H.useOptimistic(M,ee)},Ne.useReducer=function(M,ee,ae){return S.H.useReducer(M,ee,ae)},Ne.useRef=function(M){return S.H.useRef(M)},Ne.useState=function(M){return S.H.useState(M)},Ne.useSyncExternalStore=function(M,ee,ae){return S.H.useSyncExternalStore(M,ee,ae)},Ne.useTransition=function(){return S.H.useTransition()},Ne.version="19.2.4",Ne}var w_;function zp(){return w_||(w_=1,zm.exports=OS()),zm.exports}var P=zp();const jS=R1(P);var Bm={exports:{}},Ql={},qm={exports:{}},Hm={};var S_;function kS(){return S_||(S_=1,(function(r){function e(D,se){var he=D.length;D.push(se);e:for(;0<he;){var _e=he-1>>>1,Re=D[_e];if(0<o(Re,se))D[_e]=se,D[he]=Re,he=_e;else break e}}function n(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var se=D[0],he=D.pop();if(he!==se){D[0]=he;e:for(var _e=0,Re=D.length,M=Re>>>1;_e<M;){var ee=2*(_e+1)-1,ae=D[ee],fe=ee+1,we=D[fe];if(0>o(ae,he))fe<Re&&0>o(we,ae)?(D[_e]=we,D[fe]=he,_e=fe):(D[_e]=ae,D[ee]=he,_e=ee);else if(fe<Re&&0>o(we,he))D[_e]=we,D[fe]=he,_e=fe;else break e}}return se}function o(D,se){var he=D.sortIndex-se.sortIndex;return he!==0?he:D.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],y=[],x=1,E=null,w=3,I=!1,U=!1,q=!1,H=!1,J=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function ce(D){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=D)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function K(D){if(q=!1,ce(D),!U)if(n(g)!==null)U=!0,oe||(oe=!0,B());else{var se=n(y);se!==null&&ot(K,se.startTime-D)}}var oe=!1,S=-1,R=5,N=-1;function L(){return H?!0:!(r.unstable_now()-N<R)}function j(){if(H=!1,oe){var D=r.unstable_now();N=D;var se=!0;try{e:{U=!1,q&&(q=!1,k(S),S=-1),I=!0;var he=w;try{t:{for(ce(D),E=n(g);E!==null&&!(E.expirationTime>D&&L());){var _e=E.callback;if(typeof _e=="function"){E.callback=null,w=E.priorityLevel;var Re=_e(E.expirationTime<=D);if(D=r.unstable_now(),typeof Re=="function"){E.callback=Re,ce(D),se=!0;break t}E===n(g)&&s(g),ce(D)}else s(g);E=n(g)}if(E!==null)se=!0;else{var M=n(y);M!==null&&ot(K,M.startTime-D),se=!1}}break e}finally{E=null,w=he,I=!1}se=void 0}}finally{se?B():oe=!1}}}var B;if(typeof Z=="function")B=function(){Z(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,je=C.port2;C.port1.onmessage=j,B=function(){je.postMessage(null)}}else B=function(){J(j,0)};function ot(D,se){S=J(function(){D(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(D){D.callback=null},r.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<D?Math.floor(1e3/D):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(D){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var he=w;w=se;try{return D()}finally{w=he}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(D,se){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var he=w;w=D;try{return se()}finally{w=he}},r.unstable_scheduleCallback=function(D,se,he){var _e=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?_e+he:_e):he=_e,D){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=he+Re,D={id:x++,callback:se,priorityLevel:D,startTime:he,expirationTime:Re,sortIndex:-1},he>_e?(D.sortIndex=he,e(y,D),n(g)===null&&D===n(y)&&(q?(k(S),S=-1):q=!0,ot(K,he-_e))):(D.sortIndex=Re,e(g,D),U||I||(U=!0,oe||(oe=!0,B()))),D},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(D){var se=w;return function(){var he=w;w=se;try{return D.apply(this,arguments)}finally{w=he}}}})(Hm)),Hm}var A_;function MS(){return A_||(A_=1,qm.exports=kS()),qm.exports}var Fm={exports:{}},Zt={};var R_;function VS(){if(R_)return Zt;R_=1;var r=zp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,x){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:g,containerInfo:y,implementation:x}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(g,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,x)},Zt.flushSync=function(g){var y=h.T,x=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=x,s.d.f()}},Zt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Zt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Zt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:I}):x==="script"&&s.d.X(g,{crossOrigin:E,integrity:w,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Zt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,E=p(x,y.crossOrigin);s.d.L(g,x,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(g,y){if(typeof g=="string")if(y){var x=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Zt.requestFormReset=function(g){s.d.r(g)},Zt.unstable_batchedUpdates=function(g,y){return g(y)},Zt.useFormState=function(g,y,x){return h.H.useFormState(g,y,x)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var N_;function PS(){if(N_)return Fm.exports;N_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fm.exports=VS(),Fm.exports}var C_;function LS(){if(C_)return Ql;C_=1;var r=MS(),e=zp(),n=PS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return g(d),t;if(f===l)return g(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,T=d.child;T;){if(T===a){_=!0,a=d,l=f;break}if(T===l){_=!0,l=d,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,l=d;break}if(T===l){_=!0,l=f,a=d;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function x(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=x(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function je(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case J:return"Profiler";case H:return"StrictMode";case K:return"Suspense";case oe:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case Z:return t.displayName||"Context";case k:return(t._context.displayName||"Context")+".Consumer";case ce:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S:return i=t.displayName||null,i!==null?i:je(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return je(t(i))}catch{}}return null}var ot=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},_e=[],Re=-1;function M(t){return{current:t}}function ee(t){0>Re||(t.current=_e[Re],_e[Re]=null,Re--)}function ae(t,i){Re++,_e[Re]=t.current,t.current=i}var fe=M(null),we=M(null),De=M(null),qe=M(null);function Vt(t,i){switch(ae(De,i),ae(we,t),ae(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Fv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Fv(i),t=Gv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(fe),ae(fe,t)}function lt(){ee(fe),ee(we),ee(De)}function Rs(t){t.memoizedState!==null&&ae(qe,t);var i=fe.current,a=Gv(i,t.type);i!==a&&(ae(we,t),ae(fe,a))}function xa(t){we.current===t&&(ee(fe),ee(we)),qe.current===t&&(ee(qe),Fl._currentValue=he)}var Ea,Ta;function yr(t){if(Ea===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ea=i&&i[1]||"",Ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+t+Ta}var Fo=!1;function Ns(t,i){if(!t||Fo)return"";Fo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var Y=X}Reflect.construct(t,[],re)}else{try{re.call()}catch(X){Y=X}t.call(re.prototype)}}else{try{throw Error()}catch(X){Y=X}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var O=_.split(`
`),$=T.split(`
`);for(d=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(l===O.length||d===$.length)for(l=O.length-1,d=$.length-1;1<=l&&0<=d&&O[l]!==$[d];)d--;for(;1<=l&&0<=d;l--,d--)if(O[l]!==$[d]){if(l!==1||d!==1)do if(l--,d--,0>d||O[l]!==$[d]){var W=`
`+O[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=d);break}}}finally{Fo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?yr(a):""}function Go(t,i){switch(t.tag){case 26:case 27:case 5:return yr(t.type);case 16:return yr("Lazy");case 13:return t.child!==i&&i!==null?yr("Suspense Fallback"):yr("Suspense");case 19:return yr("SuspenseList");case 0:case 15:return Ns(t.type,!1);case 11:return Ns(t.type.render,!1);case 1:return Ns(t.type,!0);case 31:return yr("Activity");default:return""}}function $o(t){try{var i="",a=null;do i+=Go(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Pt=r.unstable_scheduleCallback,Ni=r.unstable_cancelCallback,zd=r.unstable_shouldYield,zc=r.unstable_requestPaint,an=r.unstable_now,Cs=r.unstable_getCurrentPriorityLevel,Ko=r.unstable_ImmediatePriority,Yo=r.unstable_UserBlockingPriority,Ci=r.unstable_NormalPriority,Bd=r.unstable_LowPriority,Bc=r.unstable_IdlePriority,qc=r.log,Hc=r.unstable_setDisableYieldValue,Xn=null,Ft=null;function kn(t){if(typeof qc=="function"&&Hc(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Xn,t)}catch{}}var _t=Math.clz32?Math.clz32:Gc,Fc=Math.log,wa=Math.LN2;function Gc(t){return t>>>=0,t===0?32:31-(Fc(t)/wa|0)|0}var vr=256,Is=262144,St=4194304;function _r(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function br(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=_r(l):(_&=T,_!==0?d=_r(_):a||(a=T&~t,a!==0&&(d=_r(a))))):(T=l&~f,T!==0?d=_r(T):_!==0?d=_r(_):a||(a=l&~t,a!==0&&(d=_r(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function Jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function qd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function xr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ds(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hd(t,i,a,l,d,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,$=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-_t(a),re=1<<W;T[W]=0,O[W]=-1;var Y=$[W];if(Y!==null)for($[W]=null,W=0;W<Y.length;W++){var X=Y[W];X!==null&&(X.lane&=-536870913)}a&=~re}l!==0&&Os(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~i))}function Os(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Qo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function Xo(t,i){var a=i&-i;return a=(a&42)!==0?1:js(a),(a&(t.suspendedLanes|i))!==0?0:a}function js(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:m_(t.type))}function Wn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Zn=Math.random().toString(36).slice(2),At="__reactFiber$"+Zn,zt="__reactProps$"+Zn,Er="__reactContainer$"+Zn,Sa="__reactEvents$"+Zn,Fd="__reactListeners$"+Zn,Yc="__reactHandles$"+Zn,Qc="__reactResources$"+Zn,Tr="__reactMarker$"+Zn;function Aa(t){delete t[At],delete t[zt],delete t[Sa],delete t[Fd],delete t[Yc]}function wr(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Er]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Wv(t);t!==null;){if(a=t[At])return a;t=Wv(t)}return i}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[At]||t[Er]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function xn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Sr(t){var i=t[Qc];return i||(i=t[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(t){t[Tr]=!0}var Jo=new Set,Wo={};function Ar(t,i){Rr(t,i),Rr(t+"Capture",i)}function Rr(t,i){for(Wo[t]=i,t=0;t<i.length;t++)Jo.add(i[t])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},tl={};function Xc(t){return wt.call(tl,t)?!0:wt.call(el,t)?!1:Zo.test(t)?tl[t]=!0:(el[t]=!0,!1)}function Ra(t,i,a){if(Xc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function En(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Nt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nl(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=Ii(t)?"checked":"value";t._valueTracker=nl(t,i,""+t[i])}}function ks(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ii(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Nr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ms=/[\n"\\]/g;function dn(t){return t.replace(Ms,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Na(t,i,a,l,d,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?rl(t,_,Bt(i)):a!=null?rl(t,_,Bt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Bt(T):t.removeAttribute("name")}function Jc(t,i,a,l,d,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Bt(a):"",i=i!=null?""+Bt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function rl(t,i,a){i==="number"&&Nr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Di(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Wc(t,i,a){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Bt(a):""}function Oi(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Bt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function fn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Zc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function sl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&il(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&il(t,f,i[f])}function Ca(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return ji.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function er(){}var al=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,Cr=null;function Vs(t){var i=Mn(t);if(i&&(t=i.stateNode)){var a=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Na(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[zt]||null;if(!d)throw Error(s(90));Na(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ks(l)}break e;case"textarea":Wc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Di(t,!!a.multiple,i,!1)}}}var Da=!1;function Mi(t,i,a){if(Da)return t(i,a);Da=!0;try{var l=t(i);return l}finally{if(Da=!1,(ki!==null||Cr!==null)&&(Ku(),ki&&(i=ki,t=Cr,Cr=ki=null,Vs(i),t)))for(i=0;i<t.length;i++)Vs(t[i])}}function tr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ps=!1;if(Pn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ps=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Ps=!1}var Ir=null,ol=null,Ls=null;function ll(){if(Ls)return Ls;var t,i=ol,a=i.length,l,d="value"in Ir?Ir.value:Ir.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===d[f-l];l++);return Ls=d.slice(t,1<l?1-l:void 0)}function Us(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yr(){return!0}function nr(){return!1}function Gt(t){function i(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yr:nr,this.isPropagationStopped=nr,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yr)},persist:function(){},isPersistent:Yr}),i}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dr=Gt(Qr),Vi=E({},Qr,{view:0,detail:0}),cl=Gt(Vi),Pi,Oa,Or,ja=E({},Vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Or&&(Or&&t.type==="mousemove"?(Pi=t.screenX-Or.screenX,Oa=t.screenY-Or.screenY):Oa=Pi=0,Or=t),Pi)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),ul=Gt(ja),zs=E({},ja,{dataTransfer:0}),tu=Gt(zs),nu=E({},Vi,{relatedTarget:0}),Bs=Gt(nu),hl=E({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),ru=Gt(hl),ka=E({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iu=Gt(ka),su=E({},Qr,{data:0}),jr=Gt(su),au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=lu[t])?!!i[t]:!1}function Li(){return cu}var on=E({},Vi,{key:function(t){if(t.key){var i=au[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uu=Gt(on),hu=E({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xr=Gt(hu),u=E({},Vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),v=Gt(u),b=E({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Gt(b),F=E({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Gt(F),le=E({},Qr,{newState:0,oldState:0}),Ce=Gt(le),bt=[9,13,27,32],$e=Pn&&"CompositionEvent"in window,ct=null;Pn&&"documentMode"in document&&(ct=document.documentMode);var Ln=Pn&&"TextEvent"in window&&!ct,kr=Pn&&(!$e||ct&&8<ct&&11>=ct),rr=" ",ir=!1;function qs(t,i){switch(t){case"keyup":return bt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Va=!1;function ew(t,i){switch(t){case"compositionend":return Ma(i);case"keypress":return i.which!==32?null:(ir=!0,rr);case"textInput":return t=i.data,t===rr&&ir?null:t;default:return null}}function tw(t,i){if(Va)return t==="compositionend"||!$e&&qs(t,i)?(t=ll(),Ls=ol=Ir=null,Va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return kr&&i.locale!=="ko"?null:i.data;default:return null}}var nw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ty(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!nw[t.type]:i==="textarea"}function ny(t,i,a,l){ki?Cr?Cr.push(l):Cr=[l]:ki=l,i=eh(i,"onChange"),0<i.length&&(a=new Dr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var dl=null,fl=null;function rw(t){Lv(t,0)}function du(t){var i=xn(t);if(ks(i))return t}function ry(t,i){if(t==="change")return i}var iy=!1;if(Pn){var Gd;if(Pn){var $d="oninput"in document;if(!$d){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),$d=typeof sy.oninput=="function"}Gd=$d}else Gd=!1;iy=Gd&&(!document.documentMode||9<document.documentMode)}function ay(){dl&&(dl.detachEvent("onpropertychange",oy),fl=dl=null)}function oy(t){if(t.propertyName==="value"&&du(fl)){var i=[];ny(i,fl,t,Vn(t)),Mi(rw,i)}}function iw(t,i,a){t==="focusin"?(ay(),dl=i,fl=a,dl.attachEvent("onpropertychange",oy)):t==="focusout"&&ay()}function sw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(fl)}function aw(t,i){if(t==="click")return du(i)}function ow(t,i){if(t==="input"||t==="change")return du(i)}function lw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:lw;function ml(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!wt.call(i,d)||!Tn(t[d],i[d]))return!1}return!0}function ly(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cy(t,i){var a=ly(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ly(a)}}function uy(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?uy(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Nr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Nr(t.document)}return i}function Kd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cw=Pn&&"documentMode"in document&&11>=document.documentMode,Pa=null,Yd=null,pl=null,Qd=!1;function dy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qd||Pa==null||Pa!==Nr(l)||(l=Pa,"selectionStart"in l&&Kd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&ml(pl,l)||(pl=l,l=eh(Yd,"onSelect"),0<l.length&&(i=new Dr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Pa)))}function Hs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var La={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Xd={},fy={};Pn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Fs(t){if(Xd[t])return Xd[t];if(!La[t])return t;var i=La[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in fy)return Xd[t]=i[a];return t}var my=Fs("animationend"),py=Fs("animationiteration"),gy=Fs("animationstart"),uw=Fs("transitionrun"),hw=Fs("transitionstart"),dw=Fs("transitioncancel"),yy=Fs("transitionend"),vy=new Map,Jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jd.push("scrollEnd");function sr(t,i){vy.set(t,i),Ar(i,[t])}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Ua=0,Wd=0;function mu(){for(var t=Ua,i=Wd=Ua=0;i<t;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var d=Un[i];Un[i++]=null;var f=Un[i];if(Un[i++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&_y(a,d,f)}}function pu(t,i,a,l){Un[Ua++]=t,Un[Ua++]=i,Un[Ua++]=a,Un[Ua++]=l,Wd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zd(t,i,a,l){return pu(t,i,a,l),gu(t)}function Gs(t,i){return pu(t,null,null,i),gu(t)}function _y(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-_t(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function gu(t){if(50<Pl)throw Pl=0,cm=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var za={};function fw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,i,a,l){return new fw(t,i,a,l)}function ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jr(t,i){var a=t.alternate;return a===null?(a=wn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function by(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function yu(t,i,a,l,d,f){var _=0;if(l=t,typeof t=="function")ef(t)&&(_=1);else if(typeof t=="string")_=vS(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=wn(31,a,i,d),t.elementType=N,t.lanes=f,t;case q:return $s(a.children,d,f,i);case H:_=8,d|=24;break;case J:return t=wn(12,a,i,d|2),t.elementType=J,t.lanes=f,t;case K:return t=wn(13,a,i,d),t.elementType=K,t.lanes=f,t;case oe:return t=wn(19,a,i,d),t.elementType=oe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:_=10;break e;case k:_=9;break e;case ce:_=11;break e;case S:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=wn(_,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function $s(t,i,a,l){return t=wn(7,t,l,i),t.lanes=a,t}function tf(t,i,a){return t=wn(6,t,null,i),t.lanes=a,t}function xy(t){var i=wn(18,null,null,0);return i.stateNode=t,i}function nf(t,i,a){return i=wn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ey=new WeakMap;function zn(t,i){if(typeof t=="object"&&t!==null){var a=Ey.get(t);return a!==void 0?a:(i={value:t,source:i,stack:$o(i)},Ey.set(t,i),i)}return{value:t,source:i,stack:$o(i)}}var Ba=[],qa=0,vu=null,gl=0,Bn=[],qn=0,Ui=null,Mr=1,Vr="";function Wr(t,i){Ba[qa++]=gl,Ba[qa++]=vu,vu=t,gl=i}function Ty(t,i,a){Bn[qn++]=Mr,Bn[qn++]=Vr,Bn[qn++]=Ui,Ui=t;var l=Mr;t=Vr;var d=32-_t(l)-1;l&=~(1<<d),a+=1;var f=32-_t(i)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Mr=1<<32-_t(i)+d|a<<d|l,Vr=f+t}else Mr=1<<f|a<<d|l,Vr=t}function rf(t){t.return!==null&&(Wr(t,1),Ty(t,1,0))}function sf(t){for(;t===vu;)vu=Ba[--qa],Ba[qa]=null,gl=Ba[--qa],Ba[qa]=null;for(;t===Ui;)Ui=Bn[--qn],Bn[qn]=null,Vr=Bn[--qn],Bn[qn]=null,Mr=Bn[--qn],Bn[qn]=null}function wy(t,i){Bn[qn++]=Mr,Bn[qn++]=Vr,Bn[qn++]=Ui,Mr=i.id,Vr=i.overflow,Ui=t}var $t=null,it=null,Be=!1,zi=null,Hn=!1,af=Error(s(519));function Bi(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(zn(i,t)),af}function Sy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[zt]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Me(Ul[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Jc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),Oi(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||qv(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=er),i=!0):i=!1,i||Bi(t,!0)}function Ay(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:$t=$t.return}}function Ha(t){if(t!==$t)return!1;if(!Be)return Ay(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||wm(t.type,t.memoizedProps)),a=!a),a&&it&&Bi(t),Ay(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Jv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Jv(t)}else i===27?(i=it,ts(t.type)?(t=Cm,Cm=null,it=t):it=i):it=$t?Gn(t.stateNode.nextSibling):null;return!0}function Ks(){it=$t=null,Be=!1}function of(){var t=zi;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),zi=null),t}function yl(t){zi===null?zi=[t]:zi.push(t)}var lf=M(null),Ys=null,Zr=null;function qi(t,i,a){ae(lf,i._currentValue),i._currentValue=a}function ei(t){t._currentValue=lf.current,ee(lf)}function cf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function uf(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var O=0;O<i.length;O++)if(T.context===i[O]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),cf(f.return,a,t),l||(_=null);break e}f=T.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(s(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),cf(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Fa(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=d.type;Tn(d.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(d===qe.current){if(_=d.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Fl):t=[Fl])}d=d.return}t!==null&&uf(i,t,a,l),i.flags|=262144}function _u(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){Ys=t,Zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Ry(Ys,t)}function bu(t,i){return Ys===null&&Qs(t),Ry(t,i)}function Ry(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zr===null){if(t===null)throw Error(s(308));Zr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zr=Zr.next=i;return a}var mw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},pw=r.unstable_scheduleCallback,gw=r.unstable_NormalPriority,Ct={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new mw,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&pw(gw,function(){t.controller.abort()})}var _l=null,df=0,Ga=0,$a=null;function yw(t,i){if(_l===null){var a=_l=[];df=0,Ga=pm(),$a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return df++,i.then(Ny,Ny),i}function Ny(){if(--df===0&&_l!==null){$a!==null&&($a.status="fulfilled");var t=_l;_l=null,Ga=0,$a=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function vw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Cy=D.S;D.S=function(t,i){dv=an(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&yw(t,i),Cy!==null&&Cy(t,i)};var Xs=M(null);function ff(){var t=Xs.current;return t!==null?t:nt.pooledCache}function xu(t,i){i===null?ae(Xs,Xs.current):ae(Xs,i.pool)}function Iy(){var t=ff();return t===null?null:{parent:Ct._currentValue,pool:t}}var Ka=Error(s(460)),mf=Error(s(474)),Eu=Error(s(542)),Tu={then:function(){}};function Dy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Oy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(er,er),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ky(t),t;default:if(typeof i.status=="string")i.then(er,er);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ky(t),t}throw Ws=i,Ka}}function Js(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ws=a,Ka):a}}var Ws=null;function jy(){if(Ws===null)throw Error(s(459));var t=Ws;return Ws=null,t}function ky(t){if(t===Ka||t===Eu)throw Error(s(483))}var Ya=null,bl=0;function wu(t){var i=bl;return bl+=1,Ya===null&&(Ya=[]),Oy(Ya,t,i)}function xl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Su(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function My(t){function i(z,V){if(t){var G=z.deletions;G===null?(z.deletions=[V],z.flags|=16):G.push(V)}}function a(z,V){if(!t)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function l(z){for(var V=new Map;z!==null;)z.key!==null?V.set(z.key,z):V.set(z.index,z),z=z.sibling;return V}function d(z,V){return z=Jr(z,V),z.index=0,z.sibling=null,z}function f(z,V,G){return z.index=G,t?(G=z.alternate,G!==null?(G=G.index,G<V?(z.flags|=67108866,V):G):(z.flags|=67108866,V)):(z.flags|=1048576,V)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,V,G,te){return V===null||V.tag!==6?(V=tf(G,z.mode,te),V.return=z,V):(V=d(V,G),V.return=z,V)}function O(z,V,G,te){var ye=G.type;return ye===q?W(z,V,G.props.children,te,G.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Js(ye)===V.type)?(V=d(V,G.props),xl(V,G),V.return=z,V):(V=yu(G.type,G.key,G.props,null,z.mode,te),xl(V,G),V.return=z,V)}function $(z,V,G,te){return V===null||V.tag!==4||V.stateNode.containerInfo!==G.containerInfo||V.stateNode.implementation!==G.implementation?(V=nf(G,z.mode,te),V.return=z,V):(V=d(V,G.children||[]),V.return=z,V)}function W(z,V,G,te,ye){return V===null||V.tag!==7?(V=$s(G,z.mode,te,ye),V.return=z,V):(V=d(V,G),V.return=z,V)}function re(z,V,G){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=tf(""+V,z.mode,G),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case I:return G=yu(V.type,V.key,V.props,null,z.mode,G),xl(G,V),G.return=z,G;case U:return V=nf(V,z.mode,G),V.return=z,V;case R:return V=Js(V),re(z,V,G)}if(ot(V)||B(V))return V=$s(V,z.mode,G,null),V.return=z,V;if(typeof V.then=="function")return re(z,wu(V),G);if(V.$$typeof===Z)return re(z,bu(z,V),G);Su(z,V)}return null}function Y(z,V,G,te){var ye=V!==null?V.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ye!==null?null:T(z,V,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case I:return G.key===ye?O(z,V,G,te):null;case U:return G.key===ye?$(z,V,G,te):null;case R:return G=Js(G),Y(z,V,G,te)}if(ot(G)||B(G))return ye!==null?null:W(z,V,G,te,null);if(typeof G.then=="function")return Y(z,V,wu(G),te);if(G.$$typeof===Z)return Y(z,V,bu(z,G),te);Su(z,G)}return null}function X(z,V,G,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(G)||null,T(V,z,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case I:return z=z.get(te.key===null?G:te.key)||null,O(V,z,te,ye);case U:return z=z.get(te.key===null?G:te.key)||null,$(V,z,te,ye);case R:return te=Js(te),X(z,V,G,te,ye)}if(ot(te)||B(te))return z=z.get(G)||null,W(V,z,te,ye,null);if(typeof te.then=="function")return X(z,V,G,wu(te),ye);if(te.$$typeof===Z)return X(z,V,G,bu(V,te),ye);Su(V,te)}return null}function me(z,V,G,te){for(var ye=null,Fe=null,pe=V,Oe=V=0,Pe=null;pe!==null&&Oe<G.length;Oe++){pe.index>Oe?(Pe=pe,pe=null):Pe=pe.sibling;var Ge=Y(z,pe,G[Oe],te);if(Ge===null){pe===null&&(pe=Pe);break}t&&pe&&Ge.alternate===null&&i(z,pe),V=f(Ge,V,Oe),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge,pe=Pe}if(Oe===G.length)return a(z,pe),Be&&Wr(z,Oe),ye;if(pe===null){for(;Oe<G.length;Oe++)pe=re(z,G[Oe],te),pe!==null&&(V=f(pe,V,Oe),Fe===null?ye=pe:Fe.sibling=pe,Fe=pe);return Be&&Wr(z,Oe),ye}for(pe=l(pe);Oe<G.length;Oe++)Pe=X(pe,z,Oe,G[Oe],te),Pe!==null&&(t&&Pe.alternate!==null&&pe.delete(Pe.key===null?Oe:Pe.key),V=f(Pe,V,Oe),Fe===null?ye=Pe:Fe.sibling=Pe,Fe=Pe);return t&&pe.forEach(function(as){return i(z,as)}),Be&&Wr(z,Oe),ye}function be(z,V,G,te){if(G==null)throw Error(s(151));for(var ye=null,Fe=null,pe=V,Oe=V=0,Pe=null,Ge=G.next();pe!==null&&!Ge.done;Oe++,Ge=G.next()){pe.index>Oe?(Pe=pe,pe=null):Pe=pe.sibling;var as=Y(z,pe,Ge.value,te);if(as===null){pe===null&&(pe=Pe);break}t&&pe&&as.alternate===null&&i(z,pe),V=f(as,V,Oe),Fe===null?ye=as:Fe.sibling=as,Fe=as,pe=Pe}if(Ge.done)return a(z,pe),Be&&Wr(z,Oe),ye;if(pe===null){for(;!Ge.done;Oe++,Ge=G.next())Ge=re(z,Ge.value,te),Ge!==null&&(V=f(Ge,V,Oe),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&Wr(z,Oe),ye}for(pe=l(pe);!Ge.done;Oe++,Ge=G.next())Ge=X(pe,z,Oe,Ge.value,te),Ge!==null&&(t&&Ge.alternate!==null&&pe.delete(Ge.key===null?Oe:Ge.key),V=f(Ge,V,Oe),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return t&&pe.forEach(function(CS){return i(z,CS)}),Be&&Wr(z,Oe),ye}function tt(z,V,G,te){if(typeof G=="object"&&G!==null&&G.type===q&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case I:e:{for(var ye=G.key;V!==null;){if(V.key===ye){if(ye=G.type,ye===q){if(V.tag===7){a(z,V.sibling),te=d(V,G.props.children),te.return=z,z=te;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Js(ye)===V.type){a(z,V.sibling),te=d(V,G.props),xl(te,G),te.return=z,z=te;break e}a(z,V);break}else i(z,V);V=V.sibling}G.type===q?(te=$s(G.props.children,z.mode,te,G.key),te.return=z,z=te):(te=yu(G.type,G.key,G.props,null,z.mode,te),xl(te,G),te.return=z,z=te)}return _(z);case U:e:{for(ye=G.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===G.containerInfo&&V.stateNode.implementation===G.implementation){a(z,V.sibling),te=d(V,G.children||[]),te.return=z,z=te;break e}else{a(z,V);break}else i(z,V);V=V.sibling}te=nf(G,z.mode,te),te.return=z,z=te}return _(z);case R:return G=Js(G),tt(z,V,G,te)}if(ot(G))return me(z,V,G,te);if(B(G)){if(ye=B(G),typeof ye!="function")throw Error(s(150));return G=ye.call(G),be(z,V,G,te)}if(typeof G.then=="function")return tt(z,V,wu(G),te);if(G.$$typeof===Z)return tt(z,V,bu(z,G),te);Su(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,V!==null&&V.tag===6?(a(z,V.sibling),te=d(V,G),te.return=z,z=te):(a(z,V),te=tf(G,z.mode,te),te.return=z,z=te),_(z)):a(z,V)}return function(z,V,G,te){try{bl=0;var ye=tt(z,V,G,te);return Ya=null,ye}catch(pe){if(pe===Ka||pe===Eu)throw pe;var Fe=wn(29,pe,null,z.mode);return Fe.lanes=te,Fe.return=z,Fe}}}var Zs=My(!0),Vy=My(!1),Hi=!1;function pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gi(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=gu(t),_y(t,null,a),i}return pu(t,l,i,a),gu(t)}function El(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Qo(t,a)}}function yf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var vf=!1;function Tl(){if(vf){var t=$a;if(t!==null)throw t}}function wl(t,i,a,l){vf=!1;var d=t.updateQueue;Hi=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var O=T,$=O.next;O.next=null,_===null?f=$:_.next=$,_=O;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=$:T.next=$,W.lastBaseUpdate=O))}if(f!==null){var re=d.baseState;_=0,W=$=O=null,T=f;do{var Y=T.lane&-536870913,X=Y!==T.lane;if(X?(Ve&Y)===Y:(l&Y)===Y){Y!==0&&Y===Ga&&(vf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,be=T;Y=i;var tt=a;switch(be.tag){case 1:if(me=be.payload,typeof me=="function"){re=me.call(tt,re,Y);break e}re=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=be.payload,Y=typeof me=="function"?me.call(tt,re,Y):me,Y==null)break e;re=E({},re,Y);break e;case 2:Hi=!0}}Y=T.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?($=W=X,O=re):W=W.next=X,_|=Y;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;X=T,T=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);W===null&&(O=re),d.baseState=O,d.firstBaseUpdate=$,d.lastBaseUpdate=W,f===null&&(d.shared.lanes=0),Xi|=_,t.lanes=_,t.memoizedState=re}}function Py(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ly(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Py(a[t],i)}var Qa=M(null),Au=M(0);function Uy(t,i){t=ci,ae(Au,t),ae(Qa,i),ci=t|i.baseLanes}function _f(){ae(Au,ci),ae(Qa,Qa.current)}function bf(){ci=Au.current,ee(Qa),ee(Au)}var Sn=M(null),Fn=null;function $i(t){var i=t.alternate;ae(xt,xt.current&1),ae(Sn,t),Fn===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Fn=t)}function xf(t){ae(xt,xt.current),ae(Sn,t),Fn===null&&(Fn=t)}function zy(t){t.tag===22?(ae(xt,xt.current),ae(Sn,t),Fn===null&&(Fn=t)):Ki()}function Ki(){ae(xt,xt.current),ae(Sn,Sn.current)}function An(t){ee(Sn),Fn===t&&(Fn=null),ee(xt)}var xt=M(0);function Ru(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rm(a)||Nm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ti=0,Ie=null,Ze=null,It=null,Nu=!1,Xa=!1,ea=!1,Cu=0,Sl=0,Ja=null,_w=0;function pt(){throw Error(s(321))}function Ef(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Tn(t[a],i[a]))return!1;return!0}function Tf(t,i,a,l,d,f){return ti=f,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,D.H=t===null||t.memoizedState===null?T0:Lf,ea=!1,f=a(l,d),ea=!1,Xa&&(f=qy(i,a,l,d)),By(t),f}function By(t){D.H=Nl;var i=Ze!==null&&Ze.next!==null;if(ti=0,It=Ze=Ie=null,Nu=!1,Sl=0,Ja=null,i)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&_u(t)&&(Dt=!0))}function qy(t,i,a,l){Ie=t;var d=0;do{if(Xa&&(Ja=null),Sl=0,Xa=!1,25<=d)throw Error(s(301));if(d+=1,It=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}D.H=w0,f=i(a,l)}while(Xa);return f}function bw(){var t=D.H,i=t.useState()[0];return i=typeof i.then=="function"?Al(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ie.flags|=1024),i}function wf(){var t=Cu!==0;return Cu=0,t}function Sf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Af(t){if(Nu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Nu=!1}ti=0,It=Ze=Ie=null,Xa=!1,Sl=Cu=0,Ja=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ie.memoizedState=It=t:It=It.next=t,It}function Et(){if(Ze===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=It===null?Ie.memoizedState:It.next;if(i!==null)It=i,Ze=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},It===null?Ie.memoizedState=It=t:It=It.next=t}return It}function Iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var i=Sl;return Sl+=1,Ja===null&&(Ja=[]),t=Oy(Ja,t,i),i=Ie,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,D.H=i===null||i.memoizedState===null?T0:Lf),t}function Du(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===Z)return Kt(t)}throw Error(s(438,String(t)))}function Rf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Iu(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=L;return i.index++,a}function ni(t,i){return typeof i=="function"?i(t):i}function Ou(t){var i=Et();return Nf(i,Ze,t)}function Nf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var T=_=null,O=null,$=i,W=!1;do{var re=$.lane&-536870913;if(re!==$.lane?(Ve&re)===re:(ti&re)===re){var Y=$.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),re===Ga&&(W=!0);else if((ti&Y)===Y){$=$.next,Y===Ga&&(W=!0);continue}else re={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(T=O=re,_=f):O=O.next=re,Ie.lanes|=Y,Xi|=Y;re=$.action,ea&&a(f,re),f=$.hasEagerState?$.eagerState:a(f,re)}else Y={lane:re,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(T=O=Y,_=f):O=O.next=Y,Ie.lanes|=re,Xi|=re;$=$.next}while($!==null&&$!==i);if(O===null?_=f:O.next=T,!Tn(f,t.memoizedState)&&(Dt=!0,W&&(a=$a,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=O,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cf(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);Tn(f,i.memoizedState)||(Dt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Hy(t,i,a){var l=Ie,d=Et(),f=Be;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Tn((Ze||d).memoizedState,a);if(_&&(d.memoizedState=a,Dt=!0),d=d.queue,Of($y.bind(null,l,d,t),[t]),d.getSnapshot!==i||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Wa(9,{destroy:void 0},Gy.bind(null,l,d,a,i),null),nt===null)throw Error(s(349));f||(ti&127)!==0||Fy(l,i,a)}return a}function Fy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Iu(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Gy(t,i,a,l){i.value=a,i.getSnapshot=l,Ky(i)&&Yy(t)}function $y(t,i,a){return a(function(){Ky(i)&&Yy(t)})}function Ky(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Tn(t,a)}catch{return!0}}function Yy(t){var i=Gs(t,2);i!==null&&vn(i,t,2)}function If(t){var i=ln();if(typeof t=="function"){var a=t;if(t=a(),ea){kn(!0);try{a()}finally{kn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:t},i}function Qy(t,i,a,l){return t.baseState=a,Nf(t,Ze,typeof l=="function"?l:ni)}function xw(t,i,a,l,d){if(Mu(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};D.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,Xy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Xy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=D.T,_={};D.T=_;try{var T=a(d,l),O=D.S;O!==null&&O(_,T),Jy(t,i,T)}catch($){Df(t,i,$)}finally{f!==null&&_.types!==null&&(f.types=_.types),D.T=f}}else try{f=a(d,l),Jy(t,i,f)}catch($){Df(t,i,$)}}function Jy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wy(t,i,l)},function(l){return Df(t,i,l)}):Wy(t,i,a)}function Wy(t,i,a){i.status="fulfilled",i.value=a,Zy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Xy(t,a)))}function Df(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Zy(i),i=i.next;while(i!==l)}t.action=null}function Zy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function e0(t,i){return i}function t0(t,i){if(Be){var a=nt.formState;if(a!==null){e:{var l=Ie;if(Be){if(it){t:{for(var d=it,f=Hn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Gn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){it=Gn(d.nextSibling),l=d.data==="F!";break e}}Bi(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e0,lastRenderedState:i},a.queue=l,a=b0.bind(null,Ie,l),l.dispatch=a,l=If(!1),f=Pf.bind(null,Ie,!1,l.queue),l=ln(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=xw.bind(null,Ie,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function n0(t){var i=Et();return r0(i,Ze,t)}function r0(t,i,a){if(i=Nf(t,i,e0)[0],t=Ou(ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Al(i)}catch(_){throw _===Ka?Eu:_}else l=i;i=Et();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Wa(9,{destroy:void 0},Ew.bind(null,d,a),null)),[l,f,t]}function Ew(t,i){t.action=i}function i0(t){var i=Et(),a=Ze;if(a!==null)return r0(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Wa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Iu(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function s0(){return Et().memoizedState}function ju(t,i,a,l){var d=ln();Ie.flags|=t,d.memoizedState=Wa(1|i,{destroy:void 0},a,l===void 0?null:l)}function ku(t,i,a,l){var d=Et();l=l===void 0?null:l;var f=d.memoizedState.inst;Ze!==null&&l!==null&&Ef(l,Ze.memoizedState.deps)?d.memoizedState=Wa(i,f,a,l):(Ie.flags|=t,d.memoizedState=Wa(1|i,f,a,l))}function a0(t,i){ju(8390656,8,t,i)}function Of(t,i){ku(2048,8,t,i)}function Tw(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Iu(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function o0(t){var i=Et().memoizedState;return Tw({ref:i,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function l0(t,i){return ku(4,2,t,i)}function c0(t,i){return ku(4,4,t,i)}function u0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function h0(t,i,a){a=a!=null?a.concat([t]):null,ku(4,4,u0.bind(null,i,t),a)}function jf(){}function d0(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ef(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function f0(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ef(i,l[1]))return l[0];if(l=t(),ea){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l}function kf(t,i,a){return a===void 0||(ti&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=mv(),Ie.lanes|=t,Xi|=t,a)}function m0(t,i,a,l){return Tn(a,i)?a:Qa.current!==null?(t=kf(t,a,l),Tn(t,i)||(Dt=!0),t):(ti&42)===0||(ti&1073741824)!==0&&(Ve&261930)===0?(Dt=!0,t.memoizedState=a):(t=mv(),Ie.lanes|=t,Xi|=t,i)}function p0(t,i,a,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var _=D.T,T={};D.T=T,Pf(t,!1,i,a);try{var O=d(),$=D.S;if($!==null&&$(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=vw(O,l);Rl(t,i,W,Cn(t))}else Rl(t,i,l,Cn(t))}catch(re){Rl(t,i,{then:function(){},status:"rejected",reason:re},Cn())}finally{se.p=f,_!==null&&T.types!==null&&(_.types=T.types),D.T=_}}function ww(){}function Mf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=g0(t).queue;p0(t,d,i,he,a===null?ww:function(){return y0(t),a(l)})}function g0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function y0(t){var i=g0(t);i.next===null&&(i=t.alternate.memoizedState),Rl(t,i.next.queue,{},Cn())}function Vf(){return Kt(Fl)}function v0(){return Et().memoizedState}function _0(){return Et().memoizedState}function Sw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();t=Fi(a);var l=Gi(i,t,a);l!==null&&(vn(l,i,a),El(l,i,a)),i={cache:hf()},t.payload=i;return}i=i.return}}function Aw(t,i,a){var l=Cn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mu(t)?x0(i,a):(a=Zd(t,i,a,l),a!==null&&(vn(a,t,l),E0(a,i,l)))}function b0(t,i,a){var l=Cn();Rl(t,i,a,l)}function Rl(t,i,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))x0(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var _=i.lastRenderedState,T=f(_,a);if(d.hasEagerState=!0,d.eagerState=T,Tn(T,_))return pu(t,i,d,0),nt===null&&mu(),!1}catch{}if(a=Zd(t,i,d,l),a!==null)return vn(a,t,l),E0(a,i,l),!0}return!1}function Pf(t,i,a,l){if(l={lane:2,revertLane:pm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mu(t)){if(i)throw Error(s(479))}else i=Zd(t,a,l,2),i!==null&&vn(i,t,2)}function Mu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function x0(t,i){Xa=Nu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function E0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Qo(t,a)}}var Nl={readContext:Kt,use:Du,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};Nl.useEffectEvent=pt;var T0={readContext:Kt,use:Du,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:a0,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ju(4194308,4,u0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ju(4194308,4,t,i)},useInsertionEffect:function(t,i){ju(4,2,t,i)},useMemo:function(t,i){var a=ln();i=i===void 0?null:i;var l=t();if(ea){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=ln();if(a!==void 0){var d=a(i);if(ea){kn(!0);try{a(i)}finally{kn(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Aw.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=If(t);var i=t.queue,a=b0.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:jf,useDeferredValue:function(t,i){var a=ln();return kf(a,t,i)},useTransition:function(){var t=If(!1);return t=p0.bind(null,Ie,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,d=ln();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ve&127)!==0||Fy(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,a0($y.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,{destroy:void 0},Gy.bind(null,l,f,a,i),null),a},useId:function(){var t=ln(),i=nt.identifierPrefix;if(Be){var a=Vr,l=Mr;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Cu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=_w++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Vf,useFormState:t0,useActionState:t0,useOptimistic:function(t){var i=ln();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Pf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Rf,useCacheRefresh:function(){return ln().memoizedState=Sw.bind(null,Ie)},useEffectEvent:function(t){var i=ln(),a={impl:t};return i.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:Kt,use:Du,useCallback:d0,useContext:Kt,useEffect:Of,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:c0,useMemo:f0,useReducer:Ou,useRef:s0,useState:function(){return Ou(ni)},useDebugValue:jf,useDeferredValue:function(t,i){var a=Et();return m0(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Ou(ni)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:Hy,useId:v0,useHostTransitionStatus:Vf,useFormState:n0,useActionState:n0,useOptimistic:function(t,i){var a=Et();return Qy(a,Ze,t,i)},useMemoCache:Rf,useCacheRefresh:_0};Lf.useEffectEvent=o0;var w0={readContext:Kt,use:Du,useCallback:d0,useContext:Kt,useEffect:Of,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:c0,useMemo:f0,useReducer:Cf,useRef:s0,useState:function(){return Cf(ni)},useDebugValue:jf,useDeferredValue:function(t,i){var a=Et();return Ze===null?kf(a,t,i):m0(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Cf(ni)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:Hy,useId:v0,useHostTransitionStatus:Vf,useFormState:i0,useActionState:i0,useOptimistic:function(t,i){var a=Et();return Ze!==null?Qy(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:_0};w0.useEffectEvent=o0;function Uf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var zf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Cn(),d=Fi(l);d.payload=i,a!=null&&(d.callback=a),i=Gi(t,d,l),i!==null&&(vn(i,t,l),El(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Cn(),d=Fi(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=Gi(t,d,l),i!==null&&(vn(i,t,l),El(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Cn(),l=Fi(a);l.tag=2,i!=null&&(l.callback=i),i=Gi(t,l,a),i!==null&&(vn(i,t,a),El(i,t,a))}};function S0(t,i,a,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):i.prototype&&i.prototype.isPureReactComponent?!ml(a,l)||!ml(d,f):!0}function A0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&zf.enqueueReplaceState(i,i.state,null)}function ta(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function R0(t){fu(t)}function N0(t){console.error(t)}function C0(t){fu(t)}function Vu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function I0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Bf(t,i,a){return a=Fi(a),a.tag=3,a.payload={element:null},a.callback=function(){Vu(t,i)},a}function D0(t){return t=Fi(t),t.tag=3,t}function O0(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){I0(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){I0(i,a,l),typeof d!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Rw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fa(i,a,d,!0),a=Sn.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Yu():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===Tu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),dm(t,l,d)),!1;case 22:return a.flags|=65536,l===Tu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),dm(t,l,d)),!1}throw Error(s(435,a.tag))}return dm(t,l,d),Yu(),!1}if(Be)return i=Sn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==af&&(t=Error(s(422),{cause:l}),yl(zn(t,a)))):(l!==af&&(i=Error(s(423),{cause:l}),yl(zn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=zn(l,a),d=Bf(t.stateNode,l,d),yf(t,d),gt!==4&&(gt=2)),!1;var f=Error(s(520),{cause:l});if(f=zn(f,a),Vl===null?Vl=[f]:Vl.push(f),gt!==4&&(gt=2),i===null)return!0;l=zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Bf(a.stateNode,l,t),yf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=D0(d),O0(d,t,a,l),yf(a,d),!1}a=a.return}while(a!==null);return!1}var qf=Error(s(461)),Dt=!1;function Yt(t,i,a,l){i.child=t===null?Vy(i,null,a,l):Zs(i,t.child,a,l)}function j0(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Qs(i),l=Tf(t,i,a,_,f,d),T=wf(),t!==null&&!Dt?(Sf(t,i,d),ri(t,i,d)):(Be&&T&&rf(i),i.flags|=1,Yt(t,i,l,d),i.child)}function k0(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,M0(t,i,f,l,d)):(t=yu(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Xf(t,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(_,l)&&t.ref===i.ref)return ri(t,i,d)}return i.flags|=1,t=Jr(f,l),t.ref=i.ref,t.return=i,i.child=t}function M0(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(ml(f,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=f,Xf(t,d))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,ri(t,i,d)}return Hf(t,i,a,l,d)}function V0(t,i,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=i.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,i.child=null;return P0(t,i,f,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&xu(i,f!==null?f.cachePool:null),f!==null?Uy(i,f):_f(),zy(i);else return l=i.lanes=536870912,P0(t,i,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(xu(i,f.cachePool),Uy(i,f),Ki(),i.memoizedState=null):(t!==null&&xu(i,null),_f(),Ki());return Yt(t,i,d,a),i.child}function Cl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function P0(t,i,a,l,d){var f=ff();return f=f===null?null:{parent:Ct._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&xu(i,null),_f(),zy(i),t!==null&&Fa(t,i,l,!0),i.childLanes=d,null}function Pu(t,i){return i=Uu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function L0(t,i,a){return Zs(i,t.child,null,a),t=Pu(i,i.pendingProps),t.flags|=2,An(i),i.memoizedState=null,t}function Nw(t,i,a){var l=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Pu(i,l),i.lanes=536870912,Cl(null,t);if(xf(i),(t=it)?(t=Xv(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ui!==null?{id:Mr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},a=xy(t),a.return=i,i.child=a,$t=i,it=null)):t=null,t===null)throw Bi(i);return i.lanes=536870912,null}return Pu(i,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(xf(i),d)if(i.flags&256)i.flags&=-257,i=L0(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Dt||Fa(t,i,a,!1),d=(a&t.childLanes)!==0,Dt||d){if(l=nt,l!==null&&(_=Xo(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Gs(t,_),vn(l,t,_),qf;Yu(),i=L0(t,i,a)}else t=f.treeContext,it=Gn(_.nextSibling),$t=i,Be=!0,zi=null,Hn=!1,t!==null&&wy(i,t),i=Pu(i,l),i.flags|=4096;return i}return t=Jr(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Lu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Hf(t,i,a,l,d){return Qs(i),a=Tf(t,i,a,l,void 0,d),l=wf(),t!==null&&!Dt?(Sf(t,i,d),ri(t,i,d)):(Be&&l&&rf(i),i.flags|=1,Yt(t,i,a,d),i.child)}function U0(t,i,a,l,d,f){return Qs(i),i.updateQueue=null,a=qy(i,l,a,d),By(t),l=wf(),t!==null&&!Dt?(Sf(t,i,f),ri(t,i,f)):(Be&&l&&rf(i),i.flags|=1,Yt(t,i,a,f),i.child)}function z0(t,i,a,l,d){if(Qs(i),i.stateNode===null){var f=za,_=a.contextType;typeof _=="object"&&_!==null&&(f=Kt(_)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},pf(i),_=a.contextType,f.context=typeof _=="object"&&_!==null?Kt(_):za,f.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Uf(i,a,_,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&zf.enqueueReplaceState(f,f.state,null),wl(i,l,f,d),Tl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,O=ta(a,T);f.props=O;var $=f.context,W=a.contextType;_=za,typeof W=="object"&&W!==null&&(_=Kt(W));var re=a.getDerivedStateFromProps;W=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||$!==_)&&A0(i,f,l,_),Hi=!1;var Y=i.memoizedState;f.state=Y,wl(i,l,f,d),Tl(),$=i.memoizedState,T||Y!==$||Hi?(typeof re=="function"&&(Uf(i,a,re,l),$=i.memoizedState),(O=Hi||S0(i,a,O,l,Y,$,_))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=$),f.props=l,f.state=$,f.context=_,l=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,gf(t,i),_=i.memoizedProps,W=ta(a,_),f.props=W,re=i.pendingProps,Y=f.context,$=a.contextType,O=za,typeof $=="object"&&$!==null&&(O=Kt($)),T=a.getDerivedStateFromProps,($=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==re||Y!==O)&&A0(i,f,l,O),Hi=!1,Y=i.memoizedState,f.state=Y,wl(i,l,f,d),Tl();var X=i.memoizedState;_!==re||Y!==X||Hi||t!==null&&t.dependencies!==null&&_u(t.dependencies)?(typeof T=="function"&&(Uf(i,a,T,l),X=i.memoizedState),(W=Hi||S0(i,a,W,l,Y,X,O)||t!==null&&t.dependencies!==null&&_u(t.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),f.props=l,f.state=X,f.context=O,l=W):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Lu(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Zs(i,t.child,null,d),i.child=Zs(i,null,a,d)):Yt(t,i,a,d),i.memoizedState=f.state,t=i.child):t=ri(t,i,d),t}function B0(t,i,a,l){return Ks(),i.flags|=256,Yt(t,i,a,l),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:Iy()}}function $f(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function q0(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),_&&(d=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(d?$i(i):Ki(),(t=it)?(t=Xv(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ui!==null?{id:Mr,overflow:Vr}:null,retryLane:536870912,hydrationErrors:null},a=xy(t),a.return=i,i.child=a,$t=i,it=null)):t=null,t===null)throw Bi(i);return Nm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,d?(Ki(),d=i.mode,T=Uu({mode:"hidden",children:T},d),l=$s(l,d,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Gf(a),l.childLanes=$f(t,_,a),i.memoizedState=Ff,Cl(null,l)):($i(i),Kf(i,T))}var O=t.memoizedState;if(O!==null&&(T=O.dehydrated,T!==null)){if(f)i.flags&256?($i(i),i.flags&=-257,i=Yf(t,i,a)):i.memoizedState!==null?(Ki(),i.child=t.child,i.flags|=128,i=null):(Ki(),T=l.fallback,d=i.mode,l=Uu({mode:"visible",children:l.children},d),T=$s(T,d,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Zs(i,t.child,null,a),l=i.child,l.memoizedState=Gf(a),l.childLanes=$f(t,_,a),i.memoizedState=Ff,i=Cl(null,l));else if($i(i),Nm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var $=_.dgst;_=$,l=Error(s(419)),l.stack="",l.digest=_,yl({value:l,source:null,stack:null}),i=Yf(t,i,a)}else if(Dt||Fa(t,i,a,!1),_=(a&t.childLanes)!==0,Dt||_){if(_=nt,_!==null&&(l=Xo(_,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Gs(t,l),vn(_,t,l),qf;Rm(T)||Yu(),i=Yf(t,i,a)}else Rm(T)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,it=Gn(T.nextSibling),$t=i,Be=!0,zi=null,Hn=!1,t!==null&&wy(i,t),i=Kf(i,l.children),i.flags|=4096);return i}return d?(Ki(),T=l.fallback,d=i.mode,O=t.child,$=O.sibling,l=Jr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,$!==null?T=Jr($,T):(T=$s(T,d,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,Cl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Gf(a):(d=T.cachePool,d!==null?(O=Ct._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=Iy(),T={baseLanes:T.baseLanes|a,cachePool:d}),l.memoizedState=T,l.childLanes=$f(t,_,a),i.memoizedState=Ff,Cl(t.child,l)):($i(i),a=t.child,t=a.sibling,a=Jr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Kf(t,i){return i=Uu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Uu(t,i){return t=wn(22,t,null,i),t.lanes=0,t}function Yf(t,i,a){return Zs(i,t.child,null,a),t=Kf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function H0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),cf(t.return,i,a)}function Qf(t,i,a,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function F0(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=xt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,ae(xt,_),Yt(t,i,l,a),l=Be?gl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&H0(t,a,i);else if(t.tag===19)H0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Ru(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Qf(i,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Ru(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Qf(i,!0,a,null,f,l);break;case"together":Qf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ri(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Xi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Fa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Jr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Jr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Xf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&_u(t)))}function Cw(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),qi(i,Ct,t.memoizedState.cache),Ks();break;case 27:case 5:Rs(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:qi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?($i(i),i.flags|=128,null):(a&i.child.childLanes)!==0?q0(t,i,a):($i(i),t=ri(t,i,a),t!==null?t.sibling:null);$i(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fa(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return F0(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(xt,xt.current),l)break;return null;case 22:return i.lanes=0,V0(t,i,a,i.pendingProps);case 24:qi(i,Ct,t.memoizedState.cache)}return ri(t,i,a)}function G0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!Xf(t,a)&&(i.flags&128)===0)return Dt=!1,Cw(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,Be&&(i.flags&1048576)!==0&&Ty(i,gl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Js(i.elementType),i.type=t,typeof t=="function")ef(t)?(l=ta(t,l),i.tag=1,i=z0(null,i,t,l,a)):(i.tag=0,i=Hf(null,i,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===ce){i.tag=11,i=j0(null,i,t,l,a);break e}else if(d===S){i.tag=14,i=k0(null,i,t,l,a);break e}}throw i=je(t)||t,Error(s(306,i,""))}}return i;case 0:return Hf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=ta(l,i.pendingProps),z0(t,i,l,d,a);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,gf(t,i),wl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,qi(i,Ct,l),l!==f.cache&&uf(i,[Ct],a,!0),Tl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=B0(t,i,l,a);break e}else if(l!==d){d=zn(Error(s(424)),i),yl(d),i=B0(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,it=Gn(t.firstChild),$t=i,Be=!0,zi=null,Hn=!0,a=Vy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ks(),l===d){i=ri(t,i,a);break e}Yt(t,i,l,a)}i=i.child}return i;case 26:return Lu(t,i),t===null?(a=n_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=th(De.current).createElement(a),l[At]=i,l[zt]=t,Qt(l,a,t),Rt(l),i.stateNode=l):i.memoizedState=n_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Rs(i),t===null&&Be&&(l=i.stateNode=Zv(i.type,i.pendingProps,De.current),$t=i,Hn=!0,d=it,ts(i.type)?(Cm=d,it=Gn(l.firstChild)):it=d),Yt(t,i,i.pendingProps.children,a),Lu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((d=l=it)&&(l=sS(l,i.type,i.pendingProps,Hn),l!==null?(i.stateNode=l,$t=i,it=Gn(l.firstChild),Hn=!1,d=!0):d=!1),d||Bi(i)),Rs(i),d=i.type,f=i.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,wm(d,f)?l=null:_!==null&&wm(d,_)&&(i.flags|=32),i.memoizedState!==null&&(d=Tf(t,i,bw,null,null,a),Fl._currentValue=d),Lu(t,i),Yt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=it)&&(a=aS(a,i.pendingProps,Hn),a!==null?(i.stateNode=a,$t=i,it=null,t=!0):t=!1),t||Bi(i)),null;case 13:return q0(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Zs(i,null,l,a):Yt(t,i,l,a),i.child;case 11:return j0(t,i,i.type,i.pendingProps,a);case 7:return Yt(t,i,i.pendingProps,a),i.child;case 8:return Yt(t,i,i.pendingProps.children,a),i.child;case 12:return Yt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,qi(i,i.type,l.value),Yt(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Qs(i),d=Kt(d),l=l(d),i.flags|=1,Yt(t,i,l,a),i.child;case 14:return k0(t,i,i.type,i.pendingProps,a);case 15:return M0(t,i,i.type,i.pendingProps,a);case 19:return F0(t,i,a);case 31:return Nw(t,i,a);case 22:return V0(t,i,a,i.pendingProps);case 24:return Qs(i),l=Kt(Ct),t===null?(d=ff(),d===null&&(d=nt,f=hf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},pf(i),qi(i,Ct,d)):((t.lanes&a)!==0&&(gf(t,i),wl(i,null,null,a),Tl()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),qi(i,Ct,l)):(l=f.cache,qi(i,Ct,l),l!==d.cache&&uf(i,[Ct],a,!0))),Yt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ii(t){t.flags|=4}function Jf(t,i,a,l,d){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(vv())t.flags|=8192;else throw Ws=Tu,mf}else t.flags&=-16777217}function $0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!o_(i))if(vv())t.flags|=8192;else throw Ws=Tu,mf}function zu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?$c():536870912,t.lanes|=i,no|=i)}function Il(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Iw(t,i,a){var l=i.pendingProps;switch(sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ei(Ct),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(i)?ii(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,of())),st(i),null;case 26:var d=i.type,f=i.memoizedState;return t===null?(ii(i),f!==null?(st(i),$0(i,f)):(st(i),Jf(i,d,null,l,a))):f?f!==t.memoizedState?(ii(i),st(i),$0(i,f)):(st(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ii(i),st(i),Jf(i,d,t,l,a)),null;case 27:if(xa(i),a=De.current,d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ii(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=fe.current,Ha(i)?Sy(i):(t=Zv(d,l,a),i.stateNode=t,ii(i))}return st(i),null;case 5:if(xa(i),d=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ii(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(f=fe.current,Ha(i))Sy(i);else{var _=th(De.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[At]=i,f[zt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=f;e:switch(Qt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ii(i)}}return st(i),Jf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ii(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=De.current,Ha(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=$t,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qv(t.nodeValue,a)),t||Bi(i,!0)}else t=th(t).createTextNode(l),t[At]=i,i.stateNode=t}return st(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else Ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),t=!1}else a=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(s(558))}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ha(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[At]=i}else Ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),d=!1}else d=of(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),zu(i,i.updateQueue),st(i),null);case 4:return lt(),t===null&&_m(i.stateNode.containerInfo),st(i),null;case 10:return ei(i.type),st(i),null;case 19:if(ee(xt),l=i.memoizedState,l===null)return st(i),null;if(d=(i.flags&128)!==0,f=l.rendering,f===null)if(d)Il(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Ru(t),f!==null){for(i.flags|=128,Il(l,!1),t=f.updateQueue,i.updateQueue=t,zu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)by(a,t),a=a.sibling;return ae(xt,xt.current&1|2),Be&&Wr(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&an()>Gu&&(i.flags|=128,d=!0,Il(l,!1),i.lanes=4194304)}else{if(!d)if(t=Ru(f),t!==null){if(i.flags|=128,d=!0,t=t.updateQueue,i.updateQueue=t,zu(i,t),Il(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Be)return st(i),null}else 2*an()-l.renderingStartTime>Gu&&a!==536870912&&(i.flags|=128,d=!0,Il(l,!1),i.lanes=4194304);l.isBackwards?(f.sibling=i.child,i.child=f):(t=l.last,t!==null?t.sibling=f:i.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=xt.current,ae(xt,d?a&1|2:a&1),Be&&Wr(i,l.treeForkCount),t):(st(i),null);case 22:case 23:return An(i),bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&zu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ei(Ct),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Dw(t,i){switch(sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ei(Ct),lt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return xa(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(s(340));Ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(xt),null;case 4:return lt(),null;case 10:return ei(i.type),null;case 22:case 23:return An(i),bf(),t!==null&&ee(Xs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ei(Ct),null;case 25:return null;default:return null}}function K0(t,i){switch(sf(i),i.tag){case 3:ei(Ct),lt();break;case 26:case 27:case 5:xa(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:ee(xt);break;case 10:ei(i.type);break;case 22:case 23:An(i),bf(),t!==null&&ee(Xs);break;case 24:ei(Ct)}}function Dl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(T){Je(i,i.return,T)}}function Yi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,d=i;var O=a,$=T;try{$()}catch(W){Je(d,O,W)}}}l=l.next}while(l!==f)}}catch(W){Je(i,i.return,W)}}function Y0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ly(i,a)}catch(l){Je(t,t.return,l)}}}function Q0(t,i,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function Ol(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){Je(t,i,d)}}function Pr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){Je(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Je(t,i,d)}else a.current=null}function X0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){Je(t,t.return,d)}}function Wf(t,i,a){try{var l=t.stateNode;Zw(l,t.type,a,i),l[zt]=i}catch(d){Je(t,t.return,d)}}function J0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ts(t.type)||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||J0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function em(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=er));else if(l!==4&&(l===27&&ts(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(em(t,i,a),t=t.sibling;t!==null;)em(t,i,a),t=t.sibling}function Bu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&ts(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Bu(t,i,a),t=t.sibling;t!==null;)Bu(t,i,a),t=t.sibling}function W0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Qt(i,l,a),i[At]=t,i[zt]=a}catch(f){Je(t,t.return,f)}}var si=!1,Ot=!1,tm=!1,Z0=typeof WeakSet=="function"?WeakSet:Set,qt=null;function Ow(t,i){if(t=t.containerInfo,Em=lh,t=hy(t),Kd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,O=-1,$=0,W=0,re=t,Y=null;t:for(;;){for(var X;re!==a||d!==0&&re.nodeType!==3||(T=_+d),re!==f||l!==0&&re.nodeType!==3||(O=_+l),re.nodeType===3&&(_+=re.nodeValue.length),(X=re.firstChild)!==null;)Y=re,re=X;for(;;){if(re===t)break t;if(Y===a&&++$===d&&(T=_),Y===f&&++W===l&&(O=_),(X=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=X}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:t,selectionRange:a},lh=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=ta(a.type,d);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Je(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Am(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function ev(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:oi(t,a),l&4&&Dl(5,a);break;case 1:if(oi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var d=ta(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&Y0(a),l&512&&Ol(a,a.return);break;case 3:if(oi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ly(t,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&l&4&&W0(a);case 26:case 5:oi(t,a),i===null&&l&4&&X0(a),l&512&&Ol(a,a.return);break;case 12:oi(t,a);break;case 31:oi(t,a),l&4&&rv(t,a);break;case 13:oi(t,a),l&4&&iv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Bw.bind(null,a),oS(t,a))));break;case 22:if(l=a.memoizedState!==null||si,!l){i=i!==null&&i.memoizedState!==null||Ot,d=si;var f=Ot;si=l,(Ot=i)&&!f?li(t,a,(a.subtreeFlags&8772)!==0):oi(t,a),si=d,Ot=f}break;case 30:break;default:oi(t,a)}}function tv(t){var i=t.alternate;i!==null&&(t.alternate=null,tv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Aa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,mn=!1;function ai(t,i,a){for(a=a.child;a!==null;)nv(t,i,a),a=a.sibling}function nv(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Ot||Pr(a,i),ai(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ot||Pr(a,i);var l=ut,d=mn;ts(a.type)&&(ut=a.stateNode,mn=!1),ai(t,i,a),Bl(a.stateNode),ut=l,mn=d;break;case 5:Ot||Pr(a,i);case 6:if(l=ut,d=mn,ut=null,ai(t,i,a),ut=l,mn=d,ut!==null)if(mn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){Je(a,i,f)}else try{ut.removeChild(a.stateNode)}catch(f){Je(a,i,f)}break;case 18:ut!==null&&(mn?(t=ut,Yv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),uo(t)):Yv(ut,a.stateNode));break;case 4:l=ut,d=mn,ut=a.stateNode.containerInfo,mn=!0,ai(t,i,a),ut=l,mn=d;break;case 0:case 11:case 14:case 15:Yi(2,a,i),Ot||Yi(4,a,i),ai(t,i,a);break;case 1:Ot||(Pr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Q0(a,i,l)),ai(t,i,a);break;case 21:ai(t,i,a);break;case 22:Ot=(l=Ot)||a.memoizedState!==null,ai(t,i,a),Ot=l;break;default:ai(t,i,a)}}function rv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{uo(t)}catch(a){Je(i,i.return,a)}}}function iv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(a){Je(i,i.return,a)}}function jw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Z0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Z0),i;default:throw Error(s(435,t.tag))}}function qu(t,i){var a=jw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var d=qw.bind(null,t,l);l.then(d,d)}})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(ts(T.type)){ut=T.stateNode,mn=!1;break e}break;case 5:ut=T.stateNode,mn=!1;break e;case 3:case 4:ut=T.stateNode.containerInfo,mn=!0;break e}T=T.return}if(ut===null)throw Error(s(160));nv(f,_,d),ut=null,mn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)sv(i,t),i=i.sibling}var ar=null;function sv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(Yi(3,t,t.return),Dl(3,t),Yi(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(Ot||a===null||Pr(a,a.return)),l&64&&si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=ar;if(pn(i,t),gn(t),l&512&&(Ot||a===null||Pr(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Tr]||f[At]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Qt(f,l,a),f[At]=t,Rt(f),l=f;break e;case"link":var _=s_("link","href",d).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=d.createElement(l),Qt(f,l,a),d.head.appendChild(f);break;case"meta":if(_=s_("meta","content",d).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=d.createElement(l),Qt(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[At]=t,Rt(f),l=f}t.stateNode=l}else a_(d,t.type,t.stateNode);else t.stateNode=i_(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?a_(d,t.type,t.stateNode):i_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Wf(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(Ot||a===null||Pr(a,a.return)),a!==null&&l&4&&Wf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(Ot||a===null||Pr(a,a.return)),t.flags&32){d=t.stateNode;try{fn(d,"")}catch(me){Je(t,t.return,me)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Wf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(tm=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){Je(t,t.return,me)}}break;case 3:if(ih=null,d=ar,ar=nh(i.containerInfo),pn(i,t),ar=d,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(i.containerInfo)}catch(me){Je(t,t.return,me)}tm&&(tm=!1,av(t));break;case 4:l=ar,ar=nh(t.stateNode.containerInfo),pn(i,t),gn(t),ar=l;break;case 12:pn(i,t),gn(t);break;case 31:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qu(t,l)));break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fu=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qu(t,l)));break;case 22:d=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,$=si,W=Ot;if(si=$||d,Ot=W||O,pn(i,t),Ot=W,si=$,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||O||si||Ot||na(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(f=O.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=O.stateNode;var re=O.memoizedProps.style,Y=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){Je(O,O.return,me)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(me){Je(O,O.return,me)}}}else if(i.tag===18){if(a===null){O=i;try{var X=O.stateNode;d?Qv(X,!0):Qv(O.stateNode,!1)}catch(me){Je(O,O.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qu(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qu(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(J0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Zf(t);Bu(t,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(fn(_,""),a.flags&=-33);var T=Zf(t);Bu(t,T,_);break;case 3:case 4:var O=a.stateNode.containerInfo,$=Zf(t);em(t,$,O);break;default:throw Error(s(161))}}catch(W){Je(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function av(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;av(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function oi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ev(t,i.alternate,i),i=i.sibling}function na(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Yi(4,i,i.return),na(i);break;case 1:Pr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Q0(i,i.return,a),na(i);break;case 27:Bl(i.stateNode);case 26:case 5:Pr(i,i.return),na(i);break;case 22:i.memoizedState===null&&na(i);break;case 30:na(i);break;default:na(i)}t=t.sibling}}function li(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,_=f.flags;switch(f.tag){case 0:case 11:case 15:li(d,f,a),Dl(4,f);break;case 1:if(li(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){Je(l,l.return,$)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)Py(O[d],T)}catch($){Je(l,l.return,$)}}a&&_&64&&Y0(f),Ol(f,f.return);break;case 27:W0(f);case 26:case 5:li(d,f,a),a&&l===null&&_&4&&X0(f),Ol(f,f.return);break;case 12:li(d,f,a);break;case 31:li(d,f,a),a&&_&4&&rv(d,f);break;case 13:li(d,f,a),a&&_&4&&iv(d,f);break;case 22:f.memoizedState===null&&li(d,f,a),Ol(f,f.return);break;case 30:break;default:li(d,f,a)}i=i.sibling}}function nm(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&vl(a))}function rm(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t))}function or(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ov(t,i,a,l),i=i.sibling}function ov(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:or(t,i,a,l),d&2048&&Dl(9,i);break;case 1:or(t,i,a,l);break;case 3:or(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&vl(t)));break;case 12:if(d&2048){or(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Je(i,i.return,O)}}else or(t,i,a,l);break;case 31:or(t,i,a,l);break;case 13:or(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,_=i.alternate,i.memoizedState!==null?f._visibility&2?or(t,i,a,l):jl(t,i):f._visibility&2?or(t,i,a,l):(f._visibility|=2,Za(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),d&2048&&nm(_,i);break;case 24:or(t,i,a,l),d&2048&&rm(i.alternate,i);break;default:or(t,i,a,l)}}function Za(t,i,a,l,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,_=i,T=a,O=l,$=_.flags;switch(_.tag){case 0:case 11:case 15:Za(f,_,T,O,d),Dl(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?Za(f,_,T,O,d):jl(f,_):(W._visibility|=2,Za(f,_,T,O,d)),d&&$&2048&&nm(_.alternate,_);break;case 24:Za(f,_,T,O,d),d&&$&2048&&rm(_.alternate,_);break;default:Za(f,_,T,O,d)}i=i.sibling}}function jl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:jl(a,l),d&2048&&nm(l.alternate,l);break;case 24:jl(a,l),d&2048&&rm(l.alternate,l);break;default:jl(a,l)}i=i.sibling}}var kl=8192;function eo(t,i,a){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)lv(t,i,a),t=t.sibling}function lv(t,i,a){switch(t.tag){case 26:eo(t,i,a),t.flags&kl&&t.memoizedState!==null&&_S(a,ar,t.memoizedState,t.memoizedProps);break;case 5:eo(t,i,a);break;case 3:case 4:var l=ar;ar=nh(t.stateNode.containerInfo),eo(t,i,a),ar=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=kl,kl=16777216,eo(t,i,a),kl=l):eo(t,i,a));break;default:eo(t,i,a)}}function cv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,hv(l,t)}cv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uv(t),t=t.sibling}function uv(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Hu(t)):Ml(t);break;default:Ml(t)}}function Hu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];qt=l,hv(l,t)}cv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Yi(8,i,i.return),Hu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Hu(i));break;default:Hu(i)}t=t.sibling}}function hv(t,i){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Yi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qt=l;else e:for(a=t;qt!==null;){l=qt;var d=l.sibling,f=l.return;if(tv(l),l===a){qt=null;break e}if(d!==null){d.return=f,qt=d;break e}qt=f}}}var kw={getCacheForType:function(t){var i=Kt(Ct),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Kt(Ct).controller.signal}},Mw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,ke=null,Ve=0,Xe=0,Rn=null,Qi=!1,to=!1,im=!1,ci=0,gt=0,Xi=0,ra=0,sm=0,Nn=0,no=0,Vl=null,yn=null,am=!1,Fu=0,dv=0,Gu=1/0,$u=null,Ji=null,Lt=0,Wi=null,ro=null,ui=0,om=0,lm=null,fv=null,Pl=0,cm=null;function Cn(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:D.T!==null?pm():Kc()}function mv(){if(Nn===0)if((Ve&536870912)===0||Be){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),Nn=t}else Nn=536870912;return t=Sn.current,t!==null&&(t.flags|=32),Nn}function vn(t,i,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(io(t,0),Zi(t,Ve,Nn,!1)),Ds(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(ra|=a),gt===4&&Zi(t,Ve,Nn,!1)),Lr(t))}function pv(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Jn(t,i),d=l?Lw(t,i):hm(t,i,!0),f=l;do{if(d===0){to&&!l&&Zi(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!Vw(a)){d=hm(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;d=Vl;var O=T.current.memoizedState.isDehydrated;if(O&&(io(T,_).flags|=256),_=hm(T,_,!1),_!==2){if(im&&!O){T.errorRecoveryDisabledLanes|=f,ra|=f,d=4;break e}f=yn,yn=d,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){io(t,0),Zi(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Zi(l,i,Nn,!Qi);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Fu+300-an(),10<d)){if(Zi(l,i,Nn,!Qi),br(l,0,!0)!==0)break e;ui=i,l.timeoutHandle=$v(gv.bind(null,l,a,yn,$u,am,i,Nn,ra,no,Qi,f,"Throttled",-0,0),d);break e}gv(l,a,yn,$u,am,i,Nn,ra,no,Qi,f,null,-0,0)}}break}while(!0);Lr(t)}function gv(t,i,a,l,d,f,_,T,O,$,W,re,Y,X){if(t.timeoutHandle=-1,re=i.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:er},lv(i,f,re);var me=(f&62914560)===f?Fu-an():(f&4194048)===f?dv-an():0;if(me=bS(re,me),me!==null){ui=f,t.cancelPendingCommit=me(wv.bind(null,t,i,f,a,l,d,_,T,O,W,re,null,Y,X)),Zi(t,f,_,!$);return}}wv(t,i,f,a,l,d,_,T,O)}function Vw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!Tn(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zi(t,i,a,l){i&=~sm,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-_t(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&Os(t,a,i)}function Ku(){return(Ke&6)===0?(Ll(0),!1):!0}function um(){if(ke!==null){if(Xe===0)var t=ke.return;else t=ke,Zr=Ys=null,Af(t),Ya=null,bl=0,t=ke;for(;t!==null;)K0(t.alternate,t),t=t.return;ke=null}}function io(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,nS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ui=0,um(),nt=t,ke=a=Jr(t.current,null),Ve=i,Xe=0,Rn=null,Qi=!1,to=Jn(t,i),im=!1,no=Nn=sm=ra=Xi=gt=0,yn=Vl=null,am=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-_t(l),f=1<<d;i|=t[d],l&=~f}return ci=i,mu(),a}function yv(t,i){Ie=null,D.H=Nl,i===Ka||i===Eu?(i=jy(),Xe=3):i===mf?(i=jy(),Xe=4):Xe=i===qf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,ke===null&&(gt=1,Vu(t,zn(i,t.current)))}function vv(){var t=Sn.current;return t===null?!0:(Ve&4194048)===Ve?Fn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Fn:!1}function _v(){var t=D.H;return D.H=Nl,t===null?Nl:t}function bv(){var t=D.A;return D.A=kw,t}function Yu(){gt=4,Qi||(Ve&4194048)!==Ve&&Sn.current!==null||(to=!0),(Xi&134217727)===0&&(ra&134217727)===0||nt===null||Zi(nt,Ve,Nn,!1)}function hm(t,i,a){var l=Ke;Ke|=2;var d=_v(),f=bv();(nt!==t||Ve!==i)&&($u=null,io(t,i)),i=!1;var _=gt;e:do try{if(Xe!==0&&ke!==null){var T=ke,O=Rn;switch(Xe){case 8:um(),_=6;break e;case 3:case 2:case 9:case 6:Sn.current===null&&(i=!0);var $=Xe;if(Xe=0,Rn=null,so(t,T,O,$),a&&to){_=0;break e}break;default:$=Xe,Xe=0,Rn=null,so(t,T,O,$)}}Pw(),_=gt;break}catch(W){yv(t,W)}while(!0);return i&&t.shellSuspendCounter++,Zr=Ys=null,Ke=l,D.H=d,D.A=f,ke===null&&(nt=null,Ve=0,mu()),_}function Pw(){for(;ke!==null;)xv(ke)}function Lw(t,i){var a=Ke;Ke|=2;var l=_v(),d=bv();nt!==t||Ve!==i?($u=null,Gu=an()+500,io(t,i)):to=Jn(t,i);e:do try{if(Xe!==0&&ke!==null){i=ke;var f=Rn;t:switch(Xe){case 1:Xe=0,Rn=null,so(t,i,f,1);break;case 2:case 9:if(Dy(f)){Xe=0,Rn=null,Ev(i);break}i=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),Lr(t)},f.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Dy(f)?(Xe=0,Rn=null,Ev(i)):(Xe=0,Rn=null,so(t,i,f,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var T=ke;if(_?o_(_):T.stateNode.complete){Xe=0,Rn=null;var O=T.sibling;if(O!==null)ke=O;else{var $=T.return;$!==null?(ke=$,Qu($)):ke=null}break t}}Xe=0,Rn=null,so(t,i,f,5);break;case 6:Xe=0,Rn=null,so(t,i,f,6);break;case 8:um(),gt=6;break e;default:throw Error(s(462))}}Uw();break}catch(W){yv(t,W)}while(!0);return Zr=Ys=null,D.H=l,D.A=d,Ke=a,ke!==null?0:(nt=null,Ve=0,mu(),gt)}function Uw(){for(;ke!==null&&!zd();)xv(ke)}function xv(t){var i=G0(t.alternate,t,ci);t.memoizedProps=t.pendingProps,i===null?Qu(t):ke=i}function Ev(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=U0(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=U0(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Af(i);default:K0(a,i),i=ke=by(i,ci),i=G0(a,i,ci)}t.memoizedProps=t.pendingProps,i===null?Qu(t):ke=i}function so(t,i,a,l){Zr=Ys=null,Af(i),Ya=null,bl=0;var d=i.return;try{if(Rw(t,d,i,a,Ve)){gt=1,Vu(t,zn(a,t.current)),ke=null;return}}catch(f){if(d!==null)throw ke=d,f;gt=1,Vu(t,zn(a,t.current)),ke=null;return}i.flags&32768?(Be||l===1?t=!0:to||(Ve&536870912)!==0?t=!1:(Qi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Tv(i,t)):Qu(i)}function Qu(t){var i=t;do{if((i.flags&32768)!==0){Tv(i,Qi);return}t=i.return;var a=Iw(i.alternate,i,ci);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);gt===0&&(gt=5)}function Tv(t,i){do{var a=Dw(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);gt=6,ke=null}function wv(t,i,a,l,d,f,_,T,O){t.cancelPendingCommit=null;do Xu();while(Lt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Wd,Hd(t,a,f,_,T,O),t===nt&&(ke=nt=null,Ve=0),ro=i,Wi=t,ui=a,om=f,lm=d,fv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hw(Ci,function(){return Cv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=D.T,D.T=null,d=se.p,se.p=2,_=Ke,Ke|=4;try{Ow(t,i,a)}finally{Ke=_,se.p=d,D.T=l}}Lt=1,Sv(),Av(),Rv()}}function Sv(){if(Lt===1){Lt=0;var t=Wi,i=ro,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var l=se.p;se.p=2;var d=Ke;Ke|=4;try{sv(i,t);var f=Tm,_=hy(t.containerInfo),T=f.focusedElem,O=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&uy(T.ownerDocument.documentElement,T)){if(O!==null&&Kd(T)){var $=O.start,W=O.end;if(W===void 0&&(W=$),"selectionStart"in T)T.selectionStart=$,T.selectionEnd=Math.min(W,T.value.length);else{var re=T.ownerDocument||document,Y=re&&re.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),me=T.textContent.length,be=Math.min(O.start,me),tt=O.end===void 0?be:Math.min(O.end,me);!X.extend&&be>tt&&(_=tt,tt=be,be=_);var z=cy(T,be),V=cy(T,tt);if(z&&V&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var G=re.createRange();G.setStart(z.node,z.offset),X.removeAllRanges(),be>tt?(X.addRange(G),X.extend(V.node,V.offset)):(G.setEnd(V.node,V.offset),X.addRange(G))}}}}for(re=[],X=T;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var te=re[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}lh=!!Em,Tm=Em=null}finally{Ke=d,se.p=l,D.T=a}}t.current=i,Lt=2}}function Av(){if(Lt===2){Lt=0;var t=Wi,i=ro,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var l=se.p;se.p=2;var d=Ke;Ke|=4;try{ev(t,i.alternate,i)}finally{Ke=d,se.p=l,D.T=a}}Lt=3}}function Rv(){if(Lt===4||Lt===3){Lt=0,zc();var t=Wi,i=ro,a=ui,l=fv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,ro=Wi=null,Nv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ji=null),Kr(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=D.T,d=se.p,se.p=2,D.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];f(T.value,{componentStack:T.stack})}}finally{D.T=i,se.p=d}}(ui&3)!==0&&Xu(),Lr(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===cm?Pl++:(Pl=0,cm=t):Pl=0,Ll(0)}}function Nv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,vl(i)))}function Xu(){return Sv(),Av(),Rv(),Cv()}function Cv(){if(Lt!==5)return!1;var t=Wi,i=om;om=0;var a=Kr(ui),l=D.T,d=se.p;try{se.p=32>a?32:a,D.T=null,a=lm,lm=null;var f=Wi,_=ui;if(Lt=0,ro=Wi=null,ui=0,(Ke&6)!==0)throw Error(s(331));var T=Ke;if(Ke|=4,uv(f.current),ov(f,f.current,_,a),Ke=T,Ll(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Xn,f)}catch{}return!0}finally{se.p=d,D.T=l,Nv(t,i)}}function Iv(t,i,a){i=zn(a,i),i=Bf(t.stateNode,i,2),t=Gi(t,i,2),t!==null&&(Ds(t,2),Lr(t))}function Je(t,i,a){if(t.tag===3)Iv(t,t,a);else for(;i!==null;){if(i.tag===3){Iv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=zn(a,t),a=D0(2),l=Gi(i,a,2),l!==null&&(O0(a,l,i,t),Ds(l,2),Lr(l));break}}i=i.return}}function dm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Mw;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(im=!0,d.add(a),t=zw.bind(null,t,i,a),i.then(t,t))}function zw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ve&a)===a&&(gt===4||gt===3&&(Ve&62914560)===Ve&&300>an()-Fu?(Ke&2)===0&&io(t,0):sm|=a,no===Ve&&(no=0)),Lr(t)}function Dv(t,i){i===0&&(i=$c()),t=Gs(t,i),t!==null&&(Ds(t,i),Lr(t))}function Bw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Dv(t,a)}function qw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Dv(t,a)}function Hw(t,i){return Pt(t,i)}var Ju=null,ao=null,fm=!1,Wu=!1,mm=!1,es=0;function Lr(t){t!==ao&&t.next===null&&(ao===null?Ju=ao=t:ao=ao.next=t),Wu=!0,fm||(fm=!0,Gw())}function Ll(t,i){if(!mm&&Wu){mm=!0;do for(var a=!1,l=Ju;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=d&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Mv(l,f))}else f=Ve,f=br(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Jn(l,f)||(a=!0,Mv(l,f));l=l.next}while(a);mm=!1}}function Fw(){Ov()}function Ov(){Wu=fm=!1;var t=0;es!==0&&tS()&&(t=es);for(var i=an(),a=null,l=Ju;l!==null;){var d=l.next,f=jv(l,i);f===0?(l.next=null,a===null?Ju=d:a.next=d,d===null&&(ao=a)):(a=l,(t!==0||(f&3)!==0)&&(Wu=!0)),l=d}Lt!==0&&Lt!==5||Ll(t),es!==0&&(es=0)}function jv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-_t(f),T=1<<_,O=d[_];O===-1?((T&a)===0||(T&l)!==0)&&(d[_]=qd(T,i)):O<=i&&(t.expiredLanes|=T),f&=~T}if(i=nt,a=Ve,a=br(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ni(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ni(l),Kr(a)){case 2:case 8:a=Yo;break;case 32:a=Ci;break;case 268435456:a=Bc;break;default:a=Ci}return l=kv.bind(null,t),a=Pt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ni(l),t.callbackPriority=2,t.callbackNode=null,2}function kv(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Xu()&&t.callbackNode!==a)return null;var l=Ve;return l=br(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pv(t,l,i),jv(t,an()),t.callbackNode!=null&&t.callbackNode===a?kv.bind(null,t):null)}function Mv(t,i){if(Xu())return null;pv(t,i,!0)}function Gw(){rS(function(){(Ke&6)!==0?Pt(Ko,Fw):Ov()})}function pm(){if(es===0){var t=Ga;t===0&&(t=vr,vr<<=1,(vr&261888)===0&&(vr=256)),es=t}return es}function Vv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function Pv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function $w(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=Vv((d[zt]||null).action),_=l.submitter;_&&(i=(i=_[zt]||null)?Vv(i.formAction):_.getAttribute("formAction"),i!==null&&(f=i,_=null));var T=new Dr("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(es!==0){var O=_?Pv(d,_):new FormData(d);Mf(a,{pending:!0,data:O,method:d.method,action:f},null,O)}}else typeof f=="function"&&(T.preventDefault(),O=_?Pv(d,_):new FormData(d),Mf(a,{pending:!0,data:O,method:d.method,action:f},f,O))},currentTarget:d}]})}}for(var gm=0;gm<Jd.length;gm++){var ym=Jd[gm],Kw=ym.toLowerCase(),Yw=ym[0].toUpperCase()+ym.slice(1);sr(Kw,"on"+Yw)}sr(my,"onAnimationEnd"),sr(py,"onAnimationIteration"),sr(gy,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(uw,"onTransitionRun"),sr(hw,"onTransitionStart"),sr(dw,"onTransitionCancel"),sr(yy,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Lv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],O=T.instance,$=T.currentTarget;if(T=T.listener,O!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=$;try{f(d)}catch(W){fu(W)}d.currentTarget=null,f=O}else for(_=0;_<l.length;_++){if(T=l[_],O=T.instance,$=T.currentTarget,T=T.listener,O!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=$;try{f(d)}catch(W){fu(W)}d.currentTarget=null,f=O}}}}function Me(t,i){var a=i[Sa];a===void 0&&(a=i[Sa]=new Set);var l=t+"__bubble";a.has(l)||(Uv(i,t,2,!1),a.add(l))}function vm(t,i,a){var l=0;i&&(l|=4),Uv(a,t,l,i)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function _m(t){if(!t[Zu]){t[Zu]=!0,Jo.forEach(function(a){a!=="selectionchange"&&(Qw.has(a)||vm(a,!1,t),vm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Zu]||(i[Zu]=!0,vm("selectionchange",!1,i))}}function Uv(t,i,a,l){switch(m_(i)){case 2:var d=TS;break;case 8:d=wS;break;default:d=km}a=d.bind(null,i,a,t),d=void 0,!Ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function bm(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===d)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;T!==null;){if(_=wr(T),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=f=_;continue e}T=T.parentNode}}l=l.return}Mi(function(){var $=f,W=Vn(a),re=[];e:{var Y=vy.get(t);if(Y!==void 0){var X=Dr,me=t;switch(t){case"keypress":if(Us(a)===0)break e;case"keydown":case"keyup":X=uu;break;case"focusin":me="focus",X=Bs;break;case"focusout":me="blur",X=Bs;break;case"beforeblur":case"afterblur":X=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case my:case py:case gy:X=ru;break;case yy:X=A;break;case"scroll":case"scrollend":X=cl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Xr;break;case"toggle":case"beforetoggle":X=Ce}var be=(i&4)!==0,tt=!be&&(t==="scroll"||t==="scrollend"),z=be?Y!==null?Y+"Capture":null:Y;be=[];for(var V=$,G;V!==null;){var te=V;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||z===null||(te=tr(V,z),te!=null&&be.push(zl(V,te,G))),tt)break;V=V.return}0<be.length&&(Y=new X(Y,me,null,a,W),re.push({event:Y,listeners:be}))}}if((i&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&a!==al&&(me=a.relatedTarget||a.fromElement)&&(wr(me)||me[Er]))break e;if((X||Y)&&(Y=W.window===W?W:(Y=W.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(me=a.relatedTarget||a.toElement,X=$,me=me?wr(me):null,me!==null&&(tt=c(me),be=me.tag,me!==tt||be!==5&&be!==27&&be!==6)&&(me=null)):(X=null,me=$),X!==me)){if(be=ul,te="onMouseLeave",z="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(be=Xr,te="onPointerLeave",z="onPointerEnter",V="pointer"),tt=X==null?Y:xn(X),G=me==null?Y:xn(me),Y=new be(te,V+"leave",X,a,W),Y.target=tt,Y.relatedTarget=G,te=null,wr(W)===$&&(be=new be(z,V+"enter",me,a,W),be.target=G,be.relatedTarget=tt,te=be),tt=te,X&&me)t:{for(be=Xw,z=X,V=me,G=0,te=z;te;te=be(te))G++;te=0;for(var ye=V;ye;ye=be(ye))te++;for(;0<G-te;)z=be(z),G--;for(;0<te-G;)V=be(V),te--;for(;G--;){if(z===V||V!==null&&z===V.alternate){be=z;break t}z=be(z),V=be(V)}be=null}else be=null;X!==null&&zv(re,Y,X,be,!1),me!==null&&tt!==null&&zv(re,tt,me,be,!0)}}e:{if(Y=$?xn($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Fe=ry;else if(ty(Y))if(iy)Fe=ow;else{Fe=sw;var pe=iw}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&Ca($.elementType)&&(Fe=ry):Fe=aw;if(Fe&&(Fe=Fe(t,$))){ny(re,Fe,a,W);break e}pe&&pe(t,Y,$),t==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&rl(Y,"number",Y.value)}switch(pe=$?xn($):window,t){case"focusin":(ty(pe)||pe.contentEditable==="true")&&(Pa=pe,Yd=$,pl=null);break;case"focusout":pl=Yd=Pa=null;break;case"mousedown":Qd=!0;break;case"contextmenu":case"mouseup":case"dragend":Qd=!1,dy(re,a,W);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":dy(re,a,W)}var Oe;if($e)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Va?qs(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(kr&&a.locale!=="ko"&&(Va||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Va&&(Oe=ll()):(Ir=W,ol="value"in Ir?Ir.value:Ir.textContent,Va=!0)),pe=eh($,Pe),0<pe.length&&(Pe=new jr(Pe,t,null,a,W),re.push({event:Pe,listeners:pe}),Oe?Pe.data=Oe:(Oe=Ma(a),Oe!==null&&(Pe.data=Oe)))),(Oe=Ln?ew(t,a):tw(t,a))&&(Pe=eh($,"onBeforeInput"),0<Pe.length&&(pe=new jr("onBeforeInput","beforeinput",null,a,W),re.push({event:pe,listeners:Pe}),pe.data=Oe)),$w(re,t,$,a,W)}Lv(re,i)})}function zl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function eh(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=tr(t,a),d!=null&&l.unshift(zl(t,d,f)),d=tr(t,i),d!=null&&l.push(zl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function Xw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zv(t,i,a,l,d){for(var f=i._reactName,_=[];a!==null&&a!==l;){var T=a,O=T.alternate,$=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||$===null||(O=$,d?($=tr(a,f),$!=null&&_.unshift(zl(a,$,O))):d||($=tr(a,f),$!=null&&_.push(zl(a,$,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Jw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function Bv(t){return(typeof t=="string"?t:""+t).replace(Jw,`
`).replace(Ww,"")}function qv(t,i){return i=Bv(i),Bv(t)===i}function et(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&fn(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":sl(t,l,f);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&et(t,i,"name",d.name,d,null),et(t,i,"formEncType",d.formEncType,d,null),et(t,i,"formMethod",d.formMethod,d,null),et(t,i,"formTarget",d.formTarget,d,null)):(et(t,i,"encType",d.encType,d,null),et(t,i,"method",d.method,d,null),et(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=er);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=eu.get(a)||a,Ra(t,a,l))}}function xm(t,i,a,l,d,f){switch(a){case"style":sl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=er);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[zt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,f,_,a,null)}}d&&et(t,i,"srcSet",a.srcSet,a,null),l&&et(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var T=f=_=d=null,O=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":d=W;break;case"type":_=W;break;case"checked":O=W;break;case"defaultChecked":$=W;break;case"value":f=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:et(t,i,l,W,a,null)}}Jc(t,f,T,O,$,_,d,!1);return;case"select":Me("invalid",t),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:et(t,i,d,T,a,null)}i=f,a=_,t.multiple=!!l,i!=null?Di(t,!!l,i,!1):a!=null&&Di(t,!!l,a,!0);return;case"textarea":Me("invalid",t),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:et(t,i,_,T,a,null)}Oi(t,l,d,f);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":et(t,i,O,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Me(Ul[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:et(t,i,$,l,a,null)}return;default:if(Ca(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&xm(t,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&et(t,i,T,l,a,null))}function Zw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,T=null,O=null,$=null,W=null;for(X in a){var re=a[X];if(a.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=re;default:l.hasOwnProperty(X)||et(t,i,X,null,l,re)}}for(var Y in l){var X=l[Y];if(re=a[Y],l.hasOwnProperty(Y)&&(X!=null||re!=null))switch(Y){case"type":f=X;break;case"name":d=X;break;case"checked":$=X;break;case"defaultChecked":W=X;break;case"value":_=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==re&&et(t,i,Y,X,l,re)}}Na(t,_,T,O,$,W,f,d);return;case"select":X=_=T=Y=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":X=O;default:l.hasOwnProperty(f)||et(t,i,f,null,l,O)}for(d in l)if(f=l[d],O=a[d],l.hasOwnProperty(d)&&(f!=null||O!=null))switch(d){case"value":Y=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==O&&et(t,i,d,f,l,O)}i=T,a=_,l=X,Y!=null?Di(t,!!a,Y,!1):!!l!=!!a&&(i!=null?Di(t,!!a,i,!0):Di(t,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:et(t,i,T,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&et(t,i,_,d,l,f)}Wc(t,Y,X);return;case"option":for(var me in a)Y=a[me],a.hasOwnProperty(me)&&Y!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:et(t,i,me,null,l,Y));for(O in l)Y=l[O],X=a[O],l.hasOwnProperty(O)&&Y!==X&&(Y!=null||X!=null)&&(O==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":et(t,i,O,Y,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)Y=a[be],a.hasOwnProperty(be)&&Y!=null&&!l.hasOwnProperty(be)&&et(t,i,be,null,l,Y);for($ in l)if(Y=l[$],X=a[$],l.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:et(t,i,$,Y,l,X)}return;default:if(Ca(i)){for(var tt in a)Y=a[tt],a.hasOwnProperty(tt)&&Y!==void 0&&!l.hasOwnProperty(tt)&&xm(t,i,tt,void 0,l,Y);for(W in l)Y=l[W],X=a[W],!l.hasOwnProperty(W)||Y===X||Y===void 0&&X===void 0||xm(t,i,W,Y,l,X);return}}for(var z in a)Y=a[z],a.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&et(t,i,z,null,l,Y);for(re in l)Y=l[re],X=a[re],!l.hasOwnProperty(re)||Y===X||Y==null&&X==null||et(t,i,re,Y,l,X)}function Hv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,T=d.duration;if(f&&T&&Hv(_)){for(_=0,T=d.responseEnd,l+=1;l<a.length;l++){var O=a[l],$=O.startTime;if($>T)break;var W=O.transferSize,re=O.initiatorType;W&&Hv(re)&&(O=O.responseEnd,_+=W*(O<T?1:(T-$)/(O-$)))}if(--l,i+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Em=null,Tm=null;function th(t){return t.nodeType===9?t:t.ownerDocument}function Fv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function wm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Sm=null;function tS(){var t=window.event;return t&&t.type==="popstate"?t===Sm?!1:(Sm=t,!0):(Sm=null,!1)}var $v=typeof setTimeout=="function"?setTimeout:void 0,nS=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(t){return Kv.resolve(null).then(t).catch(iS)}:$v;function iS(t){setTimeout(function(){throw t})}function ts(t){return t==="head"}function Yv(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),uo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Bl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Bl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[Tr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Bl(t.ownerDocument.body);a=d}while(a);uo(i)}function Qv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Am(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Am(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sS(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Tr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function aS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function Xv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Gn(t.nextSibling),t===null))return null;return t}function Rm(t){return t.data==="$?"||t.data==="$~"}function Nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Cm=null;function Jv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Gn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Wv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Zv(t,i,a){switch(i=th(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Aa(t)}var $n=new Map,e_=new Set;function nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hi=se.d;se.d={f:lS,r:cS,D:uS,C:hS,L:dS,m:fS,X:pS,S:mS,M:gS};function lS(){var t=hi.f(),i=Ku();return t||i}function cS(t){var i=Mn(t);i!==null&&i.tag===5&&i.type==="form"?y0(i):hi.r(t)}var oo=typeof document>"u"?null:document;function t_(t,i,a){var l=oo;if(l&&typeof i=="string"&&i){var d=dn(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),e_.has(d)||(e_.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),Qt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function uS(t){hi.D(t),t_("dns-prefetch",t,null)}function hS(t,i){hi.C(t,i),t_("preconnect",t,i)}function dS(t,i,a){hi.L(t,i,a);var l=oo;if(l&&t&&i){var d='link[rel="preload"][as="'+dn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+dn(a.imageSizes)+'"]')):d+='[href="'+dn(t)+'"]';var f=d;switch(i){case"style":f=lo(t);break;case"script":f=co(t)}$n.has(f)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),$n.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(ql(f))||i==="script"&&l.querySelector(Hl(f))||(i=l.createElement("link"),Qt(i,"link",t),Rt(i),l.head.appendChild(i)))}}function fS(t,i){hi.m(t,i);var a=oo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=co(t)}if(!$n.has(f)&&(t=E({rel:"modulepreload",href:t},i),$n.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(f)))return}l=a.createElement("link"),Qt(l,"link",t),Rt(l),a.head.appendChild(l)}}}function mS(t,i,a){hi.S(t,i,a);var l=oo;if(l&&t){var d=Sr(l).hoistableStyles,f=lo(t);i=i||"default";var _=d.get(f);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(ql(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=$n.get(f))&&Im(t,a);var O=_=l.createElement("link");Rt(O),Qt(O,"link",t),O._p=new Promise(function($,W){O.onload=$,O.onerror=W}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,rh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},d.set(f,_)}}}function pS(t,i){hi.X(t,i);var a=oo;if(a&&t){var l=Sr(a).hoistableScripts,d=co(t),f=l.get(d);f||(f=a.querySelector(Hl(d)),f||(t=E({src:t,async:!0},i),(i=$n.get(d))&&Dm(t,i),f=a.createElement("script"),Rt(f),Qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function gS(t,i){hi.M(t,i);var a=oo;if(a&&t){var l=Sr(a).hoistableScripts,d=co(t),f=l.get(d);f||(f=a.querySelector(Hl(d)),f||(t=E({src:t,async:!0,type:"module"},i),(i=$n.get(d))&&Dm(t,i),f=a.createElement("script"),Rt(f),Qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function n_(t,i,a,l){var d=(d=De.current)?nh(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=lo(a.href),a=Sr(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var f=Sr(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(ql(t)))&&!f._p&&(_.instance=f,_.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),f||yS(d,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=co(a),a=Sr(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+dn(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function r_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function yS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),Rt(i),t.head.appendChild(i))}function co(t){return'[src="'+dn(t)+'"]'}function Hl(t){return"script[async]"+t}function i_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return i.instance=l,Rt(l),l;var d=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Rt(l),Qt(l,"style",d),rh(l,a.precedence,t),i.instance=l;case"stylesheet":d=lo(a.href);var f=t.querySelector(ql(d));if(f)return i.state.loading|=4,i.instance=f,Rt(f),f;l=r_(a),(d=$n.get(d))&&Im(l,d),f=(t.ownerDocument||t).createElement("link"),Rt(f);var _=f;return _._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Qt(f,"link",l),i.state.loading|=4,rh(f,a.precedence,t),i.instance=f;case"script":return f=co(a.src),(d=t.querySelector(Hl(f)))?(i.instance=d,Rt(d),d):(l=a,(d=$n.get(f))&&(l=E({},a),Dm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Rt(d),Qt(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,rh(l,a.precedence,t));return i.instance}function rh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Dm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ih=null;function s_(t,i,a){if(ih===null){var l=new Map,d=ih=new Map;d.set(a,l)}else d=ih,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[Tr]||f[At]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(f):l.set(_,[f])}}return l}function a_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function vS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function o_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _S(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=lo(l.href),f=i.querySelector(ql(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=sh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,Rt(f);return}f=i.ownerDocument||i,l=r_(l),(d=$n.get(d))&&Im(l,d),f=f.createElement("link"),Rt(f);var _=f;_._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),Qt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=sh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Om=0;function bS(t,i){return t.stylesheets&&t.count===0&&oh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Om===0&&(Om=62500*eS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Om?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ah=null;function oh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ah=new Map,i.forEach(xS,t),ah=null,sh.call(t))}function xS(t,i){if(!(i.state.loading&4)){var a=ah.get(t);if(a)var l=a.get(null);else{a=new Map,ah.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=i.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=sh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Fl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function ES(t,i,a,l,d,f,_,T,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function l_(t,i,a,l,d,f,_,T,O,$,W,re){return t=new ES(t,i,a,_,O,$,W,re,T),i=1,f===!0&&(i|=24),f=wn(3,null,null,i),t.current=f,f.stateNode=t,i=hf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},pf(f),t}function c_(t){return t?(t=za,t):za}function u_(t,i,a,l,d,f){d=c_(d),l.context===null?l.context=d:l.pendingContext=d,l=Fi(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Gi(t,l,i),a!==null&&(vn(a,t,i),El(a,t,i))}function h_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function jm(t,i){h_(t,i),(t=t.alternate)&&h_(t,i)}function d_(t){if(t.tag===13||t.tag===31){var i=Gs(t,67108864);i!==null&&vn(i,t,67108864),jm(t,67108864)}}function f_(t){if(t.tag===13||t.tag===31){var i=Cn();i=js(i);var a=Gs(t,i);a!==null&&vn(a,t,i),jm(t,i)}}var lh=!0;function TS(t,i,a,l){var d=D.T;D.T=null;var f=se.p;try{se.p=2,km(t,i,a,l)}finally{se.p=f,D.T=d}}function wS(t,i,a,l){var d=D.T;D.T=null;var f=se.p;try{se.p=8,km(t,i,a,l)}finally{se.p=f,D.T=d}}function km(t,i,a,l){if(lh){var d=Mm(l);if(d===null)bm(t,i,l,ch,a),p_(t,l);else if(AS(d,t,i,a,l))l.stopPropagation();else if(p_(t,l),i&4&&-1<SS.indexOf(t)){for(;d!==null;){var f=Mn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=_r(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var O=1<<31-_t(_);T.entanglements[1]|=O,_&=~O}Lr(f),(Ke&6)===0&&(Gu=an()+500,Ll(0))}}break;case 31:case 13:T=Gs(f,2),T!==null&&vn(T,f,2),Ku(),jm(f,2)}if(f=Mm(l),f===null&&bm(t,i,l,ch,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else bm(t,i,l,null,a)}}function Mm(t){return t=Vn(t),Vm(t)}var ch=null;function Vm(t){if(ch=null,t=wr(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return ch=t,null}function m_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cs()){case Ko:return 2;case Yo:return 8;case Ci:case Bd:return 32;case Bc:return 268435456;default:return 32}default:return 32}}var Pm=!1,ns=null,rs=null,is=null,Gl=new Map,$l=new Map,ss=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(t,i){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Kl(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=Mn(i),i!==null&&d_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function AS(t,i,a,l,d){switch(i){case"focusin":return ns=Kl(ns,t,i,a,l,d),!0;case"dragenter":return rs=Kl(rs,t,i,a,l,d),!0;case"mouseover":return is=Kl(is,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return Gl.set(f,Kl(Gl.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,$l.set(f,Kl($l.get(f)||null,t,i,a,l,d)),!0}return!1}function g_(t){var i=wr(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){f_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Wn(t.priority,function(){f_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function uh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);al=l,a.target.dispatchEvent(l),al=null}else return i=Mn(a),i!==null&&d_(i),t.blockedOn=a,!1;i.shift()}return!0}function y_(t,i,a){uh(t)&&a.delete(i)}function RS(){Pm=!1,ns!==null&&uh(ns)&&(ns=null),rs!==null&&uh(rs)&&(rs=null),is!==null&&uh(is)&&(is=null),Gl.forEach(y_),$l.forEach(y_)}function hh(t,i){t.blockedOn===i&&(t.blockedOn=null,Pm||(Pm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RS)))}var dh=null;function v_(t){dh!==t&&(dh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){dh===t&&(dh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Vm(l||a)===null)continue;break}var f=Mn(a);f!==null&&(t.splice(i,3),i-=3,Mf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function uo(t){function i(O){return hh(O,t)}ns!==null&&hh(ns,t),rs!==null&&hh(rs,t),is!==null&&hh(is,t),Gl.forEach(i),$l.forEach(i);for(var a=0;a<ss.length;a++){var l=ss[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ss.length&&(a=ss[0],a.blockedOn===null);)g_(a),a.blockedOn===null&&ss.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[zt]||null;if(typeof f=="function")_||v_(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[zt]||null)T=_.formAction;else if(Vm(d)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),v_(a)}}}function __(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Lm(t){this._internalRoot=t}fh.prototype.render=Lm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Cn();u_(a,l,t,i,null,null)},fh.prototype.unmount=Lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;u_(t.current,2,null,t,null,null),Ku(),i[Er]=null}};function fh(t){this._internalRoot=t}fh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Kc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ss.length&&i!==0&&i<ss[a].priority;a++);ss.splice(a,0,t),a===0&&g_(t)}};var b_=e.version;if(b_!=="19.2.4")throw Error(s(527,b_,"19.2.4"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var NS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Xn=mh.inject(NS),Ft=mh}catch{}}return Ql.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=R0,f=N0,_=C0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=l_(t,1,!1,null,null,a,l,null,d,f,_,__),t[Er]=i.current,_m(t),new Lm(i)},Ql.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=R0,_=N0,T=C0,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=l_(t,1,!0,i,a??null,l,d,O,f,_,T,__),i.context=c_(null),a=i.current,l=Cn(),l=js(l),d=Fi(l),d.callback=null,Gi(a,d,l),a=l,i.current.lanes=a,Ds(i,a),Lr(i),t[Er]=i.current,_m(t),new fh(i)},Ql.version="19.2.4",Ql}var I_;function US(){if(I_)return Bm.exports;I_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bm.exports=LS(),Bm.exports}var zS=US();const BS=R1(zS);var D_="popstate";function qS(r={}){function e(s,o){let{pathname:c,search:h,hash:p}=s.location;return up("",{pathname:c,search:h,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:uc(o)}return FS(e,n,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function dr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HS(){return Math.random().toString(36).substring(2,10)}function O_(r,e){return{usr:r.state,key:r.key,idx:e}}function up(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Do(e):e,state:n,key:e&&e.key||s||HS()}}function uc({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Do(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function FS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,p="POP",g=null,y=x();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function x(){return(h.state||{idx:null}).idx}function E(){p="POP";let H=x(),J=H==null?null:H-y;y=H,g&&g({action:p,location:q.location,delta:J})}function w(H,J){p="PUSH";let k=up(q.location,H,J);y=x()+1;let Z=O_(k,y),ce=q.createHref(k);try{h.pushState(Z,"",ce)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(ce)}c&&g&&g({action:p,location:q.location,delta:1})}function I(H,J){p="REPLACE";let k=up(q.location,H,J);y=x();let Z=O_(k,y),ce=q.createHref(k);h.replaceState(Z,"",ce),c&&g&&g({action:p,location:q.location,delta:0})}function U(H){return GS(H)}let q={get action(){return p},get location(){return r(o,h)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(D_,E),g=H,()=>{o.removeEventListener(D_,E),g=null}},createHref(H){return e(o,H)},createURL:U,encodeLocation(H){let J=U(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:I,go(H){return h.go(H)}};return q}function GS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:uc(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function N1(r,e,n="/"){return $S(r,e,n,!1)}function $S(r,e,n,s){let o=typeof e=="string"?Do(e):e,c=_i(o.pathname||"/",n);if(c==null)return null;let h=C1(r);KS(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=iA(c);p=nA(h[g],y,s)}return p}function C1(r,e=[],n=[],s="",o=!1){let c=(h,p,g=o,y)=>{let x={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&g)return;dt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let E=gi([s,x.relativePath]),w=n.concat(x);h.children&&h.children.length>0&&(dt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),C1(h.children,e,w,E,g)),!(h.path==null&&!h.index)&&e.push({path:E,score:eA(E,h.index),routesMeta:w})};return r.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))c(h,p);else for(let g of I1(h.path))c(h,p,!0,g)}),e}function I1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=I1(s.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function KS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:tA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var YS=/^:[\w-]+$/,QS=3,XS=2,JS=1,WS=10,ZS=-2,j_=r=>r==="*";function eA(r,e){let n=r.split("/"),s=n.length;return n.some(j_)&&(s+=ZS),e&&(s+=XS),n.filter(o=>!j_(o)).reduce((o,c)=>o+(YS.test(c)?QS:c===""?JS:WS),s)}function tA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function nA(r,e,n=!1){let{routesMeta:s}=r,o={},c="/",h=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,x=c==="/"?e:e.slice(c.length)||"/",E=Vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},x),w=g.route;if(!E&&y&&n&&!s[s.length-1].route.index&&(E=Vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!E)return null;Object.assign(o,E.params),h.push({params:o,pathname:gi([c,E.pathname]),pathnameBase:lA(gi([c,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(c=gi([c,E.pathnameBase]))}return h}function Vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=rA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:x,isOptional:E},w)=>{if(x==="*"){let U=p[w]||"";h=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const I=p[w];return E&&!I?y[x]=void 0:y[x]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:r}}function rA(r,e=!1,n=!0){dr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function iA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var sA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function aA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Do(r):r,c;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?c=k_(n.substring(1),"/"):c=k_(n,e)):c=e,{pathname:c,search:cA(s),hash:uA(o)}}function k_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Gm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bp(r){let e=oA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qp(r,e,n,s=!1){let o;typeof r=="string"?o=Do(r):(o={...r},dt(!o.pathname||!o.pathname.includes("?"),Gm("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Gm("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Gm("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=n;else{let E=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),E-=1;o.pathname=w.join("/")}p=E>=0?e[E]:"/"}let g=aA(o,p),y=h&&h!=="/"&&h.endsWith("/"),x=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||x)&&(g.pathname+="/"),g}var gi=r=>r.join("/").replace(/\/\/+/g,"/"),lA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),cA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,uA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,hA=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function dA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function fA(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function O1(r,e){let n=r;if(typeof n!="string"||!sA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(D1)try{let c=new URL(window.location.href),h=n.startsWith("//")?new URL(c.protocol+n):new URL(n),p=_i(h.pathname,e);h.origin===c.origin&&p!=null?n=p+h.search+h.hash:o=!0}catch{dr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var j1=["POST","PUT","PATCH","DELETE"];new Set(j1);var mA=["GET",...j1];new Set(mA);var Oo=P.createContext(null);Oo.displayName="DataRouter";var ad=P.createContext(null);ad.displayName="DataRouterState";var pA=P.createContext(!1),k1=P.createContext({isTransitioning:!1});k1.displayName="ViewTransition";var gA=P.createContext(new Map);gA.displayName="Fetchers";var yA=P.createContext(null);yA.displayName="Await";var jn=P.createContext(null);jn.displayName="Navigation";var wc=P.createContext(null);wc.displayName="Location";var $r=P.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Hp=P.createContext(null);Hp.displayName="RouteError";var M1="REACT_ROUTER_ERROR",vA="REDIRECT",_A="ROUTE_ERROR_RESPONSE";function bA(r){if(r.startsWith(`${M1}:${vA}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xA(r){if(r.startsWith(`${M1}:${_A}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new hA(e.status,e.statusText,e.data)}catch{}}function EA(r,{relative:e}={}){dt(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(jn),{hash:o,pathname:c,search:h}=Sc(r,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:gi([n,c])),s.createHref({pathname:p,search:h,hash:o})}function jo(){return P.useContext(wc)!=null}function wi(){return dt(jo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(wc).location}var V1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function P1(r){P.useContext(jn).static||P.useLayoutEffect(r)}function od(){let{isDataRoute:r}=P.useContext($r);return r?MA():TA()}function TA(){dt(jo(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Oo),{basename:e,navigator:n}=P.useContext(jn),{matches:s}=P.useContext($r),{pathname:o}=wi(),c=JSON.stringify(Bp(s)),h=P.useRef(!1);return P1(()=>{h.current=!0}),P.useCallback((g,y={})=>{if(dr(h.current,V1),!h.current)return;if(typeof g=="number"){n.go(g);return}let x=qp(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:gi([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,c,o,r])}P.createContext(null);function Sc(r,{relative:e}={}){let{matches:n}=P.useContext($r),{pathname:s}=wi(),o=JSON.stringify(Bp(n));return P.useMemo(()=>qp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function wA(r,e){return L1(r,e)}function L1(r,e,n,s,o){dt(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=P.useContext(jn),{matches:h}=P.useContext($r),p=h[h.length-1],g=p?p.params:{},y=p?p.pathname:"/",x=p?p.pathnameBase:"/",E=p&&p.route;{let k=E&&E.path||"";z1(y,!E||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let w=wi(),I;if(e){let k=typeof e=="string"?Do(e):e;dt(x==="/"||k.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${k.pathname}" was given in the \`location\` prop.`),I=k}else I=w;let U=I.pathname||"/",q=U;if(x!=="/"){let k=x.replace(/^\//,"").split("/");q="/"+U.replace(/^\//,"").split("/").slice(k.length).join("/")}let H=N1(r,{pathname:q});dr(E||H!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),dr(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=CA(H&&H.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:gi([x,c.encodeLocation?c.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?x:gi([x,c.encodeLocation?c.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),h,n,s,o);return e&&J?P.createElement(wc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},J):J}function SA(){let r=kA(),e=dA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,h)}var AA=P.createElement(SA,null),U1=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=xA(r.digest);n&&(r=n)}let e=r!==void 0?P.createElement($r.Provider,{value:this.props.routeContext},P.createElement(Hp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?P.createElement(RA,{error:r},e):e}};U1.contextType=pA;var $m=new WeakMap;function RA({children:r,error:e}){let{basename:n}=P.useContext(jn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=bA(e.digest);if(s){let o=$m.get(e);if(o)throw o;let c=O1(s.location,n);if(D1&&!$m.get(e))if(c.isExternal||s.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:s.replace}));throw $m.set(e,h),h}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return r}function NA({routeContext:r,match:e,children:n}){let s=P.useContext(Oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement($r.Provider,{value:r},n)}function CA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let c=r,h=n?.errors;if(h!=null){let x=c.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);dt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n)for(let x=0;x<c.length;x++){let E=c[x];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=x),E.route.id){let{loaderData:w,errors:I}=n,U=E.route.loader&&!w.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||U){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&s?(x,E)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:fA(n.matches),errorInfo:E})}:void 0;return c.reduceRight((x,E,w)=>{let I,U=!1,q=null,H=null;n&&(I=h&&E.route.id?h[E.route.id]:void 0,q=E.route.errorElement||AA,p&&(g<0&&w===0?(z1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,H=null):g===w&&(U=!0,H=E.route.hydrateFallbackElement||null)));let J=e.concat(c.slice(0,w+1)),k=()=>{let Z;return I?Z=q:U?Z=H:E.route.Component?Z=P.createElement(E.route.Component,null):E.route.element?Z=E.route.element:Z=x,P.createElement(NA,{match:E,routeContext:{outlet:x,matches:J,isDataRoute:n!=null},children:Z})};return n&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?P.createElement(U1,{location:n.location,revalidation:n.revalidation,component:q,error:I,children:k(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:y}):k()},null)}function Fp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IA(r){let e=P.useContext(Oo);return dt(e,Fp(r)),e}function DA(r){let e=P.useContext(ad);return dt(e,Fp(r)),e}function OA(r){let e=P.useContext($r);return dt(e,Fp(r)),e}function Gp(r){let e=OA(r),n=e.matches[e.matches.length-1];return dt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function jA(){return Gp("useRouteId")}function kA(){let r=P.useContext(Hp),e=DA("useRouteError"),n=Gp("useRouteError");return r!==void 0?r:e.errors?.[n]}function MA(){let{router:r}=IA("useNavigate"),e=Gp("useNavigate"),n=P.useRef(!1);return P1(()=>{n.current=!0}),P.useCallback(async(o,c={})=>{dr(n.current,V1),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var M_={};function z1(r,e,n){!e&&!M_[r]&&(M_[r]=!0,dr(!1,n))}P.memo(VA);function VA({routes:r,future:e,state:n,onError:s}){return L1(r,void 0,n,s,e)}function PA({to:r,replace:e,state:n,relative:s}){dt(jo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(jn);dr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=P.useContext($r),{pathname:h}=wi(),p=od(),g=qp(r,Bp(c),h,s==="path"),y=JSON.stringify(g);return P.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function lr(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1,unstable_useTransitions:h}){dt(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),g=P.useMemo(()=>({basename:p,navigator:o,static:c,unstable_useTransitions:h,future:{}}),[p,o,c,h]);typeof n=="string"&&(n=Do(n));let{pathname:y="/",search:x="",hash:E="",state:w=null,key:I="default"}=n,U=P.useMemo(()=>{let q=_i(y,p);return q==null?null:{location:{pathname:q,search:x,hash:E,state:w,key:I},navigationType:s}},[p,y,x,E,w,I,s]);return dr(U!=null,`<Router basename="${p}"> is not able to match the URL "${y}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:P.createElement(jn.Provider,{value:g},P.createElement(wc.Provider,{children:e,value:U}))}function UA({children:r,location:e}){return wA(hp(r),e)}function hp(r,e=[]){let n=[];return P.Children.forEach(r,(s,o)=>{if(!P.isValidElement(s))return;let c=[...e,o];if(s.type===P.Fragment){n.push.apply(n,hp(s.props.children,c));return}dt(s.type===lr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=hp(s.props.children,c)),n.push(h)}),n}var Th="get",wh="application/x-www-form-urlencoded";function ld(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function zA(r){return ld(r)&&r.tagName.toLowerCase()==="button"}function BA(r){return ld(r)&&r.tagName.toLowerCase()==="form"}function qA(r){return ld(r)&&r.tagName.toLowerCase()==="input"}function HA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function FA(r,e){return r.button===0&&(!e||e==="_self")&&!HA(r)}var ph=null;function GA(){if(ph===null)try{new FormData(document.createElement("form"),0),ph=!1}catch{ph=!0}return ph}var $A=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(r){return r!=null&&!$A.has(r)?(dr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):r}function KA(r,e){let n,s,o,c,h;if(BA(r)){let p=r.getAttribute("action");s=p?_i(p,e):null,n=r.getAttribute("method")||Th,o=Km(r.getAttribute("enctype"))||wh,c=new FormData(r)}else if(zA(r)||qA(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?_i(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||Th,o=Km(r.getAttribute("formenctype"))||Km(p.getAttribute("enctype"))||wh,c=new FormData(p,r),!GA()){let{name:y,type:x,value:E}=r;if(x==="image"){let w=y?`${y}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else y&&c.append(y,E)}}else{if(ld(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,s=null,o=wh,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $p(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function YA(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&_i(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function QA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function JA(r,e,n){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await QA(c,n);return h.links?h.links():[]}return[]}));return t2(s.flat(1).filter(XA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V_(r,e,n,s,o,c){let h=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let x=s.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function WA(r,e,{includeHydrateFallback:n}={}){return ZA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function ZA(r){return[...new Set(r)]}function e2(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function t2(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(e2(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function B1(){let r=P.useContext(Oo);return $p(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function n2(){let r=P.useContext(ad);return $p(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Kp=P.createContext(void 0);Kp.displayName="FrameworkContext";function q1(){let r=P.useContext(Kp);return $p(r,"You must render this element inside a <HydratedRouter> element"),r}function r2(r,e){let n=P.useContext(Kp),[s,o]=P.useState(!1),[c,h]=P.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:x,onTouchStart:E}=e,w=P.useRef(null);P.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let q=J=>{J.forEach(k=>{h(k.isIntersecting)})},H=new IntersectionObserver(q,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),P.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let I=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?r!=="intent"?[c,w,{}]:[c,w,{onFocus:Xl(p,I),onBlur:Xl(g,U),onMouseEnter:Xl(y,I),onMouseLeave:Xl(x,U),onTouchStart:Xl(E,I)}]:[!1,w,{}]}function Xl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function i2({page:r,...e}){let{router:n}=B1(),s=P.useMemo(()=>N1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?P.createElement(a2,{page:r,matches:s,...e}):null}function s2(r){let{manifest:e,routeModules:n}=q1(),[s,o]=P.useState([]);return P.useEffect(()=>{let c=!1;return JA(r,e,n).then(h=>{c||o(h)}),()=>{c=!0}},[r,e,n]),s}function a2({page:r,matches:e,...n}){let s=wi(),{future:o,manifest:c,routeModules:h}=q1(),{basename:p}=B1(),{loaderData:g,matches:y}=n2(),x=P.useMemo(()=>V_(r,e,y,c,s,"data"),[r,e,y,c,s]),E=P.useMemo(()=>V_(r,e,y,c,s,"assets"),[r,e,y,c,s]),w=P.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let q=new Set,H=!1;if(e.forEach(k=>{let Z=c.routes[k.route.id];!Z||!Z.hasLoader||(!x.some(ce=>ce.route.id===k.route.id)&&k.route.id in g&&h[k.route.id]?.shouldRevalidate||Z.hasClientLoader?H=!0:q.add(k.route.id))}),q.size===0)return[];let J=YA(r,p,o.unstable_trailingSlashAwareDataRequests,"data");return H&&q.size>0&&J.searchParams.set("_routes",e.filter(k=>q.has(k.route.id)).map(k=>k.route.id).join(",")),[J.pathname+J.search]},[p,o.unstable_trailingSlashAwareDataRequests,g,s,c,x,e,r,h]),I=P.useMemo(()=>WA(E,c),[E,c]),U=s2(E);return P.createElement(P.Fragment,null,w.map(q=>P.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),I.map(q=>P.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),U.map(({key:q,link:H})=>P.createElement("link",{key:q,nonce:n.nonce,...H,crossOrigin:H.crossOrigin??n.crossOrigin})))}function o2(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var l2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{l2&&(window.__reactRouterVersion="7.13.0")}catch{}function c2({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=P.useRef();o.current==null&&(o.current=qS({window:s,v5Compat:!0}));let c=o.current,[h,p]=P.useState({action:c.action,location:c.location}),g=P.useCallback(y=>{n===!1?p(y):P.startTransition(()=>p(y))},[n]);return P.useLayoutEffect(()=>c.listen(g),[c,g]),P.createElement(LA,{basename:r,children:e,location:h.location,navigationType:h.action,navigator:c,unstable_useTransitions:n})}var H1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ph=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:w,...I},U){let{basename:q,unstable_useTransitions:H}=P.useContext(jn),J=typeof y=="string"&&H1.test(y),k=O1(y,q);y=k.to;let Z=EA(y,{relative:o}),[ce,K,oe]=r2(s,I),S=f2(y,{replace:h,state:p,target:g,preventScrollReset:x,relative:o,viewTransition:E,unstable_defaultShouldRevalidate:w,unstable_useTransitions:H});function R(L){e&&e(L),L.defaultPrevented||S(L)}let N=P.createElement("a",{...I,...oe,href:k.absoluteURL||Z,onClick:k.isExternal||c?e:R,ref:o2(U,K),target:g,"data-discover":!J&&n==="render"?"true":void 0});return ce&&!J?P.createElement(P.Fragment,null,N,P.createElement(i2,{page:Z})):N});Ph.displayName="Link";var u2=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...y},x){let E=Sc(h,{relative:y.relative}),w=wi(),I=P.useContext(ad),{navigator:U,basename:q}=P.useContext(jn),H=I!=null&&v2(E)&&p===!0,J=U.encodeLocation?U.encodeLocation(E).pathname:E.pathname,k=w.pathname,Z=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(k=k.toLowerCase(),Z=Z?Z.toLowerCase():null,J=J.toLowerCase()),Z&&q&&(Z=_i(Z,q)||Z);const ce=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let K=k===J||!o&&k.startsWith(J)&&k.charAt(ce)==="/",oe=Z!=null&&(Z===J||!o&&Z.startsWith(J)&&Z.charAt(J.length)==="/"),S={isActive:K,isPending:oe,isTransitioning:H},R=K?e:void 0,N;typeof s=="function"?N=s(S):N=[s,K?"active":null,oe?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(S):c;return P.createElement(Ph,{...y,"aria-current":R,className:N,ref:x,style:L,to:h,viewTransition:p},typeof g=="function"?g(S):g)});u2.displayName="NavLink";var h2=P.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:h=Th,action:p,onSubmit:g,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:w,...I},U)=>{let{unstable_useTransitions:q}=P.useContext(jn),H=g2(),J=y2(p,{relative:y}),k=h.toLowerCase()==="get"?"get":"post",Z=typeof p=="string"&&H1.test(p),ce=K=>{if(g&&g(K),K.defaultPrevented)return;K.preventDefault();let oe=K.nativeEvent.submitter,S=oe?.getAttribute("formmethod")||h,R=()=>H(oe||K.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:o,state:c,relative:y,preventScrollReset:x,viewTransition:E,unstable_defaultShouldRevalidate:w});q&&n!==!1?P.startTransition(()=>R()):R()};return P.createElement("form",{ref:U,method:k,action:J,onSubmit:s?g:ce,...I,"data-discover":!Z&&r==="render"?"true":void 0})});h2.displayName="Form";function d2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F1(r){let e=P.useContext(Oo);return dt(e,d2(r)),e}function f2(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:g}={}){let y=od(),x=wi(),E=Sc(r,{relative:c});return P.useCallback(w=>{if(FA(w,e)){w.preventDefault();let I=n!==void 0?n:uc(x)===uc(E),U=()=>y(r,{replace:I,state:s,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:p});g?P.startTransition(()=>U()):U()}},[x,y,E,n,s,e,r,o,c,h,p,g])}var m2=0,p2=()=>`__${String(++m2)}__`;function g2(){let{router:r}=F1("useSubmit"),{basename:e}=P.useContext(jn),n=jA(),s=r.fetch,o=r.navigate;return P.useCallback(async(c,h={})=>{let{action:p,method:g,encType:y,formData:x,body:E}=KA(c,e);if(h.navigate===!1){let w=h.fetcherKey||p2();await s(w,n,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:E,formMethod:h.method||g,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:x,body:E,formMethod:h.method||g,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,e,n])}function y2(r,{relative:e}={}){let{basename:n}=P.useContext(jn),s=P.useContext($r);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Sc(r||".",{relative:e})},h=wi();if(r==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(x=>x==="")){p.delete("index"),g.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:gi([n,c.pathname])),uc(c)}function v2(r,{relative:e}={}){let n=P.useContext(k1);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=F1("useViewTransitionState"),o=Sc(r,{relative:e});if(!n.isTransitioning)return!1;let c=_i(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=_i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,c)!=null}const _2=()=>{};var P_={};const G1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},b2=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],h=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,p=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,x=c>>2,E=(c&3)<<4|p>>4;let w=(p&15)<<2|y>>6,I=y&63;g||(I=64,h||(w=64)),s.push(n[x],n[E],n[w],n[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(G1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):b2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||E==null)throw new x2;const w=c<<2|p>>4;if(s.push(w),y!==64){const I=p<<4&240|y>>2;if(s.push(I),E!==64){const U=y<<6&192|E;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class x2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E2=function(r){const e=G1(r);return $1.encodeByteArray(e,!0)},Lh=function(r){return E2(r).replace(/\./g,"")},K1=function(r){try{return $1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function T2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const w2=()=>T2().__FIREBASE_DEFAULTS__,S2=()=>{if(typeof process>"u"||typeof P_>"u")return;const r=P_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},A2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&K1(r[1]);return e&&JSON.parse(e)},cd=()=>{try{return _2()||w2()||S2()||A2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Y1=r=>cd()?.emulatorHosts?.[r],R2=r=>{const e=Y1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Q1=()=>cd()?.config,X1=r=>cd()?.[`_${r}`];class N2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ko(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function J1(r){return(await fetch(r,{credentials:"include"})).ok}function C2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Lh(JSON.stringify(n)),Lh(JSON.stringify(h)),""].join(".")}const ic={};function I2(){const r={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?r.emulator.push(e):r.prod.push(e);return r}function D2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let L_=!1;function W1(r,e){if(typeof window>"u"||typeof document>"u"||!ko(window.location.host)||ic[r]===e||ic[r]||L_)return;ic[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",c=I2().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,I){w.setAttribute("width","24"),w.setAttribute("id",I),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{L_=!0,h()},w}function x(w,I){w.setAttribute("id",I),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=D2(s),I=n("text"),U=document.getElementById(I)||document.createElement("span"),q=n("learnmore"),H=document.getElementById(q)||document.createElement("a"),J=n("preprendIcon"),k=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Z=w.element;p(Z),x(H,q);const ce=y();g(k,J),Z.append(k,U,H,ce),document.body.appendChild(Z)}c?(U.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function j2(){const r=cd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yp(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function M2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V2(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function P2(){return!j2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qp(){try{return typeof indexedDB=="object"}catch{return!1}}function Xp(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function Z1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const L2="FirebaseError";class gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=L2,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ya.prototype.create)}}class ya{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?U2(c,s):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new gr(o,p,s)}}function U2(r,e){return r.replace(z2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const z2=/\{\$([^}]+)}/g;function B2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function gs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],h=e[o];if(U_(c)&&U_(h)){if(!gs(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function U_(r){return r!==null&&typeof r=="object"}function Ac(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Wl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function q2(r,e){const n=new H2(r,e);return n.subscribe.bind(n)}class H2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");F2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Ym),o.error===void 0&&(o.error=Ym),o.complete===void 0&&(o.complete=Ym);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Ym(){}const G2=1e3,$2=2,K2=14400*1e3,Y2=.5;function z_(r,e=G2,n=$2){const s=e*Math.pow(n,r),o=Math.round(Y2*s*(Math.random()-.5)*2);return Math.min(K2,s+o)}function ft(r){return r&&r._delegate?r._delegate:r}class fr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class Q2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new N2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J2(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:X2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X2(r){return r===ia?void 0:r}function J2(r){return r.instantiationMode==="EAGER"}class W2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Q2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const Z2={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},eR=Le.INFO,tR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},nR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=tR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ud{constructor(e){this.name=e,this._logLevel=eR,this._logHandler=nR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const rR=(r,e)=>e.some(n=>r instanceof n);let B_,q_;function iR(){return B_||(B_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sR(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ex=new WeakMap,dp=new WeakMap,tx=new WeakMap,Qm=new WeakMap,Jp=new WeakMap;function aR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{n(ds(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ex.set(n,r)}).catch(()=>{}),Jp.set(e,r),e}function oR(r){if(dp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});dp.set(r,e)}let fp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return dp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||tx.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function lR(r){fp=r(fp)}function cR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Xm(this),e,...n);return tx.set(s,e.sort?e.sort():[e]),ds(s)}:sR().includes(r)?function(...e){return r.apply(Xm(this),e),ds(ex.get(this))}:function(...e){return ds(r.apply(Xm(this),e))}}function uR(r){return typeof r=="function"?cR(r):(r instanceof IDBTransaction&&oR(r),rR(r,iR())?new Proxy(r,fp):r)}function ds(r){if(r instanceof IDBRequest)return aR(r);if(Qm.has(r))return Qm.get(r);const e=uR(r);return e!==r&&(Qm.set(r,e),Jp.set(e,r)),e}const Xm=r=>Jp.get(r);function nx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),p=ds(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ds(h.result),g.oldVersion,g.newVersion,ds(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const hR=["get","getKey","getAll","getAllKeys","count"],dR=["put","add","delete","clear"],Jm=new Map;function H_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=dR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||hR.includes(n)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Jm.set(e,c),c}lR(r=>({...r,get:(e,n,s)=>H_(e,n)||r.get(e,n,s),has:(e,n)=>!!H_(e,n)||r.has(e,n)}));class fR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mR(r){return r.getComponent()?.type==="VERSION"}const mp="@firebase/app",F_="0.14.8";const bi=new ud("@firebase/app"),pR="@firebase/app-compat",gR="@firebase/analytics-compat",yR="@firebase/analytics",vR="@firebase/app-check-compat",_R="@firebase/app-check",bR="@firebase/auth",xR="@firebase/auth-compat",ER="@firebase/database",TR="@firebase/data-connect",wR="@firebase/database-compat",SR="@firebase/functions",AR="@firebase/functions-compat",RR="@firebase/installations",NR="@firebase/installations-compat",CR="@firebase/messaging",IR="@firebase/messaging-compat",DR="@firebase/performance",OR="@firebase/performance-compat",jR="@firebase/remote-config",kR="@firebase/remote-config-compat",MR="@firebase/storage",VR="@firebase/storage-compat",PR="@firebase/firestore",LR="@firebase/ai",UR="@firebase/firestore-compat",zR="firebase",BR="12.9.0";const pp="[DEFAULT]",qR={[mp]:"fire-core",[pR]:"fire-core-compat",[yR]:"fire-analytics",[gR]:"fire-analytics-compat",[_R]:"fire-app-check",[vR]:"fire-app-check-compat",[bR]:"fire-auth",[xR]:"fire-auth-compat",[ER]:"fire-rtdb",[TR]:"fire-data-connect",[wR]:"fire-rtdb-compat",[SR]:"fire-fn",[AR]:"fire-fn-compat",[RR]:"fire-iid",[NR]:"fire-iid-compat",[CR]:"fire-fcm",[IR]:"fire-fcm-compat",[DR]:"fire-perf",[OR]:"fire-perf-compat",[jR]:"fire-rc",[kR]:"fire-rc-compat",[MR]:"fire-gcs",[VR]:"fire-gcs-compat",[PR]:"fire-fst",[UR]:"fire-fst-compat",[LR]:"fire-vertex","fire-js":"fire-js",[zR]:"fire-js-all"};const Uh=new Map,HR=new Map,gp=new Map;function G_(r,e){try{r.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fr(r){const e=r.name;if(gp.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,r);for(const n of Uh.values())G_(n,r);for(const n of HR.values())G_(n,r);return!0}function va(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function In(r){return r==null?!1:r.settings!==void 0}const FR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new ya("app","Firebase",FR);class GR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}const Mo=BR;function rx(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:pp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(n||(n=Q1()),!n)throw fs.create("no-options");const c=Uh.get(o);if(c){if(gs(n,c.options)&&gs(s,c.config))return c;throw fs.create("duplicate-app",{appName:o})}const h=new W2(o);for(const g of gp.values())h.addComponent(g);const p=new GR(n,s,h);return Uh.set(o,p),p}function Wp(r=pp){const e=Uh.get(r);if(!e&&r===pp&&Q1())return rx();if(!e)throw fs.create("no-app",{appName:r});return e}function Yn(r,e,n){let s=qR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(h.join(" "));return}Fr(new fr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const $R="firebase-heartbeat-database",KR=1,hc="firebase-heartbeat-store";let Wm=null;function ix(){return Wm||(Wm=nx($R,KR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(r=>{throw fs.create("idb-open",{originalErrorMessage:r.message})})),Wm}async function YR(r){try{const n=(await ix()).transaction(hc),s=await n.objectStore(hc).get(sx(r));return await n.done,s}catch(e){if(e instanceof gr)bi.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e?.message});bi.warn(n.message)}}}async function $_(r,e){try{const s=(await ix()).transaction(hc,"readwrite");await s.objectStore(hc).put(e,sx(r)),await s.done}catch(n){if(n instanceof gr)bi.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n?.message});bi.warn(s.message)}}}function sx(r){return`${r.name}!${r.options.appId}`}const QR=1024,XR=30;class JR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=K_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>XR){const o=eN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=K_(),{heartbeatsToSend:n,unsentEntries:s}=WR(this._heartbeatsCache.heartbeats),o=Lh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bi.warn(e),""}}}function K_(){return new Date().toISOString().substring(0,10)}function WR(r,e=QR){const n=[];let s=r.slice();for(const o of r){const c=n.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Y_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Y_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qp()?Xp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Y_(r){return Lh(JSON.stringify({version:2,heartbeats:r})).length}function eN(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function tN(r){Fr(new fr("platform-logger",e=>new fR(e),"PRIVATE")),Fr(new fr("heartbeat",e=>new JR(e),"PRIVATE")),Yn(mp,F_,r),Yn(mp,F_,"esm2020"),Yn("fire-js","")}tN("");function ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nN=ax,ox=new ya("auth","Firebase",ax());const zh=new ud("@firebase/auth");function rN(r,...e){zh.logLevel<=Le.WARN&&zh.warn(`Auth (${Mo}): ${r}`,...e)}function Sh(r,...e){zh.logLevel<=Le.ERROR&&zh.error(`Auth (${Mo}): ${r}`,...e)}function Qn(r,...e){throw eg(r,...e)}function ur(r,...e){return eg(r,...e)}function Zp(r,e,n){const s={...nN(),[e]:n};return new ya("auth","Firebase",s).create(e,{appName:r.name})}function yi(r){return Zp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iN(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Qn(r,"argument-error"),Zp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ox.create(r,...e)}function Ee(r,e,...n){if(!r)throw eg(e,...n)}function fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function xi(r,e){r||fi(e)}function yp(){return typeof self<"u"&&self.location?.href||""}function sN(){return Q_()==="http:"||Q_()==="https:"}function Q_(){return typeof self<"u"&&self.location?.protocol||null}function aN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sN()||Yp()||"connection"in navigator)?navigator.onLine:!0}function oN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Rc{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=O2()||M2()}get(){return aN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tg(r,e){xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lx{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uN=new Rc(3e4,6e4);function Si(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ai(r,e,n,s,o={}){return cx(r,o,async()=>{let c={},h={};s&&(e==="GET"?h=s:c={body:JSON.stringify(s)});const p=Ac({key:r.config.apiKey,...h}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return k2()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ko(r.emulatorConfig.host)&&(y.credentials="include"),lx.fetch()(await ux(r,r.config.apiHost,n,p),y)})}async function cx(r,e,n){r._canInitEmulator=!1;const s={...lN,...e};try{const o=new dN(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw gh(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw gh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw gh(r,"user-disabled",h);const x=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Zp(r,x,y);Qn(r,x)}}catch(o){if(o instanceof gr)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function Nc(r,e,n,s,o={}){const c=await Ai(r,e,n,s,o);return"mfaPendingCredential"in c&&Qn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function ux(r,e,n,s){const o=`${e}${n}?${s}`,c=r,h=c.config.emulator?tg(r.config,o):`${r.config.apiScheme}://${o}`;return cN.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function hN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ur(this.auth,"network-request-failed")),uN.get())})}}function gh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ur(r,e,s);return o.customData._tokenResponse=n,o}function X_(r){return r!==void 0&&r.enterprise!==void 0}class fN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mN(r,e){return Ai(r,"GET","/v2/recaptchaConfig",Si(r,e))}async function pN(r,e){return Ai(r,"POST","/v1/accounts:delete",e)}async function Bh(r,e){return Ai(r,"POST","/v1/accounts:lookup",e)}function sc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gN(r,e=!1){const n=ft(r),s=await n.getIdToken(e),o=ng(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c?.sign_in_provider;return{claims:o,token:s,authTime:sc(Zm(o.auth_time)),issuedAtTime:sc(Zm(o.iat)),expirationTime:sc(Zm(o.exp)),signInProvider:h||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Zm(r){return Number(r)*1e3}function ng(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=K1(n);return o?JSON.parse(o):(Sh("Failed to decode base64 JWT payload"),null)}catch(o){return Sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function J_(r){const e=ng(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function dc(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gr&&yN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function yN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class vN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qh(r){const e=r.auth,n=await r.getIdToken(),s=await dc(r,Bh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?hx(o.providerUserInfo):[],h=bN(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!h?.length,y=p?g:!1,x={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,x)}async function _N(r){const e=ft(r);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hx(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function xN(r,e){const n=await cx(r,{},async()=>{const s=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await ux(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&ko(r.emulatorConfig.host)&&(g.credentials="include"),lx.fetch()(h,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EN(r,e){return Ai(r,"POST","/v2/accounts:revokeToken",Si(r,e))}class yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=J_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await xN(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,h=new yo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yo,this.toJSON())}_performRefresh(){return fi("not implemented")}}function os(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class cr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new vN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gN(this,e)}reload(){return _N(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await dc(this,pN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,h=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:I,providerData:U,stsTokenManager:q}=n;Ee(E&&q,e,"internal-error");const H=yo.fromJSON(this.name,q);Ee(typeof E=="string",e,"internal-error"),os(s,e.name),os(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof I=="boolean",e,"internal-error"),os(c,e.name),os(h,e.name),os(p,e.name),os(g,e.name),os(y,e.name),os(x,e.name);const J=new cr({uid:E,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:I,photoURL:h,phoneNumber:c,tenantId:p,stsTokenManager:H,createdAt:y,lastLoginAt:x});return U&&Array.isArray(U)&&(J.providerData=U.map(k=>({...k}))),g&&(J._redirectEventId=g),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new yo;o.updateFromServerResponse(n);const c=new cr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await qh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?hx(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!c?.length,p=new yo;p.updateFromIdToken(s);const g=new cr({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const W_=new Map;function mi(r){xi(r instanceof Function,"Expected a class definition");let e=W_.get(r);return e?(xi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,W_.set(r,e),e)}class dx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dx.type="NONE";const Z_=dx;function Ah(r,e,n){return`firebase:${r}:${e}:${n}`}class vo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Ah(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ah("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bh(this.auth,{idToken:e}).catch(()=>{});return n?cr._fromGetAccountInfoResponse(this.auth,n,e):null}return cr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vo(mi(Z_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||mi(Z_);const h=Ah(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const x=await y._get(h);if(x){let E;if(typeof x=="string"){const w=await Bh(e,{idToken:x}).catch(()=>{});if(!w)break;E=await cr._fromGetAccountInfoResponse(e,w,x)}else E=cr._fromJSON(e,x);y!==c&&(p=E),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new vo(c,e,s):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new vo(c,e,s))}}function eb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vx(e))return"Blackberry";if(_x(e))return"Webos";if(mx(e))return"Safari";if((e.includes("chrome/")||px(e))&&!e.includes("edge/"))return"Chrome";if(yx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function fx(r=sn()){return/firefox\//i.test(r)}function mx(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function px(r=sn()){return/crios\//i.test(r)}function gx(r=sn()){return/iemobile/i.test(r)}function yx(r=sn()){return/android/i.test(r)}function vx(r=sn()){return/blackberry/i.test(r)}function _x(r=sn()){return/webos/i.test(r)}function rg(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function TN(r=sn()){return rg(r)&&!!window.navigator?.standalone}function wN(){return V2()&&document.documentMode===10}function bx(r=sn()){return rg(r)||yx(r)||_x(r)||vx(r)||/windows phone/i.test(r)||gx(r)}function xx(r,e=[]){let n;switch(r){case"Browser":n=eb(sn());break;case"Worker":n=`${eb(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${s}`}class SN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function AN(r,e={}){return Ai(r,"GET","/v2/passwordPolicy",Si(r,e))}const RN=6;class NN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??RN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class CN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tb(this),this.idTokenSubscription=new tb(this),this.beforeStateQueue=new SN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bh(this,{idToken:e}),s=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(In(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,h=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(yi(this));const n=e?ft(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AN(this),n=new NN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ya("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await EN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await vo.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(n);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ri(r){return ft(r)}class tb{constructor(e){this.auth=e,this.observer=null,this.addObserver=q2(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IN(r){hd=r}function Ex(r){return hd.loadJS(r)}function DN(){return hd.recaptchaEnterpriseScript}function ON(){return hd.gapiScript}function jN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class kN{constructor(){this.enterprise=new MN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VN="recaptcha-enterprise",Tx="NO_RECAPTCHA";class PN{constructor(e){this.type=VN,this.auth=Ri(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{mN(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new fN(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;X_(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(Tx)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kN().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{s(this.auth).then(p=>{if(!n&&X_(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=DN();g.length!==0&&(g+=p),Ex(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function nb(r,e,n,s=!1,o=!1){const c=new PN(r);let h;if(o)h=Tx;else try{h=await c.verify(n)}catch{h=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Hh(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await nb(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await nb(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(c)})}function LN(r,e){const n=va(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(gs(c,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function UN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function zN(r,e,n){const s=Ri(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=wx(e),{host:h,port:p}=BN(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},x=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(gs(y,s.config.emulator)&&gs(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,ko(h)?(J1(`${c}//${h}${g}`),W1("Auth",!0)):qN()}function wx(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function BN(r){const e=wx(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:rb(s.substr(c.length+1))}}else{const[c,h]=s.split(":");return{host:c,port:rb(h)}}}function rb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function qN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ig{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function HN(r,e){return Ai(r,"POST","/v1/accounts:signUp",e)}async function FN(r,e){return Nc(r,"POST","/v1/accounts:signInWithPassword",Si(r,e))}async function GN(r,e){return Ai(r,"POST","/v1/accounts:sendOobCode",Si(r,e))}async function $N(r,e){return GN(r,e)}async function KN(r,e){return Nc(r,"POST","/v1/accounts:signInWithEmailLink",Si(r,e))}async function YN(r,e){return Nc(r,"POST","/v1/accounts:signInWithEmailLink",Si(r,e))}class fc extends ig{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new fc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new fc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hh(e,n,"signInWithPassword",FN);case"emailLink":return KN(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hh(e,s,"signUpPassword",HN);case"emailLink":return YN(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _o(r,e){return Nc(r,"POST","/v1/accounts:signInWithIdp",Si(r,e))}const QN="http://localhost";class ua extends ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const h=new ua(s,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:QN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}function XN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JN(r){const e=Wl(Zl(r)).link,n=e?Wl(Zl(e)).deep_link_id:null,s=Wl(Zl(r)).deep_link_id;return(s?Wl(Zl(s)).link:null)||s||n||e||r}class sg{constructor(e){const n=Wl(Zl(e)),s=n.apiKey??null,o=n.oobCode??null,c=XN(n.mode??null);Ee(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=JN(e);try{return new sg(n)}catch{return null}}}class Vo{constructor(){this.providerId=Vo.PROVIDER_ID}static credential(e,n){return fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=sg.parseLink(n);return Ee(s,"argument-error"),fc._fromEmailAndCode(e,s.code,s.tenantId)}}Vo.PROVIDER_ID="password";Vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ag{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Cc extends ag{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ls extends Cc{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";class di extends Cc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return di.credential(n,s)}catch{return null}}}di.GOOGLE_SIGN_IN_METHOD="google.com";di.PROVIDER_ID="google.com";class cs extends Cc{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";class us extends Cc{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return us.credential(n,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";async function WN(r,e){return Nc(r,"POST","/v1/accounts:signUp",Si(r,e))}class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await cr._fromIdTokenResponse(e,s,o),h=ib(s);return new ha({user:c,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=ib(s);return new ha({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function ib(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Fh extends gr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Fh(e,n,s,o)}}function Sx(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(r,c,e,s):c})}async function ZN(r,e,n=!1){const s=await dc(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ha._forOperation(r,"link",s)}async function eC(r,e,n=!1){const{auth:s}=r;if(In(s.app))return Promise.reject(yi(s));const o="reauthenticate";try{const c=await dc(r,Sx(s,o,e,r),n);Ee(c.idToken,s,"internal-error");const h=ng(c.idToken);Ee(h,s,"internal-error");const{sub:p}=h;return Ee(r.uid===p,s,"user-mismatch"),ha._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Qn(s,"user-mismatch"),c}}async function Ax(r,e,n=!1){if(In(r.app))return Promise.reject(yi(r));const s="signIn",o=await Sx(r,s,e),c=await ha._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function tC(r,e){return Ax(Ri(r),e)}async function Rx(r){const e=Ri(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nC(r,e,n){const s=Ri(r);await Hh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$N)}async function rC(r,e,n){if(In(r.app))return Promise.reject(yi(r));const s=Ri(r),h=await Hh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Rx(r),g}),p=await ha._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(p.user),p}function iC(r,e,n){return In(r.app)?Promise.reject(yi(r)):tC(ft(r),Vo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Rx(r),s})}function sC(r,e,n,s){return ft(r).onIdTokenChanged(e,n,s)}function aC(r,e,n){return ft(r).beforeAuthStateChanged(e,n)}function oC(r,e,n,s){return ft(r).onAuthStateChanged(e,n,s)}function lC(r){return ft(r).signOut()}const Gh="__sak";class Nx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const cC=1e3,uC=10;class Cx extends Nx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},c=this.storage.getItem(s);wN()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},cC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cx.type="LOCAL";const hC=Cx;class Ix extends Nx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ix.type="SESSION";const Dx=Ix;function dC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class dd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new dd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(h).map(async y=>y(n.origin,c)),g=await dC(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dd.receivers=[];function og(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class fC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=og("",20);o.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(E){const w=E;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(w.data.response);break;default:clearTimeout(x),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function zr(){return window}function mC(r){zr().location.href=r}function Ox(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function pC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gC(){return navigator?.serviceWorker?.controller||null}function yC(){return Ox()?self:null}const jx="firebaseLocalStorageDb",vC=1,$h="firebaseLocalStorage",kx="fbase_key";class Ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fd(r,e){return r.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function _C(){const r=indexedDB.deleteDatabase(jx);return new Ic(r).toPromise()}function _p(){const r=indexedDB.open(jx,vC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore($h,{keyPath:kx})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains($h)?e(s):(s.close(),await _C(),e(await _p()))})})}async function sb(r,e,n){const s=fd(r,!0).put({[kx]:e,value:n});return new Ic(s).toPromise()}async function bC(r,e){const n=fd(r,!1).get(e),s=await new Ic(n).toPromise();return s===void 0?null:s.value}function ab(r,e){const n=fd(r,!0).delete(e);return new Ic(n).toPromise()}const xC=800,EC=3;class Mx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _p(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>EC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ox()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dd._getInstance(yC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pC(),!this.activeServiceWorker)return;this.sender=new fC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _p();return await sb(e,Gh,"1"),await ab(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sb(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>bC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ab(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=fd(o,!1).getAll();return new Ic(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mx.type="LOCAL";const TC=Mx;new Rc(3e4,6e4);function Vx(r,e){return e?mi(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class lg extends ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wC(r){return Ax(r.auth,new lg(r),r.bypassAuthState)}function SC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),eC(n,new lg(r),r.bypassAuthState)}async function AC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),ZN(n,new lg(r),r.bypassAuthState)}class Px{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wC;case"linkViaPopup":case"linkViaRedirect":return AC;case"reauthViaPopup":case"reauthViaRedirect":return SC;default:Qn(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const RC=new Rc(2e3,1e4);async function NC(r,e,n){if(In(r.app))return Promise.reject(ur(r,"operation-not-supported-in-this-environment"));const s=Ri(r);iN(r,e,ag);const o=Vx(s,n);return new sa(s,"signInViaPopup",e,o).executeNotNull()}class sa extends Px{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RC.get())};e()}}sa.currentPopupAction=null;const CC="pendingRedirect",Rh=new Map;class IC extends Px{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Rh.get(this.auth._key());if(!e){try{const s=await DC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Rh.set(this.auth._key(),e)}return this.bypassAuthState||Rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DC(r,e){const n=kC(e),s=jC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function OC(r,e){Rh.set(r._key(),e)}function jC(r){return mi(r._redirectPersistence)}function kC(r){return Ah(CC,r.config.apiKey,r.name)}async function MC(r,e,n=!1){if(In(r.app))return Promise.reject(yi(r));const s=Ri(r),o=Vx(s,e),h=await new IC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const VC=600*1e3;class PC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Lx(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VC&&this.cachedEventUids.clear(),this.cachedEventUids.has(ob(e))}saveEventToCache(e){this.cachedEventUids.add(ob(e)),this.lastProcessedEventTime=Date.now()}}function ob(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Lx({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function LC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lx(r);default:return!1}}async function UC(r,e={}){return Ai(r,"GET","/v1/projects",e)}const zC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BC=/^https?/;async function qC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await UC(r);for(const n of e)try{if(HC(n))return}catch{}Qn(r,"unauthorized-domain")}function HC(r){const e=yp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!BC.test(n))return!1;if(zC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const FC=new Rc(3e4,6e4);function lb(){const r=zr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function GC(r){return new Promise((e,n)=>{function s(){lb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lb(),n(ur(r,"network-request-failed"))},timeout:FC.get()})}if(zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zr().gapi?.load)s();else{const o=jN("iframefcb");return zr()[o]=()=>{gapi.load?s():n(ur(r,"network-request-failed"))},Ex(`${ON()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function $C(r){return Nh=Nh||GC(r),Nh}const KC=new Rc(5e3,15e3),YC="__/auth/iframe",QC="emulator/auth/iframe",XC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WC(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?tg(e,QC):`https://${r.config.authDomain}/${YC}`,s={apiKey:e.apiKey,appName:r.name,v:Mo},o=JC.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Ac(s).slice(1)}`}async function ZC(r){const e=await $C(r),n=zr().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:WC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XC,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const h=ur(r,"network-request-failed"),p=zr().setTimeout(()=>{c(h)},KC.get());function g(){zr().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(h)})}))}const eI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tI=500,nI=600,rI="_blank",iI="http://localhost";class cb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sI(r,e,n,s=tI,o=nI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...eI,width:s.toString(),height:o.toString(),top:c,left:h},y=sn().toLowerCase();n&&(p=px(y)?rI:n),fx(y)&&(e=e||iI,g.scrollbars="yes");const x=Object.entries(g).reduce((w,[I,U])=>`${w}${I}=${U},`,"");if(TN(y)&&p!=="_self")return aI(e||"",p),new cb(null);const E=window.open(e||"",p,x);Ee(E,r,"popup-blocked");try{E.focus()}catch{}return new cb(E)}function aI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const oI="__/auth/handler",lI="emulator/auth/handler",cI=encodeURIComponent("fac");async function ub(r,e,n,s,o,c){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Mo,eventId:o};if(e instanceof ag){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",B2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,E]of Object.entries({}))h[x]=E}if(e instanceof Cc){const x=e.getScopes().filter(E=>E!=="");x.length>0&&(h.scopes=x.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const x of Object.keys(p))p[x]===void 0&&delete p[x];const g=await r._getAppCheckToken(),y=g?`#${cI}=${encodeURIComponent(g)}`:"";return`${uI(r)}?${Ac(p).slice(1)}${y}`}function uI({config:r}){return r.emulator?tg(r,lI):`https://${r.authDomain}/${oI}`}const ep="webStorageSupport";class hI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dx,this._completeRedirectFn=MC,this._overrideRedirectResult=OC}async _openPopup(e,n,s,o){xi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await ub(e,n,s,yp(),o);return sI(e,c,og())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await ub(e,n,s,yp(),o);return mC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(xi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ZC(e),s=new PC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ep,{type:ep},o=>{const c=o?.[0]?.[ep];c!==void 0&&n(!!c),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bx()||mx()||rg()}}const dI=hI;var hb="@firebase/auth",db="1.12.0";class fI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pI(r){Fr(new fr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xx(r)},y=new CN(s,o,c,g);return UN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Fr(new fr("auth-internal",e=>{const n=Ri(e.getProvider("auth").getImmediate());return(s=>new fI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yn(hb,db,mI(r)),Yn(hb,db,"esm2020")}const gI=300,yI=X1("authIdTokenMaxAge")||gI;let fb=null;const vI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>yI)return;const o=n?.token;fb!==o&&(fb=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _I(r=Wp()){const e=va(r,"auth");if(e.isInitialized())return e.getImmediate();const n=LN(r,{popupRedirectResolver:dI,persistence:[TC,hC,Dx]}),s=X1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const h=vI(c.toString());aC(n,h,()=>h(n.currentUser)),sC(n,p=>h(p))}}const o=Y1("auth");return o&&zN(n,`http://${o}`),n}function bI(){return document.getElementsByTagName("head")?.[0]??document}IN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=ur("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",bI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pI("Browser");var xI="firebase",EI="12.9.0";Yn(xI,EI,"app");var mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ms,Ux;(function(){var r;function e(S,R){function N(){}N.prototype=R.prototype,S.F=R.prototype,S.prototype=new N,S.prototype.constructor=S,S.D=function(L,j,B){for(var C=Array(arguments.length-2),je=2;je<arguments.length;je++)C[je-2]=arguments[je];return R.prototype[j].apply(L,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,R,N){N||(N=0);const L=Array(16);if(typeof R=="string")for(var j=0;j<16;++j)L[j]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(j=0;j<16;++j)L[j]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=S.g[0],N=S.g[1],j=S.g[2];let B=S.g[3],C;C=R+(B^N&(j^B))+L[0]+3614090360&4294967295,R=N+(C<<7&4294967295|C>>>25),C=B+(j^R&(N^j))+L[1]+3905402710&4294967295,B=R+(C<<12&4294967295|C>>>20),C=j+(N^B&(R^N))+L[2]+606105819&4294967295,j=B+(C<<17&4294967295|C>>>15),C=N+(R^j&(B^R))+L[3]+3250441966&4294967295,N=j+(C<<22&4294967295|C>>>10),C=R+(B^N&(j^B))+L[4]+4118548399&4294967295,R=N+(C<<7&4294967295|C>>>25),C=B+(j^R&(N^j))+L[5]+1200080426&4294967295,B=R+(C<<12&4294967295|C>>>20),C=j+(N^B&(R^N))+L[6]+2821735955&4294967295,j=B+(C<<17&4294967295|C>>>15),C=N+(R^j&(B^R))+L[7]+4249261313&4294967295,N=j+(C<<22&4294967295|C>>>10),C=R+(B^N&(j^B))+L[8]+1770035416&4294967295,R=N+(C<<7&4294967295|C>>>25),C=B+(j^R&(N^j))+L[9]+2336552879&4294967295,B=R+(C<<12&4294967295|C>>>20),C=j+(N^B&(R^N))+L[10]+4294925233&4294967295,j=B+(C<<17&4294967295|C>>>15),C=N+(R^j&(B^R))+L[11]+2304563134&4294967295,N=j+(C<<22&4294967295|C>>>10),C=R+(B^N&(j^B))+L[12]+1804603682&4294967295,R=N+(C<<7&4294967295|C>>>25),C=B+(j^R&(N^j))+L[13]+4254626195&4294967295,B=R+(C<<12&4294967295|C>>>20),C=j+(N^B&(R^N))+L[14]+2792965006&4294967295,j=B+(C<<17&4294967295|C>>>15),C=N+(R^j&(B^R))+L[15]+1236535329&4294967295,N=j+(C<<22&4294967295|C>>>10),C=R+(j^B&(N^j))+L[1]+4129170786&4294967295,R=N+(C<<5&4294967295|C>>>27),C=B+(N^j&(R^N))+L[6]+3225465664&4294967295,B=R+(C<<9&4294967295|C>>>23),C=j+(R^N&(B^R))+L[11]+643717713&4294967295,j=B+(C<<14&4294967295|C>>>18),C=N+(B^R&(j^B))+L[0]+3921069994&4294967295,N=j+(C<<20&4294967295|C>>>12),C=R+(j^B&(N^j))+L[5]+3593408605&4294967295,R=N+(C<<5&4294967295|C>>>27),C=B+(N^j&(R^N))+L[10]+38016083&4294967295,B=R+(C<<9&4294967295|C>>>23),C=j+(R^N&(B^R))+L[15]+3634488961&4294967295,j=B+(C<<14&4294967295|C>>>18),C=N+(B^R&(j^B))+L[4]+3889429448&4294967295,N=j+(C<<20&4294967295|C>>>12),C=R+(j^B&(N^j))+L[9]+568446438&4294967295,R=N+(C<<5&4294967295|C>>>27),C=B+(N^j&(R^N))+L[14]+3275163606&4294967295,B=R+(C<<9&4294967295|C>>>23),C=j+(R^N&(B^R))+L[3]+4107603335&4294967295,j=B+(C<<14&4294967295|C>>>18),C=N+(B^R&(j^B))+L[8]+1163531501&4294967295,N=j+(C<<20&4294967295|C>>>12),C=R+(j^B&(N^j))+L[13]+2850285829&4294967295,R=N+(C<<5&4294967295|C>>>27),C=B+(N^j&(R^N))+L[2]+4243563512&4294967295,B=R+(C<<9&4294967295|C>>>23),C=j+(R^N&(B^R))+L[7]+1735328473&4294967295,j=B+(C<<14&4294967295|C>>>18),C=N+(B^R&(j^B))+L[12]+2368359562&4294967295,N=j+(C<<20&4294967295|C>>>12),C=R+(N^j^B)+L[5]+4294588738&4294967295,R=N+(C<<4&4294967295|C>>>28),C=B+(R^N^j)+L[8]+2272392833&4294967295,B=R+(C<<11&4294967295|C>>>21),C=j+(B^R^N)+L[11]+1839030562&4294967295,j=B+(C<<16&4294967295|C>>>16),C=N+(j^B^R)+L[14]+4259657740&4294967295,N=j+(C<<23&4294967295|C>>>9),C=R+(N^j^B)+L[1]+2763975236&4294967295,R=N+(C<<4&4294967295|C>>>28),C=B+(R^N^j)+L[4]+1272893353&4294967295,B=R+(C<<11&4294967295|C>>>21),C=j+(B^R^N)+L[7]+4139469664&4294967295,j=B+(C<<16&4294967295|C>>>16),C=N+(j^B^R)+L[10]+3200236656&4294967295,N=j+(C<<23&4294967295|C>>>9),C=R+(N^j^B)+L[13]+681279174&4294967295,R=N+(C<<4&4294967295|C>>>28),C=B+(R^N^j)+L[0]+3936430074&4294967295,B=R+(C<<11&4294967295|C>>>21),C=j+(B^R^N)+L[3]+3572445317&4294967295,j=B+(C<<16&4294967295|C>>>16),C=N+(j^B^R)+L[6]+76029189&4294967295,N=j+(C<<23&4294967295|C>>>9),C=R+(N^j^B)+L[9]+3654602809&4294967295,R=N+(C<<4&4294967295|C>>>28),C=B+(R^N^j)+L[12]+3873151461&4294967295,B=R+(C<<11&4294967295|C>>>21),C=j+(B^R^N)+L[15]+530742520&4294967295,j=B+(C<<16&4294967295|C>>>16),C=N+(j^B^R)+L[2]+3299628645&4294967295,N=j+(C<<23&4294967295|C>>>9),C=R+(j^(N|~B))+L[0]+4096336452&4294967295,R=N+(C<<6&4294967295|C>>>26),C=B+(N^(R|~j))+L[7]+1126891415&4294967295,B=R+(C<<10&4294967295|C>>>22),C=j+(R^(B|~N))+L[14]+2878612391&4294967295,j=B+(C<<15&4294967295|C>>>17),C=N+(B^(j|~R))+L[5]+4237533241&4294967295,N=j+(C<<21&4294967295|C>>>11),C=R+(j^(N|~B))+L[12]+1700485571&4294967295,R=N+(C<<6&4294967295|C>>>26),C=B+(N^(R|~j))+L[3]+2399980690&4294967295,B=R+(C<<10&4294967295|C>>>22),C=j+(R^(B|~N))+L[10]+4293915773&4294967295,j=B+(C<<15&4294967295|C>>>17),C=N+(B^(j|~R))+L[1]+2240044497&4294967295,N=j+(C<<21&4294967295|C>>>11),C=R+(j^(N|~B))+L[8]+1873313359&4294967295,R=N+(C<<6&4294967295|C>>>26),C=B+(N^(R|~j))+L[15]+4264355552&4294967295,B=R+(C<<10&4294967295|C>>>22),C=j+(R^(B|~N))+L[6]+2734768916&4294967295,j=B+(C<<15&4294967295|C>>>17),C=N+(B^(j|~R))+L[13]+1309151649&4294967295,N=j+(C<<21&4294967295|C>>>11),C=R+(j^(N|~B))+L[4]+4149444226&4294967295,R=N+(C<<6&4294967295|C>>>26),C=B+(N^(R|~j))+L[11]+3174756917&4294967295,B=R+(C<<10&4294967295|C>>>22),C=j+(R^(B|~N))+L[2]+718787259&4294967295,j=B+(C<<15&4294967295|C>>>17),C=N+(B^(j|~R))+L[9]+3951481745&4294967295,S.g[0]=S.g[0]+R&4294967295,S.g[1]=S.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+j&4294967295,S.g[3]=S.g[3]+B&4294967295}s.prototype.v=function(S,R){R===void 0&&(R=S.length);const N=R-this.blockSize,L=this.C;let j=this.h,B=0;for(;B<R;){if(j==0)for(;B<=N;)o(this,S,B),B+=this.blockSize;if(typeof S=="string"){for(;B<R;)if(L[j++]=S.charCodeAt(B++),j==this.blockSize){o(this,L),j=0;break}}else for(;B<R;)if(L[j++]=S[B++],j==this.blockSize){o(this,L),j=0;break}}this.h=j,this.o+=R},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var R=1;R<S.length-8;++R)S[R]=0;R=this.o*8;for(var N=S.length-8;N<S.length;++N)S[N]=R&255,R/=256;for(this.v(S),S=Array(16),R=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)S[R++]=this.g[N]>>>L&255;return S};function c(S,R){var N=p;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=R(S)}function h(S,R){this.h=R;const N=[];let L=!0;for(let j=S.length-1;j>=0;j--){const B=S[j]|0;L&&B==R||(N[j]=B,L=!1)}this.g=N}var p={};function g(S){return-128<=S&&S<128?c(S,function(R){return new h([R|0],R<0?-1:0)}):new h([S|0],S<0?-1:0)}function y(S){if(isNaN(S)||!isFinite(S))return E;if(S<0)return H(y(-S));const R=[];let N=1;for(let L=0;S>=N;L++)R[L]=S/N|0,N*=4294967296;return new h(R,0)}function x(S,R){if(S.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(S.charAt(0)=="-")return H(x(S.substring(1),R));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(R,8));let L=E;for(let B=0;B<S.length;B+=8){var j=Math.min(8,S.length-B);const C=parseInt(S.substring(B,B+j),R);j<8?(j=y(Math.pow(R,j)),L=L.j(j).add(y(C))):(L=L.j(N),L=L.add(y(C)))}return L}var E=g(0),w=g(1),I=g(16777216);r=h.prototype,r.m=function(){if(q(this))return-H(this).m();let S=0,R=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);S+=(L>=0?L:4294967296+L)*R,R*=4294967296}return S},r.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(U(this))return"0";if(q(this))return"-"+H(this).toString(S);const R=y(Math.pow(S,6));var N=this;let L="";for(;;){const j=ce(N,R).g;N=J(N,j.j(R));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(S);if(N=j,U(N))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},r.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function U(S){if(S.h!=0)return!1;for(let R=0;R<S.g.length;R++)if(S.g[R]!=0)return!1;return!0}function q(S){return S.h==-1}r.l=function(S){return S=J(this,S),q(S)?-1:U(S)?0:1};function H(S){const R=S.g.length,N=[];for(let L=0;L<R;L++)N[L]=~S.g[L];return new h(N,~S.h).add(w)}r.abs=function(){return q(this)?H(this):this},r.add=function(S){const R=Math.max(this.g.length,S.g.length),N=[];let L=0;for(let j=0;j<=R;j++){let B=L+(this.i(j)&65535)+(S.i(j)&65535),C=(B>>>16)+(this.i(j)>>>16)+(S.i(j)>>>16);L=C>>>16,B&=65535,C&=65535,N[j]=C<<16|B}return new h(N,N[N.length-1]&-2147483648?-1:0)};function J(S,R){return S.add(H(R))}r.j=function(S){if(U(this)||U(S))return E;if(q(this))return q(S)?H(this).j(H(S)):H(H(this).j(S));if(q(S))return H(this.j(H(S)));if(this.l(I)<0&&S.l(I)<0)return y(this.m()*S.m());const R=this.g.length+S.g.length,N=[];for(var L=0;L<2*R;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let j=0;j<S.g.length;j++){const B=this.i(L)>>>16,C=this.i(L)&65535,je=S.i(j)>>>16,ot=S.i(j)&65535;N[2*L+2*j]+=C*ot,k(N,2*L+2*j),N[2*L+2*j+1]+=B*ot,k(N,2*L+2*j+1),N[2*L+2*j+1]+=C*je,k(N,2*L+2*j+1),N[2*L+2*j+2]+=B*je,k(N,2*L+2*j+2)}for(S=0;S<R;S++)N[S]=N[2*S+1]<<16|N[2*S];for(S=R;S<2*R;S++)N[S]=0;return new h(N,0)};function k(S,R){for(;(S[R]&65535)!=S[R];)S[R+1]+=S[R]>>>16,S[R]&=65535,R++}function Z(S,R){this.g=S,this.h=R}function ce(S,R){if(U(R))throw Error("division by zero");if(U(S))return new Z(E,E);if(q(S))return R=ce(H(S),R),new Z(H(R.g),H(R.h));if(q(R))return R=ce(S,H(R)),new Z(H(R.g),R.h);if(S.g.length>30){if(q(S)||q(R))throw Error("slowDivide_ only works with positive integers.");for(var N=w,L=R;L.l(S)<=0;)N=K(N),L=K(L);var j=oe(N,1),B=oe(L,1);for(L=oe(L,2),N=oe(N,2);!U(L);){var C=B.add(L);C.l(S)<=0&&(j=j.add(N),B=C),L=oe(L,1),N=oe(N,1)}return R=J(S,j.j(R)),new Z(j,R)}for(j=E;S.l(R)>=0;){for(N=Math.max(1,Math.floor(S.m()/R.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=y(N),C=B.j(R);q(C)||C.l(S)>0;)N-=L,B=y(N),C=B.j(R);U(B)&&(B=w),j=j.add(B),S=J(S,C)}return new Z(j,S)}r.B=function(S){return ce(this,S).h},r.and=function(S){const R=Math.max(this.g.length,S.g.length),N=[];for(let L=0;L<R;L++)N[L]=this.i(L)&S.i(L);return new h(N,this.h&S.h)},r.or=function(S){const R=Math.max(this.g.length,S.g.length),N=[];for(let L=0;L<R;L++)N[L]=this.i(L)|S.i(L);return new h(N,this.h|S.h)},r.xor=function(S){const R=Math.max(this.g.length,S.g.length),N=[];for(let L=0;L<R;L++)N[L]=this.i(L)^S.i(L);return new h(N,this.h^S.h)};function K(S){const R=S.g.length+1,N=[];for(let L=0;L<R;L++)N[L]=S.i(L)<<1|S.i(L-1)>>>31;return new h(N,S.h)}function oe(S,R){const N=R>>5;R%=32;const L=S.g.length-N,j=[];for(let B=0;B<L;B++)j[B]=R>0?S.i(B+N)>>>R|S.i(B+N+1)<<32-R:S.i(B+N);return new h(j,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Ux=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=x,ms=h}).apply(typeof mb<"u"?mb:typeof self<"u"?self:typeof window<"u"?window:{});var yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zx,ec,Bx,Ch,bp,qx,Hx,Fx;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yh=="object"&&yh];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function o(u,v){if(v)e:{var b=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var F=u[A];if(!(F in b))break e;b=b[F]}u=u[u.length-1],A=b[u],v=v(A),v!=A&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(v){var b=[],A;for(A in v)Object.prototype.hasOwnProperty.call(v,A)&&b.push([A,v[A]]);return b}});var c=c||{},h=this||self;function p(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function g(u,v,b){return u.call.apply(u.bind,arguments)}function y(u,v,b){return y=g,y.apply(null,arguments)}function x(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function E(u,v){function b(){}b.prototype=v.prototype,u.Z=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(A,F,Q){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return v.prototype[F].apply(A,le)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function I(u){const v=u.length;if(v>0){const b=Array(v);for(let A=0;A<v;A++)b[A]=u[A];return b}return[]}function U(u,v){for(let A=1;A<arguments.length;A++){const F=arguments[A];var b=typeof F;if(b=b!="object"?b:F?Array.isArray(F)?"array":b:"null",b=="array"||b=="object"&&typeof F.length=="number"){b=u.length||0;const Q=F.length||0;u.length=b+Q;for(let le=0;le<Q;le++)u[b+le]=F[le]}else u.push(F)}}class q{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(u){h.setTimeout(()=>{throw u},0)}function J(){var u=S;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class k{constructor(){this.h=this.g=null}add(v,b){const A=Z.get();A.set(v,b),this.h?this.h.next=A:this.g=A,this.h=A}}var Z=new q(()=>new ce,u=>u.reset());class ce{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let K,oe=!1,S=new k,R=()=>{const u=Promise.resolve(void 0);K=()=>{u.then(N)}};function N(){for(var u;u=J();){try{u.h.call(u.g)}catch(b){H(b)}var v=Z;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}oe=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};h.addEventListener("test",b,v),h.removeEventListener("test",b,v)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function je(u,v){j.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}E(je,j),je.prototype.init=function(u,v){const b=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),D=0;function se(u,v,b,A,F){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!A,this.ha=F,this.key=++D,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _e(u,v,b){for(const A in u)v.call(b,u[A],A,u)}function Re(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function M(u){const v={};for(const b in u)v[b]=u[b];return v}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,v){let b,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(b in A)u[b]=A[b];for(let Q=0;Q<ee.length;Q++)b=ee[Q],Object.prototype.hasOwnProperty.call(A,b)&&(u[b]=A[b])}}function fe(u){this.src=u,this.g={},this.h=0}fe.prototype.add=function(u,v,b,A,F){const Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);const le=De(u,v,A,F);return le>-1?(v=u[le],b||(v.fa=!1)):(v=new se(v,this.src,Q,!!A,F),v.fa=b,u.push(v)),v};function we(u,v){const b=v.type;if(b in u.g){var A=u.g[b],F=Array.prototype.indexOf.call(A,v,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(A,F,1),Q&&(he(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function De(u,v,b,A){for(let F=0;F<u.length;++F){const Q=u[F];if(!Q.da&&Q.listener==v&&Q.capture==!!b&&Q.ha==A)return F}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),Vt={};function lt(u,v,b,A,F){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)lt(u,v[Q],b,A,F);return null}return b=$o(b),u&&u[ot]?u.J(v,b,p(A)?!!A.capture:!1,F):Rs(u,v,b,!1,A,F)}function Rs(u,v,b,A,F,Q){if(!v)throw Error("Invalid event type");const le=p(F)?!!F.capture:!!F;let Ce=Ns(u);if(Ce||(u[qe]=Ce=new fe(u)),b=Ce.add(v,b,A,le,Q),b.proxy)return b;if(A=xa(),b.proxy=A,A.src=u,A.listener=b,u.addEventListener)B||(F=le),F===void 0&&(F=!1),u.addEventListener(v.toString(),A,F);else if(u.attachEvent)u.attachEvent(yr(v.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function xa(){function u(b){return v.call(u.src,u.listener,b)}const v=Fo;return u}function Ea(u,v,b,A,F){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Ea(u,v[Q],b,A,F);else A=p(A)?!!A.capture:!!A,b=$o(b),u&&u[ot]?(u=u.i,Q=String(v).toString(),Q in u.g&&(v=u.g[Q],b=De(v,b,A,F),b>-1&&(he(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete u.g[Q],u.h--)))):u&&(u=Ns(u))&&(v=u.g[v.toString()],u=-1,v&&(u=De(v,b,A,F)),(b=u>-1?v[u]:null)&&Ta(b))}function Ta(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[ot])we(v.i,u);else{var b=u.type,A=u.proxy;v.removeEventListener?v.removeEventListener(b,A,u.capture):v.detachEvent?v.detachEvent(yr(b),A):v.addListener&&v.removeListener&&v.removeListener(A),(b=Ns(v))?(we(b,u),b.h==0&&(b.src=null,v[qe]=null)):he(u)}}}function yr(u){return u in Vt?Vt[u]:Vt[u]="on"+u}function Fo(u,v){if(u.da)u=!0;else{v=new je(v,this);const b=u.listener,A=u.ha||u.src;u.fa&&Ta(u),u=b.call(A,v)}return u}function Ns(u){return u=u[qe],u instanceof fe?u:null}var Go="__closure_events_fn_"+(Math.random()*1e9>>>0);function $o(u){return typeof u=="function"?u:(u[Go]||(u[Go]=function(v){return u.handleEvent(v)}),u[Go])}function wt(){L.call(this),this.i=new fe(this),this.M=this,this.G=null}E(wt,L),wt.prototype[ot]=!0,wt.prototype.removeEventListener=function(u,v,b,A){Ea(this,u,v,b,A)};function Pt(u,v){var b,A=u.G;if(A)for(b=[];A;A=A.G)b.push(A);if(u=u.M,A=v.type||v,typeof v=="string")v=new j(v,u);else if(v instanceof j)v.target=v.target||u;else{var F=v;v=new j(A,u),ae(v,F)}F=!0;let Q,le;if(b)for(le=b.length-1;le>=0;le--)Q=v.g=b[le],F=Ni(Q,A,!0,v)&&F;if(Q=v.g=u,F=Ni(Q,A,!0,v)&&F,F=Ni(Q,A,!1,v)&&F,b)for(le=0;le<b.length;le++)Q=v.g=b[le],F=Ni(Q,A,!1,v)&&F}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const b=u.g[v];for(let A=0;A<b.length;A++)he(b[A]);delete u.g[v],u.h--}}this.G=null},wt.prototype.J=function(u,v,b,A){return this.i.add(String(u),v,!1,b,A)},wt.prototype.K=function(u,v,b,A){return this.i.add(String(u),v,!0,b,A)};function Ni(u,v,b,A){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let Q=0;Q<v.length;++Q){const le=v[Q];if(le&&!le.da&&le.capture==b){const Ce=le.listener,bt=le.ha||le.src;le.fa&&we(u.i,le),F=Ce.call(bt,A)!==!1&&F}}return F&&!A.defaultPrevented}function zd(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(u,v||0)}function zc(u){u.g=zd(()=>{u.g=null,u.i&&(u.i=!1,zc(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class an extends L{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:zc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(u){L.call(this),this.h=u,this.g={}}E(Cs,L);var Ko=[];function Yo(u){_e(u.g,function(v,b){this.g.hasOwnProperty(b)&&Ta(v)},u),u.g={}}Cs.prototype.N=function(){Cs.Z.N.call(this),Yo(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=h.JSON.stringify,Bd=h.JSON.parse,Bc=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function qc(){}function Hc(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){j.call(this,"d")}E(Ft,j);function kn(){j.call(this,"c")}E(kn,j);var _t={},Fc=null;function wa(){return Fc=Fc||new wt}_t.Ia="serverreachability";function Gc(u){j.call(this,_t.Ia,u)}E(Gc,j);function vr(u){const v=wa();Pt(v,new Gc(v))}_t.STAT_EVENT="statevent";function Is(u,v){j.call(this,_t.STAT_EVENT,u),this.stat=v}E(Is,j);function St(u){const v=wa();Pt(v,new Is(v,u))}_t.Ja="timingevent";function _r(u,v){j.call(this,_t.Ja,u),this.size=v}E(_r,j);function br(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},v)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function qd(u,v,b,A,F,Q){u.info(function(){if(u.g)if(Q){var le="",Ce=Q.split("&");for(let $e=0;$e<Ce.length;$e++){var bt=Ce[$e].split("=");if(bt.length>1){const ct=bt[0];bt=bt[1];const Ln=ct.split("_");le=Ln.length>=2&&Ln[1]=="type"?le+(ct+"="+bt+"&"):le+(ct+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+v+`
`+b+`
`+le})}function $c(u,v,b,A,F,Q,le){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+v+`
`+b+`
`+Q+" "+le})}function xr(u,v,b,A){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Hd(u,b)+(A?" "+A:"")})}function Ds(u,v){u.info(function(){return"TIMEOUT: "+v})}Jn.prototype.info=function(){};function Hd(u,v){if(!u.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(u=0;u<Q.length;u++)if(Array.isArray(Q[u])){var b=Q[u];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return Ci(Q)}catch{return v}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xo;function js(){}E(js,qc),js.prototype.g=function(){return new XMLHttpRequest},Xo=new js;function Kr(u){return encodeURIComponent(String(u))}function Kc(u){var v=1;u=u.split(":");const b=[];for(;v>0&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function Wn(u,v,b,A){this.j=u,this.i=v,this.l=b,this.S=A||1,this.V=new Cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var At={},zt={};function Er(u,v,b){u.M=1,u.A=ks(Nt(v)),u.u=b,u.R=!0,Sa(u,null)}function Sa(u,v){u.F=Date.now(),Tr(u),u.B=Nt(u.A);var b=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Ca(b.i,"t",A),u.C=0,b=u.j.L,u.h=new Zn,u.g=lu(u.j,b?v:null,!u.u),u.P>0&&(u.O=new an(y(u.Y,u,u.g),u.P)),v=u.V,b=u.g,A=u.ba;var F="readystatechange";Array.isArray(F)||(F&&(Ko[0]=F.toString()),F=Ko);for(let Q=0;Q<F.length;Q++){const le=lt(b,F[Q],A||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),vr(),qd(u.i,u.v,u.B,u.l,u.S,u.u)}Wn.prototype.ba=function(u){u=u.target;const v=this.O;v&&nr(u)==3?v.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=nr(this.g),bt=this.g.ya(),$e=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ce!=4||bt==7||(bt==8||$e<=0?vr(3):vr(2)),wr(this);var v=this.g.ca();this.X=v;var b=Fd(this);if(this.o=v==200,$c(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var Q=A;break t}}Q=null}if(u=Q)xr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sr(this,u);else{this.o=!1,this.m=3,St(12),xn(this),Mn(this);break e}}if(this.R){u=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=Qc(this,b),ct==zt){Ce==4&&(this.m=4,St(14),u=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==At){this.m=4,St(15),xr(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else xr(this.i,this.l,ct,null),Sr(this,ct);if(Yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||b.length!=0||this.h.h||(this.m=1,St(16),u=!1),this.o=this.o&&u,!u)xr(this.i,this.l,b,"[Invalid Chunked Response]"),xn(this),Mn(this);else if(b.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),hl(le),le.P=!0,St(11))}}else xr(this.i,this.l,b,null),Sr(this,b);Ce==4&&xn(this),this.o&&!this.K&&(Ce==4?iu(this.j,this):(this.o=!1,Tr(this)))}else Qr(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),xn(this),Mn(this)}}}catch{}};function Fd(u){if(!Yc(u))return u.g.la();const v=Gt(u.g);if(v==="")return"";let b="";const A=v.length,F=nr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return xn(u),Mn(u),"";u.h.i=new h.TextDecoder}for(let Q=0;Q<A;Q++)u.h.h=!0,b+=u.h.i.decode(v[Q],{stream:!(F&&Q==A-1)});return v.length=0,u.h.g+=b,u.C=0,u.h.g}function Yc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Qc(u,v){var b=u.C,A=v.indexOf(`
`,b);return A==-1?zt:(b=Number(v.substring(b,A)),isNaN(b)?At:(A+=1,A+b>v.length?zt:(v=v.slice(A,A+b),u.C=A+b,v)))}Wn.prototype.cancel=function(){this.K=!0,xn(this)};function Tr(u){u.T=Date.now()+u.H,Aa(u,u.H)}function Aa(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=br(y(u.aa,u),v)}function wr(u){u.D&&(h.clearTimeout(u.D),u.D=null)}Wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ds(this.i,this.B),this.M!=2&&(vr(),St(17)),xn(this),this.m=2,Mn(this)):Aa(this,this.T-u)};function Mn(u){u.j.I==0||u.K||iu(u.j,u)}function xn(u){wr(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Yo(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function Sr(u,v){try{var b=u.j;if(b.I!=0&&(b.g==u||Rr(b.h,u))){if(!u.L&&Rr(b.h,u)&&b.I==3){try{var A=b.Ba.g.parse(v)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)ka(b),Pi(b);else break e;Bs(b),St(18)}}else b.xa=F[1],0<b.xa-b.K&&F[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=br(y(b.Va,b),6e3));Ar(b.h)<=1&&b.ta&&(b.ta=void 0)}else jr(b,11)}else if((u.L||b.g==u)&&ka(b),!C(v))for(F=b.Ba.g.parse(v),v=0;v<F.length;v++){let $e=F[v];const ct=$e[0];if(!(ct<=b.K))if(b.K=ct,$e=$e[1],b.I==2)if($e[0]=="c"){b.M=$e[1],b.ba=$e[2];const Ln=$e[3];Ln!=null&&(b.ka=Ln,b.j.info("VER="+b.ka));const kr=$e[4];kr!=null&&(b.za=kr,b.j.info("SVER="+b.za));const rr=$e[5];rr!=null&&typeof rr=="number"&&rr>0&&(A=1.5*rr,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const ir=u.g;if(ir){const qs=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var Q=A.h;Q.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Zo(Q,Q.h),Q.h=null))}if(A.G){const Ma=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(A.wa=Ma,Qe(A.J,A.G,Ma))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var le=u;if(A.na=ou(A,A.L?A.ba:null,A.W),le.L){el(A.h,le);var Ce=le,bt=A.O;bt&&(Ce.H=bt),Ce.D&&(wr(Ce),Tr(Ce)),A.g=le}else nu(A);b.i.length>0&&Or(b)}else $e[0]!="stop"&&$e[0]!="close"||jr(b,7);else b.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?jr(b,7):cl(b):$e[0]!="noop"&&b.l&&b.l.qa($e),b.A=0)}}vr(4)}catch{}}var Rt=class{constructor(u,v){this.g=u,this.map=v}};function Jo(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ar(u){return u.h?1:u.g?u.g.size:0}function Rr(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Zo(u,v){u.g?u.g.add(v):u.h=v}function el(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Jo.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.G);return v}return I(u.i)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(u,v){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const A=u[b].indexOf("=");let F,Q=null;A>=0?(F=u[b].substring(0,A),Q=u[b].substring(A+1)):F=u[b],v(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof En?(this.l=u.l,Bt(this,u.j),this.o=u.o,this.g=u.g,Ii(this,u.u),this.h=u.h,nl(this,eu(u.i)),this.m=u.m):u&&(v=String(u).match(Xc))?(this.l=!1,Bt(this,v[1]||"",!0),this.o=Nr(v[2]||""),this.g=Nr(v[3]||"",!0),Ii(this,v[4]),this.h=Nr(v[5]||"",!0),nl(this,v[6]||"",!0),this.m=Nr(v[7]||"")):(this.l=!1,this.i=new Oi(null,this.l))}En.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Ms(v,Na,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Ms(v,Na,!0),"@"),u.push(Kr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ms(b,b.charAt(0)=="/"?rl:Jc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ms(b,Wc)),u.join("")},En.prototype.resolve=function(u){const v=Nt(this);let b=!!u.j;b?Bt(v,u.j):b=!!u.o,b?v.o=u.o:b=!!u.g,b?v.g=u.g:b=u.u!=null;var A=u.h;if(b)Ii(v,u.u);else if(b=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=v.h.lastIndexOf("/");F!=-1&&(A=v.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let le=0;le<F.length;){const Ce=F[le++];Ce=="."?A&&le==F.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&le==F.length&&Q.push("")):(Q.push(Ce),A=!0)}A=Q.join("/")}else A=F}return b?v.h=A:b=u.i.toString()!=="",b?nl(v,eu(u.i)):b=!!u.m,b&&(v.m=u.m),v};function Nt(u){return new En(u)}function Bt(u,v,b){u.j=b?Nr(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Ii(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function nl(u,v,b){v instanceof Oi?(u.i=v,Ia(u.i,u.l)):(b||(v=Ms(v,Di)),u.i=new Oi(v,u.l))}function Qe(u,v,b){u.i.set(v,b)}function ks(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Nr(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ms(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,dn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Na=/[#\/\?@]/g,Jc=/[#\?:]/g,rl=/[#\?]/g,Di=/[#\?@]/g,Wc=/#/g;function Oi(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ra(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}r=Oi.prototype,r.add=function(u,v){fn(this),this.i=null,u=ji(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function Zc(u,v){fn(u),v=ji(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function il(u,v){return fn(u),v=ji(u,v),u.g.has(v)}r.forEach=function(u,v){fn(this),this.g.forEach(function(b,A){b.forEach(function(F){u.call(v,F,A,this)},this)},this)};function sl(u,v){fn(u);let b=[];if(typeof v=="string")il(u,v)&&(b=b.concat(u.g.get(ji(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)b=b.concat(u[v]);return b}r.set=function(u,v){return fn(this),this.i=null,u=ji(this,u),il(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=sl(this,u),u.length>0?String(u[0]):v):v};function Ca(u,v,b){Zc(u,v),b.length>0&&(u.i=null,u.g.set(ji(u,v),I(b)),u.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let A=0;A<v.length;A++){var b=v[A];const F=Kr(b);b=sl(this,b);for(let Q=0;Q<b.length;Q++){let le=F;b[Q]!==""&&(le+="="+Kr(b[Q])),u.push(le)}}return this.i=u.join("&")};function eu(u){const v=new Oi;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function ji(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Ia(u,v){v&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(b,A){const F=A.toLowerCase();A!=F&&(Zc(this,A),Ca(this,F,b))},u)),u.j=v}function er(u,v){const b=new Jn;if(h.Image){const A=new Image;A.onload=x(Vn,b,"TestLoadImage: loaded",!0,v,A),A.onerror=x(Vn,b,"TestLoadImage: error",!1,v,A),A.onabort=x(Vn,b,"TestLoadImage: abort",!1,v,A),A.ontimeout=x(Vn,b,"TestLoadImage: timeout",!1,v,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else v(!1)}function al(u,v){const b=new Jn,A=new AbortController,F=setTimeout(()=>{A.abort(),Vn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:A.signal}).then(Q=>{clearTimeout(F),Q.ok?Vn(b,"TestPingServer: ok",!0,v):Vn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Vn(b,"TestPingServer: error",!1,v)})}function Vn(u,v,b,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(b)}catch{}}function ki(){this.g=new Bc}function Cr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Cr,qc),Cr.prototype.g=function(){return new Vs(this.i,this.h)};function Vs(u,v){wt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Vs,wt),r=Vs.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,tr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Mi(this):tr(this),this.readyState==3&&Da(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Mi(this))},r.Na=function(u){this.g&&(this.response=u,Mi(this))},r.ga=function(){this.g&&Mi(this)};function Mi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,tr(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function tr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let v="";return _e(u,function(b,A){v+=A,v+=":",v+=b,v+=`\r
`}),v}function Ps(u,v,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Pn(b),typeof u=="string"?b!=null&&Kr(b):Qe(u,v,b))}function We(u){wt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(We,wt);var Ir=/^https?$/i,ol=["POST","PUT"];r=We.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xo.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Q){Ls(this,Q);return}if(u=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)b.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())b.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=h.FormData&&u instanceof h.FormData,!(Array.prototype.indexOf.call(ol,v,void 0)>=0)||A||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of b)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Q){Ls(this,Q)}};function Ls(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,ll(u),Yr(u)}function ll(u){u.A||(u.A=!0,Pt(u,"complete"),Pt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Pt(this,"complete"),Pt(this,"abort"),Yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},r.Xa=function(){Us(this)};function Us(u){if(u.h&&typeof c<"u"){if(u.v&&nr(u)==4)setTimeout(u.Ca.bind(u),0);else if(Pt(u,"readystatechange"),nr(u)==4){u.h=!1;try{const Q=u.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var A;if(A=Q===0){let le=String(u.D).match(Xc)[1]||null;!le&&h.self&&h.self.location&&(le=h.self.location.protocol.slice(0,-1)),A=!Ir.test(le?le.toLowerCase():"")}b=A}if(b)Pt(u,"complete"),Pt(u,"success");else{u.o=6;try{var F=nr(u)>2?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.ca()+"]",ll(u)}}finally{Yr(u)}}}}function Yr(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,v||Pt(u,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function nr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return nr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Bd(v)}};function Gt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qr(u){const v={};u=(u.g&&nr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var b=Kc(u[A]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=v[F]||[];v[F]=Q,Q.push(b)}Re(v,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dr(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function Vi(u){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Dr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Dr("baseRetryDelayMs",5e3,u),this.Za=Dr("retryDelaySeedMs",1e4,u),this.Ta=Dr("forwardChannelMaxRetries",2,u),this.va=Dr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Jo(u&&u.concurrentRequestLimit),this.Ba=new ki,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vi.prototype,r.ka=8,r.I=1,r.connect=function(u,v,b,A){St(0),this.W=u,this.H=v||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=ou(this,null,this.W),Or(this)};function cl(u){if(Oa(u),u.I==3){var v=u.V++,b=Nt(u.J);if(Qe(b,"SID",u.M),Qe(b,"RID",v),Qe(b,"TYPE","terminate"),zs(u,b),v=new Wn(u,u.j,v),v.M=2,v.A=ks(Nt(b)),b=!1,h.navigator&&h.navigator.sendBeacon)try{b=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&h.Image&&(new Image().src=v.A,b=!0),b||(v.g=lu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Tr(v)}au(u)}function Pi(u){u.g&&(hl(u),u.g.cancel(),u.g=null)}function Oa(u){Pi(u),u.v&&(h.clearTimeout(u.v),u.v=null),ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&h.clearTimeout(u.m),u.m=null)}function Or(u){if(!Wo(u.h)&&!u.m){u.m=!0;var v=u.Ea;K||R(),oe||(K(),oe=!0),S.add(v,u),u.D=0}}function ja(u,v){return Ar(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=br(y(u.Ea,u,v),su(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const F=new Wn(this,this.j,u);let Q=this.o;if(this.U&&(Q?(Q=M(Q),ae(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(v+=A,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=tu(this,F,v),b=Nt(this.J),Qe(b,"RID",u),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),zs(this,b),Q&&(this.R?v="headers="+Kr(Pn(Q))+"&"+v:this.u&&Ps(b,this.u,Q)),Zo(this.h,F),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",v),Qe(b,"SID","null"),F.U=!0,Er(F,b,null)):Er(F,b,v),this.I=2}}else this.I==3&&(u?ul(this,u):this.i.length==0||Wo(this.h)||ul(this))};function ul(u,v){var b;v?b=v.l:b=u.V++;const A=Nt(u.J);Qe(A,"SID",u.M),Qe(A,"RID",b),Qe(A,"AID",u.K),zs(u,A),u.u&&u.o&&Ps(A,u.u,u.o),b=new Wn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),v&&(u.i=v.G.concat(u.i)),v=tu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Zo(u.h,b),Er(b,A,v)}function zs(u,v){u.H&&_e(u.H,function(b,A){Qe(v,A,b)}),u.l&&_e({},function(b,A){Qe(v,A,b)})}function tu(u,v,b){b=Math.min(u.i.length,b);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var F=u.i;let Ce=-1;for(;;){const bt=["count="+b];Ce==-1?b>0?(Ce=F[0].g,bt.push("ofs="+Ce)):Ce=0:bt.push("ofs="+Ce);let $e=!0;for(let ct=0;ct<b;ct++){var Q=F[ct].g;const Ln=F[ct].map;if(Q-=Ce,Q<0)Ce=Math.max(0,F[ct].g-100),$e=!1;else try{Q="req"+Q+"_"||"";try{var le=Ln instanceof Map?Ln:Object.entries(Ln);for(const[kr,rr]of le){let ir=rr;p(rr)&&(ir=Ci(rr)),bt.push(Q+kr+"="+encodeURIComponent(ir))}}catch(kr){throw bt.push(Q+"type="+encodeURIComponent("_badmap")),kr}}catch{A&&A(Ln)}}if($e){le=bt.join("&");break e}}le=void 0}return u=u.i.splice(0,b),v.G=u,le}function nu(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;K||R(),oe||(K(),oe=!0),S.add(v,u),u.A=0}}function Bs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=br(y(u.Da,u),su(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ru(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=br(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Pi(this),ru(this))};function hl(u){u.B!=null&&(h.clearTimeout(u.B),u.B=null)}function ru(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=Nt(u.na);Qe(v,"RID","rpc"),Qe(v,"SID",u.M),Qe(v,"AID",u.K),Qe(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(v,"TO",u.ia),Qe(v,"TYPE","xmlhttp"),zs(u,v),u.u&&u.o&&Ps(v,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=ks(Nt(v)),b.u=null,b.R=!0,Sa(b,u)}r.Va=function(){this.C!=null&&(this.C=null,Pi(this),Bs(this),St(19))};function ka(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function iu(u,v){var b=null;if(u.g==v){ka(u),hl(u),u.g=null;var A=2}else if(Rr(u.h,v))b=v.G,el(u.h,v),A=1;else return;if(u.I!=0){if(v.o)if(A==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var F=u.D;A=wa(),Pt(A,new _r(A,b)),Or(u)}else nu(u);else if(F=v.m,F==3||F==0&&v.X>0||!(A==1&&ja(u,v)||A==2&&Bs(u)))switch(b&&b.length>0&&(v=u.h,v.i=v.i.concat(b)),F){case 1:jr(u,5);break;case 4:jr(u,10);break;case 3:jr(u,6);break;default:jr(u,2)}}}function su(u,v){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*v}function jr(u,v){if(u.j.info("Error code "+v),v==2){var b=y(u.bb,u),A=u.Ua;const F=!A;A=new En(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Bt(A,"https"),ks(A),F?er(A.toString(),b):al(A.toString(),b)}else St(2);u.I=0,u.l&&u.l.pa(v),au(u),Oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function au(u){if(u.I=0,u.ja=[],u.l){const v=tl(u.h);(v.length!=0||u.i.length!=0)&&(U(u.ja,v),U(u.ja,u.i),u.h.i.length=0,I(u.i),u.i.length=0),u.l.oa()}}function ou(u,v,b){var A=b instanceof En?Nt(b):new En(b);if(A.g!="")v&&(A.g=v+"."+A.g),Ii(A,A.u);else{var F=h.location;A=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const Q=new En(null);A&&Bt(Q,A),v&&(Q.g=v),F&&Ii(Q,F),b&&(Q.h=b),A=Q}return b=u.G,v=u.wa,b&&v&&Qe(A,b,v),Qe(A,"VER",u.ka),zs(u,A),A}function lu(u,v,b){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new We(new Cr({ab:b})):new We(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}r=cu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Li(){}Li.prototype.g=function(u,v){return new on(u,v)};function on(u,v){wt.call(this),this.g=new Vi(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!C(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!C(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Xr(this)}E(on,wt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){cl(this.g)},on.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Ci(u),u=b);v.i.push(new Rt(v.Ya++,u)),v.I==3&&Or(v)},on.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,on.Z.N.call(this)};function uu(u){Ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}E(uu,Ft);function hu(){kn.call(this),this.status=1}E(hu,kn);function Xr(u){this.g=u}E(Xr,cu),Xr.prototype.ra=function(){Pt(this.g,"a")},Xr.prototype.qa=function(u){Pt(this.g,new uu(u))},Xr.prototype.pa=function(u){Pt(this.g,new hu)},Xr.prototype.oa=function(){Pt(this.g,"b")},Li.prototype.createWebChannel=Li.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,Fx=function(){return new Li},Hx=function(){return wa()},qx=_t,bp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Ch=Os,Qo.COMPLETE="complete",Bx=Qo,Hc.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,ec=Hc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,zx=We}).apply(typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{});let tn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Po="12.9.0";function TI(r){Po=r}const da=new ud("@firebase/firestore");function fo(){return da.logLevel}function de(r,...e){if(da.logLevel<=Le.DEBUG){const n=e.map(cg);da.debug(`Firestore (${Po}): ${r}`,...n)}}function Ei(r,...e){if(da.logLevel<=Le.ERROR){const n=e.map(cg);da.error(`Firestore (${Po}): ${r}`,...n)}}function fa(r,...e){if(da.logLevel<=Le.WARN){const n=e.map(cg);da.warn(`Firestore (${Po}): ${r}`,...n)}}function cg(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Gx(r,s,n)}function Gx(r,e,n){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ei(s),new Error(s)}function Ye(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Gx(e,o,s)}function Se(r,e){return r}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class $x{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class SI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class AI{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ye(typeof s.accessToken=="string",31837,{l:s}),new $x(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class RI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new RI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const s=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new pb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function II(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=II(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function xp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return tp(o)===tp(c)?Ue(o,c):tp(o)?1:-1}return Ue(r.length,e.length)}const DI=55296,OI=57343;function tp(r){const e=r.charCodeAt(0);return e>=DI&&e<=OI}function To(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const gb="__name__";class Ur{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ur.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ur?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Ur.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Ur.isNumericId(e),o=Ur.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ur.extractNumericId(e).compare(Ur.extractNumericId(n)):xp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class rt extends Ur{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const jI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Ur{construct(e,n,s){return new Jt(e,n,s)}static isValidIdentifier(e){return jI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gb}static keyField(){return new Jt([gb])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ue(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(s+=p,o++):(c(),o++)}if(c(),h)throw new ue(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(rt.fromString(e))}static fromName(e){return new ve(rt.fromString(e).popFirst(5))}static empty(){return new ve(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new rt(e.slice()))}}function Kx(r,e,n){if(!n)throw new ue(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kI(r,e,n,s){if(e===!0&&s===!0)throw new ue(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function yb(r){if(!ve.isDocumentKey(r))throw new ue(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vb(r){if(ve.isDocumentKey(r))throw new ue(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Yx(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function md(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function rn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(r);throw new ue(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Dc(r,e){if(!Yx(r))throw new ue(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ue(ne.INVALID_ARGUMENT,n);return!0}const _b=-62135596800,bb=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*bb);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<_b)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bb}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dc(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_b;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Mt("string",at._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new at(0,0))}static max(){return new Ae(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const mc=-1;function MI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new ys(o,ve.empty(),e)}function VI(r){return new ys(r.readTime,r.key,mc)}class ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(Ae.min(),ve.empty(),mc)}static max(){return new ys(Ae.max(),ve.empty(),mc)}}function PI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==LI)throw r;de("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,c=0,h=!1;e.forEach((p=>{++o,p.next((()=>{++c,h&&c===o&&n()}),(g=>s(g)))})),h=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((x=>{h[y]=x,++p,p===c&&s(h)}),(x=>o(x)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function zI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Uo(r){return r.name==="IndexedDbTransactionError"}class pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pd.ce=-1;const hg=-1;function gd(r){return r==null}function Kh(r){return r===0&&1/r==-1/0}function BI(r){return typeof r=="number"&&Number.isInteger(r)&&!Kh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Qx="";function qI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=xb(e)),e=HI(r.get(n),e);return xb(e)}function HI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case Qx:n+="";break;default:n+=c}}return n}function xb(r){return r+Qx+""}function Eb(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Xx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vh(this.root,e,this.comparator,!0)}}class vh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=c??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Tb(this.data.getIterator())}getIteratorFrom(e){return new Tb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Tb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Ut(Jt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class Jx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Jx("Invalid base64 string: "+c):c}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const FI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(r){if(Ye(!!r,39018),typeof r=="string"){let e=0;const n=FI.exec(r);if(Ye(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _s(r){return typeof r=="string"?Wt.fromBase64String(r):Wt.fromUint8Array(r)}const Wx="server_timestamp",Zx="__type__",eE="__previous_value__",tE="__local_write_time__";function dg(r){return(r?.mapValue?.fields||{})[Zx]?.stringValue===Wx}function yd(r){const e=r.mapValue.fields[eE];return dg(e)?yd(e):e}function pc(r){const e=vs(r.mapValue.fields[tE].timestampValue);return new at(e.seconds,e.nanos)}class GI{constructor(e,n,s,o,c,h,p,g,y,x,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=E}}const Yh="(default)";class gc{constructor(e,n){this.projectId=e,this.database=n||Yh}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}function $I(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ue(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(r.options.projectId,e)}const nE="__type__",KI="__max__",_h={mapValue:{}},rE="__vector__",Qh="value";function bs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dg(r)?4:QI(r)?9007199254740991:YI(r)?10:11:Te(28295,{value:r})}function Gr(r,e){if(r===e)return!0;const n=bs(r);if(n!==bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return pc(r).isEqual(pc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=vs(o.timestampValue),p=vs(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,c){return _s(o.bytesValue).isEqual(_s(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,c){return Tt(o.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(r,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Tt(o.integerValue)===Tt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Tt(o.doubleValue),p=Tt(c.doubleValue);return h===p?Kh(h)===Kh(p):isNaN(h)&&isNaN(p)}return!1})(r,e);case 9:return To(r.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return(function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Eb(h)!==Eb(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Gr(h[g],p[g])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function yc(r,e){return(r.values||[]).find((n=>Gr(n,e)))!==void 0}function wo(r,e){if(r===e)return 0;const n=bs(r),s=bs(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(c,h){const p=Tt(c.integerValue||c.doubleValue),g=Tt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return wb(r.timestampValue,e.timestampValue);case 4:return wb(pc(r),pc(e));case 5:return xp(r.stringValue,e.stringValue);case 6:return(function(c,h){const p=_s(c),g=_s(h);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const x=Ue(p[y],g[y]);if(x!==0)return x}return Ue(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,h){const p=Ue(Tt(c.latitude),Tt(h.latitude));return p!==0?p:Ue(Tt(c.longitude),Tt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Sb(r.arrayValue,e.arrayValue);case 10:return(function(c,h){const p=c.fields||{},g=h.fields||{},y=p[Qh]?.arrayValue,x=g[Qh]?.arrayValue,E=Ue(y?.values?.length||0,x?.values?.length||0);return E!==0?E:Sb(y,x)})(r.mapValue,e.mapValue);case 11:return(function(c,h){if(c===_h.mapValue&&h===_h.mapValue)return 0;if(c===_h.mapValue)return 1;if(h===_h.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},x=Object.keys(y);g.sort(),x.sort();for(let E=0;E<g.length&&E<x.length;++E){const w=xp(g[E],x[E]);if(w!==0)return w;const I=wo(p[g[E]],y[x[E]]);if(I!==0)return I}return Ue(g.length,x.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function wb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=vs(r),s=vs(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function Sb(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=wo(n[o],s[o]);if(c)return c}return Ue(n.length,s.length)}function So(r){return Ep(r)}function Ep(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return _s(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Ep(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${Ep(n.fields[h])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function Ih(r){switch(bs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yd(r);return e?16+Ih(e):16;case 5:return 2*r.stringValue.length;case 6:return _s(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Ih(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ws(s.fields,((c,h)=>{o+=c.length+Ih(h)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function Ab(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Tp(r){return!!r&&"integerValue"in r}function fg(r){return!!r&&"arrayValue"in r}function Rb(r){return!!r&&"nullValue"in r}function Nb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dh(r){return!!r&&"mapValue"in r}function YI(r){return(r?.mapValue?.fields||{})[nE]?.stringValue===rE}function ac(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ws(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ac(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(r.arrayValue.values[n]);return e}return{...r}}function QI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===KI}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=Jt.emptyPath(),s={},o=[];e.forEach(((h,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}h?s[p.lastSegment()]=ac(h):o.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ws(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new bn(ac(this.value))}}function iE(r){const e=[];return ws(r.fields,((n,s)=>{const o=new Jt([n]);if(Dh(s)){const c=iE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)})),new Dn(e)}class nn{constructor(e,n,s,o,c,h,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new nn(e,0,Ae.min(),Ae.min(),Ae.min(),bn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Ae.min(),Ae.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ae.min(),Ae.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xh{constructor(e,n){this.position=e,this.inclusive=n}}function Cb(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=wo(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ib(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Gr(r.position[n],e.position[n]))return!1;return!0}class vc{constructor(e,n="asc"){this.field=e,this.dir=n}}function XI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class sE{}class kt extends sE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new WI(e,n,s):n==="array-contains"?new t4(e,s):n==="in"?new n4(e,s):n==="not-in"?new r4(e,s):n==="array-contains-any"?new i4(e,s):new kt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ZI(e,s):new e4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(wo(n,this.value)):n!==null&&bs(this.value)===bs(n)&&this.matchesComparison(wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends sE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mr(e,n)}matches(e){return aE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function aE(r){return r.op==="and"}function oE(r){return JI(r)&&aE(r)}function JI(r){for(const e of r.filters)if(e instanceof mr)return!1;return!0}function wp(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+So(r.value);if(oE(r))return r.filters.map((e=>wp(e))).join(",");{const e=r.filters.map((n=>wp(n))).join(",");return`${r.op}(${e})`}}function lE(r,e){return r instanceof kt?(function(s,o){return o instanceof kt&&s.op===o.op&&s.field.isEqual(o.field)&&Gr(s.value,o.value)})(r,e):r instanceof mr?(function(s,o){return o instanceof mr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,h,p)=>c&&lE(h,o.filters[p])),!0):!1})(r,e):void Te(19439)}function cE(r){return r instanceof kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`})(r):r instanceof mr?(function(n){return n.op.toString()+" {"+n.getFilters().map(cE).join(" ,")+"}"})(r):"Filter"}class WI extends kt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZI extends kt{constructor(e,n){super(e,"in",n),this.keys=uE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class e4 extends kt{constructor(e,n){super(e,"not-in",n),this.keys=uE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function uE(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class t4 extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fg(n)&&yc(n.arrayValue,this.value)}}class n4 extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yc(this.value.arrayValue,n)}}class r4 extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!yc(this.value.arrayValue,n)}}class i4 extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>yc(this.value.arrayValue,s)))}}class s4{constructor(e,n=null,s=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Te=null}}function Db(r,e=null,n=[],s=[],o=null,c=null,h=null){return new s4(r,e,n,s,o,c,h)}function mg(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>wp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>So(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>So(s))).join(",")),e.Te=n}return e.Te}function pg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!XI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!lE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ib(r.startAt,e.startAt)&&Ib(r.endAt,e.endAt)}function Sp(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class zo{constructor(e,n=null,s=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function a4(r,e,n,s,o,c,h,p){return new zo(r,e,n,s,o,c,h,p)}function vd(r){return new zo(r)}function Ob(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function o4(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function hE(r){return r.collectionGroup!==null}function oc(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Ut(Jt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new vc(c,s))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new vc(Jt.keyField(),s))}return e.Ie}function Br(r){const e=Se(r);return e.Ee||(e.Ee=l4(e,oc(r))),e.Ee}function l4(r,e){if(r.limitType==="F")return Db(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new vc(o.field,c)}));const n=r.endAt?new Xh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Xh(r.startAt.position,r.startAt.inclusive):null;return Db(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Ap(r,e){const n=r.filters.concat([e]);return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function c4(r,e){const n=r.explicitOrderBy.concat([e]);return new zo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function Rp(r,e,n){return new zo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function _d(r,e){return pg(Br(r),Br(e))&&r.limitType===e.limitType}function dE(r){return`${mg(Br(r))}|lt:${r.limitType}`}function mo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>cE(o))).join(", ")}]`),gd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>So(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>So(o))).join(",")),`Target(${s})`})(Br(r))}; limitType=${r.limitType})`}function bd(r,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ve.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,o){for(const c of oc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,p,g){const y=Cb(h,p,g);return h.inclusive?y<=0:y<0})(s.startAt,oc(s),o)||s.endAt&&!(function(h,p,g){const y=Cb(h,p,g);return h.inclusive?y>=0:y>0})(s.endAt,oc(s),o))})(r,e)}function u4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fE(r){return(e,n)=>{let s=!1;for(const o of oc(r)){const c=h4(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function h4(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?wo(g,y):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return Xx(this.inner)}size(){return this.innerSize}}const d4=new mt(ve.comparator);function Ti(){return d4}const mE=new mt(ve.comparator);function tc(...r){let e=mE;for(const n of r)e=e.insert(n.key,n);return e}function pE(r){let e=mE;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function aa(){return lc()}function gE(){return lc()}function lc(){return new _a((r=>r.toString()),((r,e)=>r.isEqual(e)))}const f4=new mt(ve.comparator),m4=new Ut(ve.comparator);function ze(...r){let e=m4;for(const n of r)e=e.add(n);return e}const p4=new Ut(Ue);function g4(){return p4}function gg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function yE(r){return{integerValue:""+r}}function y4(r,e){return BI(e)?yE(e):gg(r,e)}class xd{constructor(){this._=void 0}}function v4(r,e,n){return r instanceof _c?(function(o,c){const h={fields:{[Zx]:{stringValue:Wx},[tE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&dg(c)&&(c=yd(c)),c&&(h.fields[eE]=c),{mapValue:h}})(n,e):r instanceof bc?_E(r,e):r instanceof xc?bE(r,e):(function(o,c){const h=vE(o,c),p=jb(h)+jb(o.Ae);return Tp(h)&&Tp(o.Ae)?yE(p):gg(o.serializer,p)})(r,e)}function _4(r,e,n){return r instanceof bc?_E(r,e):r instanceof xc?bE(r,e):n}function vE(r,e){return r instanceof Jh?(function(s){return Tp(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class _c extends xd{}class bc extends xd{constructor(e){super(),this.elements=e}}function _E(r,e){const n=xE(e);for(const s of r.elements)n.some((o=>Gr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class xc extends xd{constructor(e){super(),this.elements=e}}function bE(r,e){let n=xE(e);for(const s of r.elements)n=n.filter((o=>!Gr(o,s)));return{arrayValue:{values:n}}}class Jh extends xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jb(r){return Tt(r.integerValue||r.doubleValue)}function xE(r){return fg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class b4{constructor(e,n){this.field=e,this.transform=n}}function x4(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof bc&&o instanceof bc||s instanceof xc&&o instanceof xc?To(s.elements,o.elements,Gr):s instanceof Jh&&o instanceof Jh?Gr(s.Ae,o.Ae):s instanceof _c&&o instanceof _c})(r.transform,e.transform)}class E4{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ed{}function EE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Td(r.key,cn.none()):new Oc(r.key,r.data,cn.none());{const n=r.data,s=bn.empty();let o=new Ut(Jt.comparator);for(let c of e.fields)if(!o.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Ss(r.key,s,new Dn(o.toArray()),cn.none())}}function T4(r,e,n){r instanceof Oc?(function(o,c,h){const p=o.value.clone(),g=Mb(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):r instanceof Ss?(function(o,c,h){if(!Oh(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=Mb(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(TE(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,n):(function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function cc(r,e,n,s){return r instanceof Oc?(function(c,h,p,g){if(!Oh(c.precondition,h))return p;const y=c.value.clone(),x=Vb(c.fieldTransforms,g,h);return y.setAll(x),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ss?(function(c,h,p,g){if(!Oh(c.precondition,h))return p;const y=Vb(c.fieldTransforms,g,h),x=h.data;return x.setAll(TE(c)),x.setAll(y),h.convertToFoundDocument(h.version,x).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((E=>E.field)))})(r,e,n,s):(function(c,h,p){return Oh(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p})(r,e,n)}function w4(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=vE(s.transform,o||null);c!=null&&(n===null&&(n=bn.empty()),n.set(s.field,c))}return n||null}function kb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,((c,h)=>x4(c,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Oc extends Ed{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends Ed{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function TE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Mb(r,e,n){const s=new Map;Ye(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const c=r[o],h=c.transform,p=e.data.field(c.field);s.set(c.field,_4(h,p,n[o]))}return s}function Vb(r,e,n){const s=new Map;for(const o of r){const c=o.transform,h=n.data.field(o.field);s.set(o.field,v4(c,h,e))}return s}class Td extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S4 extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class A4{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&T4(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=cc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=cc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gE();return this.mutations.forEach((o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=n.has(o.key)?null:p;const g=EE(h,p);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,((n,s)=>kb(n,s)))&&To(this.baseMutations,e.baseMutations,((n,s)=>kb(n,s)))}}class yg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ye(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return f4})();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new yg(e,n,s,o)}}class R4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class N4{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,He;function C4(r){switch(r){case ne.OK:return Te(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function wE(r){if(r===void 0)return Ei("GRPC error has no .code"),ne.UNKNOWN;switch(r){case jt.OK:return ne.OK;case jt.CANCELLED:return ne.CANCELLED;case jt.UNKNOWN:return ne.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ne.INTERNAL;case jt.UNAVAILABLE:return ne.UNAVAILABLE;case jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case jt.NOT_FOUND:return ne.NOT_FOUND;case jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case jt.ABORTED:return ne.ABORTED;case jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case jt.DATA_LOSS:return ne.DATA_LOSS;default:return Te(39323,{code:r})}}(He=jt||(jt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function I4(){return new TextEncoder}const D4=new ms([4294967295,4294967295],0);function Pb(r){const e=I4().encode(r),n=new Ux;return n.update(e),new Uint8Array(n.digest())}function Lb(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ms([n,s],0),new ms([o,c],0)]}class vg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nc(`Invalid padding: ${n}`);if(s<0)throw new nc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ms.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ms.fromNumber(s)));return o.compare(D4)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Pb(e),[s,o]=Lb(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new vg(c,o,n);return s.forEach((p=>h.insert(p))),h}insert(e){if(this.ge===0)return;const n=Pb(e),[s,o]=Lb(n);for(let c=0;c<this.hashCount;c++){const h=this.ye(s,o,c);this.be(h)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wd{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new wd(Ae.min(),o,new mt(Ue),Ti(),ze())}}class jc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new jc(s,n,ze(),ze(),ze())}}class jh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class SE{constructor(e,n){this.targetId=e,this.Ce=n}}class AE{constructor(e,n,s=Wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Ub{constructor(){this.ve=0,this.Fe=zb(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:c})}})),new jc(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=zb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class O4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.He=bh(),this.Je=bh(),this.Ze=new mt(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Sp(c))if(s===0){const h=new ve(c.path);this.et(n,h,nn.newNoDocument(h,Ae.min()))}else Ye(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const p=this.ut(e),g=p?this.ct(p,e,h):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let h,p;try{h=_s(s).toUint8Array()}catch(g){if(g instanceof Jx)return fa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new vg(h,o,c)}catch(g){return fa(g instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const h=this.Ge.ht(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,h)=>{const p=this.ot(h);if(p){if(c.current&&Sp(p.target)){const g=new ve(p.target.path);this.It(g).has(h)||this.Et(h,g)||this.et(h,g,nn.newNoDocument(g,e))}c.Be&&(n.set(h,c.ke()),c.Ke())}}));let s=ze();this.Je.forEach(((c,h)=>{let p=!0;h.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,h)=>h.setReadTime(e)));const o=new wd(e,n,this.Ze,this.je,s);return this.je=Ti(),this.He=bh(),this.Je=bh(),this.Ze=new mt(Ue),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Ub,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ub),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bh(){return new mt(ve.comparator)}function zb(){return new mt(ve.comparator)}const j4={asc:"ASCENDING",desc:"DESCENDING"},k4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M4={and:"AND",or:"OR"};class V4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Np(r,e){return r.useProto3Json||gd(e)?e:{value:e}}function Wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function P4(r,e){return Wh(r,e.toTimestamp())}function qr(r){return Ye(!!r,49232),Ae.fromTimestamp((function(n){const s=vs(n);return new at(s.seconds,s.nanos)})(r))}function _g(r,e){return Cp(r,e).canonicalString()}function Cp(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function NE(r){const e=rt.fromString(r);return Ye(jE(e),10190,{key:e.toString()}),e}function Ip(r,e){return _g(r.databaseId,e.path)}function np(r,e){const n=NE(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(IE(n))}function CE(r,e){return _g(r.databaseId,e)}function L4(r){const e=NE(r);return e.length===4?rt.emptyPath():IE(e)}function Dp(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function IE(r){return Ye(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Bb(r,e,n){return{name:Ip(r,e),fields:n.value.mapValue.fields}}function U4(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,x){return y.useProto3Json?(Ye(x===void 0||typeof x=="string",58123),Wt.fromBase64String(x||"")):(Ye(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),Wt.fromUint8Array(x||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&(function(y){const x=y.code===void 0?ne.UNKNOWN:wE(y.code);return new ue(x,y.message||"")})(h);n=new AE(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=np(r,s.document.name),c=qr(s.document.updateTime),h=s.document.createTime?qr(s.document.createTime):Ae.min(),p=new bn({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,c,h,p),y=s.targetIds||[],x=s.removedTargetIds||[];n=new jh(y,x,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=np(r,s.document),c=s.readTime?qr(s.readTime):Ae.min(),h=nn.newNoDocument(o,c),p=s.removedTargetIds||[];n=new jh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=np(r,s.document),c=s.removedTargetIds||[];n=new jh([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new N4(o,c),p=s.targetId;n=new SE(p,h)}}return n}function z4(r,e){let n;if(e instanceof Oc)n={update:Bb(r,e.key,e.value)};else if(e instanceof Td)n={delete:Ip(r,e.key)};else if(e instanceof Ss)n={update:Bb(r,e.key,e.data),updateMask:Q4(e.fieldMask)};else{if(!(e instanceof S4))return Te(16599,{dt:e.type});n={verify:Ip(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,h){const p=h.transform;if(p instanceof _c)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof bc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof xc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Jh)return{fieldPath:h.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:P4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(r,e.precondition)),n}function B4(r,e){return r&&r.length>0?(Ye(e!==void 0,14353),r.map((n=>(function(o,c){let h=o.updateTime?qr(o.updateTime):qr(c);return h.isEqual(Ae.min())&&(h=qr(c)),new E4(h,o.transformResults||[])})(n,e)))):[]}function q4(r,e){return{documents:[CE(r,e.path)]}}function H4(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=CE(r,o);const c=(function(y){if(y.length!==0)return OE(mr.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const h=(function(y){if(y.length!==0)return y.map((x=>(function(w){return{field:po(w.field),direction:$4(w.dir)}})(x)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const p=Np(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function F4(r){let e=L4(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ye(s===1,65062);const x=n.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];n.where&&(c=(function(E){const w=DE(E);return w instanceof mr&&oE(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(E){return E.map((w=>(function(U){return new vc(go(U.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(E){let w;return w=typeof E=="object"?E.value:E,gd(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(E){const w=!!E.before,I=E.values||[];return new Xh(I,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(E){const w=!E.before,I=E.values||[];return new Xh(I,w)})(n.endAt)),a4(e,o,h,c,p,"F",g,y)}function G4(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function DE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=go(n.unaryFilter.field);return kt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(n.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=go(n.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=go(n.unaryFilter.field);return kt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return kt.create(go(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return mr.create(n.compositeFilter.filters.map((s=>DE(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function $4(r){return j4[r]}function K4(r){return k4[r]}function Y4(r){return M4[r]}function po(r){return{fieldPath:r.canonicalString()}}function go(r){return Jt.fromServerFormat(r.fieldPath)}function OE(r){return r instanceof kt?(function(n){if(n.op==="=="){if(Nb(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(Rb(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nb(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(Rb(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:K4(n.op),value:n.value}}})(r):r instanceof mr?(function(n){const s=n.getFilters().map((o=>OE(o)));return s.length===1?s[0]:{compositeFilter:{op:Y4(n.op),filters:s}}})(r):Te(54877,{filter:r})}function Q4(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function jE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function kE(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class hs{constructor(e,n,s,o,c=Ae.min(),h=Ae.min(),p=Wt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class X4{constructor(e){this.yt=e}}function J4(r){const e=F4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rp(e,e.limit,"L"):e}class W4{constructor(){this.Sn=new Z4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ys.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class Z4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ut(rt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ut(rt.comparator)).toArray()}}const qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(ME,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Ao{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ao(0)}static ar(){return new Ao(-1)}}const Hb="LruGarbageCollector",eD=1048576;function Fb([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class tD{constructor(e){this.Pr=e,this.buffer=new Ut(Fb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Fb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(Hb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Uo(n)?de(Hb,"Ignoring IndexedDB error during garbage collection: ",n):await Lo(n)}await this.Ar(3e5)}))}}class rD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(pd.ce);const s=new tD(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(qb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,c,h,p,g,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,h=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(s=E,p=Date.now(),this.removeTargets(e,s,n)))).next((E=>(c=E,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((E=>(y=Date.now(),fo()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-x}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-x}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:E}))))}}function iD(r,e){return new rD(r,e)}class sD{constructor(){this.changes=new _a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&cc(s.mutation,o,Dn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=aa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let h=tc();return c.forEach(((p,g)=>{h=h.insert(p,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((h,p)=>{n.set(h,p)}))}))}computeViews(e,n,s,o){let c=Ti();const h=lc(),p=(function(){return lc()})();return n.forEach(((g,y)=>{const x=s.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof Ss)?c=c.insert(y.key,y):x!==void 0?(h.set(y.key,x.mutation.getFieldMask()),cc(x.mutation,y,x.mutation.getFieldMask(),at.now())):h.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,x)=>h.set(y,x))),n.forEach(((y,x)=>p.set(y,new aD(x,h.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=lc();let o=new mt(((h,p)=>h-p)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const p of h)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let x=s.get(g)||Dn.empty();x=p.applyToLocalView(y,x),s.set(g,x);const E=(o.get(p.batchId)||ze()).add(g);o=o.insert(p.batchId,E)}))})).next((()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,x=g.value,E=gE();x.forEach((w=>{if(!c.has(w)){const I=EE(n.get(w),s.get(w));I!==null&&E.set(w,I),c=c.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ie.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return o4(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ie.resolve(aa());let p=mc,g=c;return h.next((y=>ie.forEach(y,((x,E)=>(p<E.largestBatchId&&(p=E.largestBatchId),c.get(x)?ie.resolve():this.remoteDocumentCache.getEntry(e,x).next((w=>{g=g.insert(x,w)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,ze()))).next((x=>({batchId:p,changes:pE(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=tc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let h=tc();return this.indexManager.getCollectionParents(e,c).next((p=>ie.forEach(p,(g=>{const y=(function(E,w){return new zo(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((x=>{x.forEach(((E,w)=>{h=h.insert(E,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((h=>{c.forEach(((g,y)=>{const x=y.getKey();h.get(x)===null&&(h=h.insert(x,nn.newInvalidDocument(x)))}));let p=tc();return h.forEach(((g,y)=>{const x=c.get(g);x!==void 0&&cc(x.mutation,y,Dn.empty(),at.now()),bd(n,y)&&(p=p.insert(g,y))})),p}))}}class lD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:qr(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:J4(o.bundledQuery),readTime:qr(o.readTime)}})(n)),ie.resolve()}}class cD{constructor(){this.overlays=new mt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.bt(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),c=n.length+1,h=new ve(n.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new mt(((y,x)=>y-x));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let x=c.get(y.largestBatchId);x===null&&(x=aa(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const p=aa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,x)=>p.set(y,x))),!(p.size()>=o)););return ie.resolve(p)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new R4(n,s));let c=this.Lr.get(n);c===void 0&&(c=ze(),this.Lr.set(n,c)),this.Lr.set(n,c.add(s.key))}}class uD{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class bg{constructor(){this.kr=new Ut(Ht.Kr),this.qr=new Ut(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Ht(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new ve(new rt([])),s=new Ht(n,e),o=new Ht(n,e+1),c=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),c.push(h.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new rt([])),s=new Ht(n,e),o=new Ht(n,e+1);let c=ze();return this.qr.forEachInRange([s,o],(h=>{c=c.add(h.key)})),c}containsKey(e){const n=new Ht(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class hD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Ht.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new A4(c,n,s,o);this.mutationQueue.push(h);for(const p of o)this.Jr=this.Jr.add(new Ht(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?hg:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([s,o],(h=>{const p=this.Zr(h.Hr);c.push(p)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ut(Ue);return n.forEach((o=>{const c=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,h],(p=>{s=s.add(p.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ve.isDocumentKey(c)||(c=c.child(""));const h=new Ht(new ve(c),0);let p=new Ut(Ue);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)}),h),ie.resolve(this.Yr(p))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(o=>{const c=new Ht(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dD{constructor(e){this.ti=e,this.docs=(function(){return new mt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=Ti();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():nn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Ti();const h=n.path,p=new ve(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:x}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||PI(VI(x),s)<=0||(o.has(x.key)||bd(n,x))&&(c=c.insert(x.key,x.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new fD(this)}getSize(e){return ie.resolve(this.size)}}class fD extends sD{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class mD{constructor(e){this.persistence=e,this.ri=new _a((n=>mg(n)),pg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.ii=0,this.si=new bg,this.targetCount=0,this.oi=Ao._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.ri.forEach(((h,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((h=>{c.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class VE{constructor(e,n){this._i={},this.overlays={},this.ai=new pd(0),this.ui=!1,this.ui=!0,this.ci=new uD,this.referenceDelegate=e(this),this.li=new mD(this),this.indexManager=new W4,this.remoteDocumentCache=(function(o){return new dD(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new X4(n),this.Pi=new lD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new hD(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new pD(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class pD extends UI{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Ri=new bg,this.Ai=null}static Vi(e){return new xg(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const o=ve.fromPath(s);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Zh{constructor(e,n){this.persistence=e,this.fi=new _a((s=>qI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=iD(this,n)}static Vi(e,n){return new Zh(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((p=>{p||(s++,c.removeEntry(h,Ae.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ih(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Eg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ze(),o=ze();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Eg(e,n.fromCache,s,o)}}class gD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return P2()?8:zI(sn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.gs(e,n).next((h=>{c.result=h})).next((()=>{if(!c.result)return this.ps(e,n,o,s).next((h=>{c.result=h}))})).next((()=>{if(c.result)return;const h=new gD;return this.ys(e,n,h).next((p=>{if(c.result=p,this.As)return this.ws(e,n,h,p.size)}))})).next((()=>c.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(fo()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(fo()<=Le.DEBUG&&de("QueryEngine","Query:",mo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(fo()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):ie.resolve())}gs(e,n){if(Ob(n))return ie.resolve(null);let s=Br(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Rp(n,null,"F"),s=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const h=ze(...c);return this.fs.getDocuments(e,h).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(n,p);return this.Ss(n,y,h,g.readTime)?this.gs(e,Rp(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,s,o){return Ob(n)||o.isEqual(Ae.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((c=>{const h=this.bs(n,c);return this.Ss(n,h,s,o)?ie.resolve(null):(fo()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.Ds(e,h,n,MI(o,mc)).next((p=>p)))}))}bs(e,n){let s=new Ut(fE(e));return n.forEach(((o,c)=>{bd(e,c)&&(s=s.add(c))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,s){return fo()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",mo(n)),this.fs.getDocumentsMatchingQuery(e,n,ys.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((h=>{c=c.insert(h.key,h)})),c)))}}const Tg="LocalStore",vD=3e8;class _D{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new mt(Ue),this.Fs=new _a((c=>mg(c)),pg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function bD(r,e,n,s){return new _D(r,e,n,s)}async function PE(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const h=[],p=[];let g=ze();for(const y of o){h.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}for(const y of c){p.push(y.batchId);for(const x of y.mutations)g=g.add(x.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:p})))}))}))}function xD(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,x){const E=y.batch,w=E.keys();let I=ie.resolve();return w.forEach((U=>{I=I.next((()=>x.getEntry(g,U))).next((q=>{const H=y.docVersions.get(U);Ye(H!==null,48541),q.version.compareTo(H)<0&&(E.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),x.addEntry(q)))}))})),I.next((()=>p.mutationQueue.removeMutationBatch(g,E)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=ze();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function LE(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function ED(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const p=[];e.targetChanges.forEach(((x,E)=>{const w=o.get(E);if(!w)return;p.push(n.li.removeMatchingKeys(c,x.removedDocuments,E).next((()=>n.li.addMatchingKeys(c,x.addedDocuments,E))));let I=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(Wt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):x.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(x.resumeToken,s)),o=o.insert(E,I),(function(q,H,J){return q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=vD?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(w,I,x)&&p.push(n.li.updateTargetData(c,I))}));let g=Ti(),y=ze();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,x))})),p.push(TD(c,h,e.documentUpdates).next((x=>{g=x.Bs,y=x.Ls}))),!s.isEqual(Ae.min())){const x=n.li.getLastRemoteSnapshotVersion(c).next((E=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(x)}return ie.waitFor(p).next((()=>h.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function TD(r,e,n){let s=ze(),o=ze();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let h=Ti();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):de(Tg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{Bs:h,Ls:o}}))}function wD(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=hg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function SD(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((c=>c?(o=c,ie.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new hs(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Op(r,e,n){const s=Se(r),o=s.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Uo(h))throw h;de(Tg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function Gb(r,e,n){const s=Se(r);let o=Ae.min(),c=ze();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,x){const E=Se(g),w=E.Fs.get(x);return w!==void 0?ie.resolve(E.vs.get(w)):E.li.getTargetData(y,x)})(s,h,Br(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,p.targetId).next((g=>{c=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?c:ze()))).next((p=>(AD(s,u4(e),p),{documents:p,ks:c})))))}function AD(r,e,n){let s=r.Ms.get(e)||Ae.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Ms.set(e,s)}class $b{constructor(){this.activeTargetIds=g4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RD{constructor(){this.vo=new $b,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new $b,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ND{Mo(e){}shutdown(){}}const Kb="ConnectivityMonitor";class Yb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(Kb,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(Kb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xh=null;function jp(){return xh===null?xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():xh++,"0x"+xh.toString(16)}const rp="RestConnection",CD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ID{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,c){const h=jp(),p=this.Qo(e,n.toUriEncodedString());de(rp,`Sending RPC '${e}' ${h}:`,p,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(p),x=ko(y);return this.zo(e,p,g,s,x).then((E=>(de(rp,`Received RPC '${e}' ${h}: `,E),E)),(E=>{throw fa(rp,`RPC '${e}' ${h} failed with error: `,E,"url: ",p,"request:",s),E}))}jo(e,n,s,o,c,h){return this.Wo(e,n,s,o,c)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const s=CD[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class DD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",Jl=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class bo extends ID{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!bo.c_){const e=Hx();Jl(e,qx.STAT_EVENT,(n=>{n.stat===bp.PROXY?de(en,"STAT_EVENT: detected buffering proxy"):n.stat===bp.NOPROXY&&de(en,"STAT_EVENT: detected no buffering proxy")})),bo.c_=!0}}zo(e,n,s,o,c){const h=jp();return new Promise(((p,g)=>{const y=new zx;y.setWithCredentials(!0),y.listenOnce(Bx.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ch.NO_ERROR:const E=y.getResponseJson();de(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(E)),p(E);break;case Ch.TIMEOUT:de(en,`RPC '${e}' ${h} timed out`),g(new ue(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const w=y.getStatus();if(de(en,`RPC '${e}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const U=I?.error;if(U&&U.status&&U.message){const q=(function(J){const k=J.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(k)>=0?k:ne.UNKNOWN})(U.status);g(new ue(q,U.message))}else g(new ue(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ue(ne.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(en,`RPC '${e}' ${h} completed.`)}}));const x=JSON.stringify(o);de(en,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",x,s,15)}))}T_(e,n,s){const o=jp(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=c.join("");de(en,`Creating RPC '${e}' stream ${o}: ${y}`,p);const x=h.createWebChannel(y,p);this.I_(x);let E=!1,w=!1;const I=new DD({Ho:U=>{w?de(en,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(E||(de(en,`Opening RPC '${e}' stream ${o} transport.`),x.open(),E=!0),de(en,`RPC '${e}' stream ${o} sending:`,U),x.send(U))},Jo:()=>x.close()});return Jl(x,ec.EventType.OPEN,(()=>{w||(de(en,`RPC '${e}' stream ${o} transport opened.`),I.i_())})),Jl(x,ec.EventType.CLOSE,(()=>{w||(w=!0,de(en,`RPC '${e}' stream ${o} transport closed`),I.o_(),this.E_(x))})),Jl(x,ec.EventType.ERROR,(U=>{w||(w=!0,fa(en,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),I.o_(new ue(ne.UNAVAILABLE,"The operation could not be completed")))})),Jl(x,ec.EventType.MESSAGE,(U=>{if(!w){const q=U.data[0];Ye(!!q,16349);const H=q,J=H?.error||H[0]?.error;if(J){de(en,`RPC '${e}' stream ${o} received error:`,J);const k=J.status;let Z=(function(oe){const S=jt[oe];if(S!==void 0)return wE(S)})(k),ce=J.message;k==="NOT_FOUND"&&ce.includes("database")&&ce.includes("does not exist")&&ce.includes(this.databaseId.database)&&fa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Z===void 0&&(Z=ne.INTERNAL,ce="Unknown error status: "+k+" with message "+J.message),w=!0,I.o_(new ue(Z,ce)),x.close()}else de(en,`RPC '${e}' stream ${o} received:`,q),I.__(q)}})),bo.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Fx()}}function OD(r){return new bo(r)}function ip(){return typeof document<"u"?document:null}function Sd(r){return new V4(r,!0)}bo.c_=!1;class UE{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Qb="PersistentStream";class zE{constructor(e,n,s,o,c,h,p,g){this.Ci=e,this.b_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ei(n.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(Qb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(Qb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jD extends zE{constructor(e,n,s,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=U4(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Ae.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?qr(h.readTime):Ae.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Dp(this.serializer),n.addTarget=(function(c,h){let p;const g=h.target;if(p=Sp(g)?{documents:q4(c,g)}:{query:H4(c,g).ft},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=RE(c,h.resumeToken);const y=Np(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ae.min())>0){p.readTime=Wh(c,h.snapshotVersion.toTimestamp());const y=Np(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=G4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Dp(this.serializer),n.removeTarget=e,this.K_(n)}}class kD extends zE{constructor(e,n,s,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=B4(e.writeResults,e.commitTime),s=qr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Dp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>z4(this.serializer,s)))};this.K_(n)}}class MD{}class VD extends MD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Wo(e,Cp(n,s),o,c,h))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(ne.UNKNOWN,c.toString())}))}jo(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,p])=>this.connection.jo(e,Cp(n,s),o,h,p,c))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function PD(r,e,n,s){return new VD(r,e,n,s)}class LD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ei(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class UD{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{ba(this)&&(de(ma,"Restarting streams for network reachability change."),await(async function(g){const y=Se(g);y.Ea.add(4),await kc(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ad(y)})(this))}))})),this.Va=new LD(s,o)}}async function Ad(r){if(ba(r))for(const e of r.Ra)await e(!0)}async function kc(r){for(const e of r.Ra)await e(!1)}function BE(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rg(n)?Ag(n):Bo(n).O_()&&Sg(n,e))}function wg(r,e){const n=Se(r),s=Bo(n);n.Ia.delete(e),s.O_()&&qE(n,e),n.Ia.size===0&&(s.O_()?s.L_():ba(n)&&n.Va.set("Unknown"))}function Sg(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bo(r).Z_(e)}function qE(r,e){r.da.$e(e),Bo(r).X_(e)}function Ag(r){r.da=new O4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Bo(r).start(),r.Va.ua()}function Rg(r){return ba(r)&&!Bo(r).x_()&&r.Ia.size>0}function ba(r){return Se(r).Ea.size===0}function HE(r){r.da=void 0}async function zD(r){r.Va.set("Online")}async function BD(r){r.Ia.forEach(((e,n)=>{Sg(r,e)}))}async function qD(r,e){HE(r),Rg(r)?(r.Va.ha(e),Ag(r)):r.Va.set("Unknown")}async function HD(r,e,n){if(r.Va.set("Online"),e instanceof AE&&e.state===2&&e.cause)try{await(async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ia.delete(p),o.da.removeTarget(p))})(r,e)}catch(s){de(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ed(r,s)}else if(e instanceof jh?r.da.Xe(e):e instanceof SE?r.da.st(e):r.da.tt(e),!n.isEqual(Ae.min()))try{const s=await LE(r.localStore);n.compareTo(s)>=0&&await(function(c,h){const p=c.da.Tt(h);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const x=c.Ia.get(y);x&&c.Ia.set(y,x.withResumeToken(g.resumeToken,h))}})),p.targetMismatches.forEach(((g,y)=>{const x=c.Ia.get(g);if(!x)return;c.Ia.set(g,x.withResumeToken(Wt.EMPTY_BYTE_STRING,x.snapshotVersion)),qE(c,g);const E=new hs(x.target,g,y,x.sequenceNumber);Sg(c,E)})),c.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){de(ma,"Failed to raise snapshot:",s),await ed(r,s)}}async function ed(r,e,n){if(!Uo(e))throw e;r.Ea.add(1),await kc(r),r.Va.set("Offline"),n||(n=()=>LE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(ma,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ad(r)}))}function FE(r,e){return e().catch((n=>ed(r,n,e)))}async function Rd(r){const e=Se(r),n=xs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hg;for(;FD(e);)try{const o=await wD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,GD(e,o)}catch(o){await ed(e,o)}GE(e)&&$E(e)}function FD(r){return ba(r)&&r.Ta.length<10}function GD(r,e){r.Ta.push(e);const n=xs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function GE(r){return ba(r)&&!xs(r).x_()&&r.Ta.length>0}function $E(r){xs(r).start()}async function $D(r){xs(r).ra()}async function KD(r){const e=xs(r);for(const n of r.Ta)e.ea(n.mutations)}async function YD(r,e,n){const s=r.Ta.shift(),o=yg.from(s,e,n);await FE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rd(r)}async function QD(r,e){e&&xs(r).Y_&&await(async function(s,o){if((function(h){return C4(h)&&h!==ne.ABORTED})(o.code)){const c=s.Ta.shift();xs(s).B_(),await FE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Rd(s)}})(r,e),GE(r)&&$E(r)}async function Xb(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),de(ma,"RemoteStore received new credentials");const s=ba(n);n.Ea.add(3),await kc(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ad(n)}async function XD(r,e){const n=Se(r);e?(n.Ea.delete(2),await Ad(n)):e||(n.Ea.add(2),await kc(n),n.Va.set("Unknown"))}function Bo(r){return r.ma||(r.ma=(function(n,s,o){const c=Se(n);return c.sa(),new jD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:zD.bind(null,r),Yo:BD.bind(null,r),t_:qD.bind(null,r),J_:HD.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Rg(r)?Ag(r):r.Va.set("Unknown")):(await r.ma.stop(),HE(r))}))),r.ma}function xs(r){return r.fa||(r.fa=(function(n,s,o){const c=Se(n);return c.sa(),new kD(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$D.bind(null,r),t_:QD.bind(null,r),ta:KD.bind(null,r),na:YD.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Rd(r)):(await r.fa.stop(),r.Ta.length>0&&(de(ma,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ng{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const h=Date.now()+s,p=new Ng(e,n,h,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(r,e){if(Ei("AsyncQueue",`${e}: ${r}`),Uo(r))return new ue(ne.UNAVAILABLE,`${e}: ${r}`);throw r}class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=tc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class Jb{constructor(){this.ga=new mt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ro{constructor(e,n,s,o,c,h,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const h=[];return n.forEach((p=>{h.push({type:0,doc:p})})),new Ro(e,n,xo.emptySet(n),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class JD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class WD{constructor(){this.queries=Wb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),c=o.queries;o.queries=Wb(),c.forEach(((h,p)=>{for(const g of p.ba)g.onError(s)}))})(this,new ue(ne.ABORTED,"Firestore shutting down"))}}function Wb(){return new _a((r=>dE(r)),_d)}async function Ig(r,e){const n=Se(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(s=2):(c=new JD,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const p=Cg(h,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Og(n)}async function Dg(r,e){const n=Se(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const h=c.ba.indexOf(e);h>=0&&(c.ba.splice(h,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ZD(r,e){const n=Se(r);let s=!1;for(const o of e){const c=o.query,h=n.queries.get(c);if(h){for(const p of h.ba)p.Fa(o)&&(s=!0);h.wa=o}}s&&Og(n)}function e6(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const c of o.ba)c.onError(n);s.queries.delete(e)}function Og(r){r.Ca.forEach((e=>{e.next()}))}var kp,Zb;(Zb=kp||(kp={})).Ma="default",Zb.Cache="cache";class jg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==kp.Cache}}class KE{constructor(e){this.key=e}}class YE{constructor(e){this.key=e}}class t6{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=fE(e),this.tu=new xo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new Jb,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((x,E)=>{const w=o.get(x),I=bd(this.query,E)?E:null,U=!!w&&this.mutatedKeys.has(w.key),q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let H=!1;w&&I?w.data.isEqual(I.data)?U!==q&&(s.track({type:3,doc:I}),H=!0):this.su(w,I)||(s.track({type:2,doc:I}),H=!0,(g&&this.eu(I,g)>0||y&&this.eu(I,y)<0)&&(p=!0)):!w&&I?(s.track({type:0,doc:I}),H=!0):w&&!I&&(s.track({type:1,doc:w}),H=!0,(g||y)&&(p=!0)),H&&(I?(h=h.add(I),c=q?c.add(x):c.delete(x)):(h=h.delete(x),c=c.delete(x)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const x=this.query.limitType==="F"?h.last():h.first();h=h.delete(x.key),c=c.delete(x.key),s.track({type:1,doc:x})}return{tu:h,iu:s,Ss:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((x,E)=>(function(I,U){const q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:H})}};return q(I)-q(U)})(x.type,E.type)||this.eu(x.doc,E.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,h.length!==0||y?{snapshot:new Ro(this.query,e.tu,c,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new YE(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new KE(s))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const kg="SyncEngine";class n6{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class r6{constructor(e){this.key=e,this.hu=!1}}class i6{constructor(e,n,s,o,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new _a((p=>dE(p)),_d),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(ve.comparator),this.Au=new Map,this.Vu=new bg,this.du={},this.mu=new Map,this.fu=Ao.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function s6(r,e,n=!0){const s=eT(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await QE(s,e,n,!0),o}async function a6(r,e){const n=eT(r);await QE(n,e,!0,!1)}async function QE(r,e,n,s){const o=await SD(r.localStore,Br(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await o6(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&BE(r.remoteStore,o),p}async function o6(r,e,n,s,o){r.pu=(E,w,I)=>(async function(q,H,J,k){let Z=H.view.ru(J);Z.Ss&&(Z=await Gb(q.localStore,H.query,!1).then((({documents:S})=>H.view.ru(S,Z))));const ce=k&&k.targetChanges.get(H.targetId),K=k&&k.targetMismatches.get(H.targetId)!=null,oe=H.view.applyChanges(Z,q.isPrimaryClient,ce,K);return t1(q,H.targetId,oe.au),oe.snapshot})(r,E,w,I);const c=await Gb(r.localStore,e,!0),h=new t6(e,c.ks),p=h.ru(c.documents),g=jc.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=h.applyChanges(p,r.isPrimaryClient,g);t1(r,n,y.au);const x=new n6(e,n,h);return r.Tu.set(e,x),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function l6(r,e,n){const s=Se(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((h=>!_d(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&wg(s.remoteStore,o.targetId),Mp(s,o.targetId)})).catch(Lo)):(Mp(s,o.targetId),await Op(s.localStore,o.targetId,!0))}async function c6(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),wg(n.remoteStore,s.targetId))}async function u6(r,e,n){const s=y6(r);try{const o=await(function(h,p){const g=Se(h),y=at.now(),x=p.reduce(((I,U)=>I.add(U.key)),ze());let E,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let U=Ti(),q=ze();return g.xs.getEntries(I,x).next((H=>{U=H,U.forEach(((J,k)=>{k.isValidDocument()||(q=q.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(I,U))).next((H=>{E=H;const J=[];for(const k of p){const Z=w4(k,E.get(k.key).overlayedDocument);Z!=null&&J.push(new Ss(k.key,Z,iE(Z.value.mapValue),cn.exists(!0)))}return g.mutationQueue.addMutationBatch(I,y,J,p)})).next((H=>{w=H;const J=H.applyToLocalDocumentSet(E,q);return g.documentOverlayCache.saveOverlays(I,H.batchId,J)}))})).then((()=>({batchId:w.batchId,changes:pE(E)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,p,g){let y=h.du[h.currentUser.toKey()];y||(y=new mt(Ue)),y=y.insert(p,g),h.du[h.currentUser.toKey()]=y})(s,o.batchId,n),await Mc(s,o.changes),await Rd(s.remoteStore)}catch(o){const c=Cg(o,"Failed to persist write");n.reject(c)}}async function XE(r,e){const n=Se(r);try{const s=await ED(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const h=n.Au.get(c);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ye(h.hu,14607):o.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))})),await Mc(n,s,e)}catch(s){await Lo(s)}}function e1(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(h,p){const g=Se(h);g.onlineState=p;let y=!1;g.queries.forEach(((x,E)=>{for(const w of E.ba)w.va(p)&&(y=!0)})),y&&Og(g)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function h6(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let h=new mt(ve.comparator);h=h.insert(c,nn.newNoDocument(c,Ae.min()));const p=ze().add(c),g=new wd(Ae.min(),new Map,new mt(Ue),h,p);await XE(s,g),s.Ru=s.Ru.remove(c),s.Au.delete(e),Mg(s)}else await Op(s.localStore,e,!1).then((()=>Mp(s,e,n))).catch(Lo)}async function d6(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await xD(n.localStore,e);WE(n,s,null),JE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Mc(n,o)}catch(o){await Lo(o)}}async function f6(r,e,n){const s=Se(r);try{const o=await(function(h,p){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return g.mutationQueue.lookupMutationBatch(y,p).next((E=>(Ye(E!==null,37113),x=E.keys(),g.mutationQueue.removeMutationBatch(y,E)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,x,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>g.localDocuments.getDocuments(y,x)))}))})(s.localStore,e);WE(s,e,n),JE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Mc(s,o)}catch(o){await Lo(o)}}function JE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function WE(r,e,n){const s=Se(r);let o=s.du[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function Mp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||ZE(r,s)}))}function ZE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(wg(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),Mg(r))}function t1(r,e,n){for(const s of n)s instanceof KE?(r.Vu.addReference(s.key,e),m6(r,s)):s instanceof YE?(de(kg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||ZE(r,s.key)):Te(19791,{wu:s})}function m6(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(de(kg,"New document in limbo: "+n),r.Eu.add(s),Mg(r))}function Mg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new r6(n)),r.Ru=r.Ru.insert(n,s),BE(r.remoteStore,new hs(Br(vd(n.path)),s,"TargetPurposeLimboResolution",pd.ce))}}async function Mc(r,e,n){const s=Se(r),o=[],c=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{h.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Eg.Es(g.targetId,y);c.push(x)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(g,y){const x=Se(g);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ie.forEach(y,(w=>ie.forEach(w.Ts,(I=>x.persistence.referenceDelegate.addReference(E,w.targetId,I))).next((()=>ie.forEach(w.Is,(I=>x.persistence.referenceDelegate.removeReference(E,w.targetId,I)))))))))}catch(E){if(!Uo(E))throw E;de(Tg,"Failed to update sequence numbers: "+E)}for(const E of y){const w=E.targetId;if(!E.fromCache){const I=x.vs.get(w),U=I.snapshotVersion,q=I.withLastLimboFreeSnapshotVersion(U);x.vs=x.vs.insert(w,q)}}})(s.localStore,c))}async function p6(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){de(kg,"User change. New user:",e.toKey());const s=await PE(n.localStore,e);n.currentUser=e,(function(c,h){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ue(ne.CANCELLED,h))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mc(n,s.Ns)}}function g6(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const c=n.Iu.get(e);if(!c)return o;for(const h of c){const p=n.Tu.get(h);o=o.unionWith(p.view.nu)}return o}}function eT(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=XE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h6.bind(null,e),e.Pu.J_=ZD.bind(null,e.eventManager),e.Pu.yu=e6.bind(null,e.eventManager),e}function y6(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f6.bind(null,e),e}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bD(this.persistence,new yD,e.initialUser,this.serializer)}Cu(e){return new VE(xg.Vi,this.serializer)}Du(e){return new RD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class v6 extends td{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nD(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new VE((s=>Zh.Vi(s,n)),this.serializer)}}class Vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>e1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=p6.bind(null,this.syncEngine),await XD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WD})()}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),s=OD(e.databaseInfo);return PD(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,h,p){return new UD(s,o,c,h,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>e1(this.syncEngine,n,0)),(function(){return Yb.v()?new Yb:new ND})())}createSyncEngine(e,n){return(function(o,c,h,p,g,y,x){const E=new i6(o,c,h,p,g,y);return x&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);de(ma,"RemoteStore shutting down."),s.Ea.add(5),await kc(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Vp.provider={build:()=>new Vp};class Nd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Es="FirestoreClient";class _6{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async h=>{de(Es,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(de(Es,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Cg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function sp(r,e){r.asyncQueue.verifyOperationInProgress(),de(Es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await PE(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function n1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await b6(r);de(Es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Xb(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Xb(e.remoteStore,o))),r._onlineComponents=e}async function b6(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(Es,"Using user provided OfflineComponentProvider");try{await sp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;fa("Error using user provided cache. Falling back to memory cache: "+n),await sp(r,new td)}}else de(Es,"Using default OfflineComponentProvider"),await sp(r,new v6(void 0));return r._offlineComponents}async function tT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(Es,"Using user provided OnlineComponentProvider"),await n1(r,r._uninitializedComponentsProvider._online)):(de(Es,"Using default OnlineComponentProvider"),await n1(r,new Vp))),r._onlineComponents}function x6(r){return tT(r).then((e=>e.syncEngine))}async function No(r){const e=await tT(r),n=e.eventManager;return n.onListen=s6.bind(null,e.syncEngine),n.onUnlisten=l6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=a6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c6.bind(null,e.syncEngine),n}function E6(r,e,n,s){const o=new Nd(s),c=new jg(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>Ig(await No(r),c))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>Dg(await No(r),c)))}}function T6(r,e,n={}){const s=new vi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const x=new Nd({next:w=>{x.Nu(),h.enqueueAndForget((()=>Dg(c,E)));const I=w.docs.has(p);!I&&w.fromCache?y.reject(new ue(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&w.fromCache&&g&&g.source==="server"?y.reject(new ue(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),E=new jg(vd(p.path),x,{includeMetadataChanges:!0,Ka:!0});return Ig(c,E)})(await No(r),r.asyncQueue,e,n,s))),s.promise}function w6(r,e,n={}){const s=new vi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,h,p,g,y){const x=new Nd({next:w=>{x.Nu(),h.enqueueAndForget((()=>Dg(c,E))),w.fromCache&&g.source==="server"?y.reject(new ue(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),E=new jg(p,x,{includeMetadataChanges:!0,Ka:!0});return Ig(c,E)})(await No(r),r.asyncQueue,e,n,s))),s.promise}function S6(r,e){const n=new vi;return r.asyncQueue.enqueueAndForget((async()=>u6(await x6(r),e,n))),n.promise}function A6(r,e){const n=new Nd(e);return r.asyncQueue.enqueueAndForget((async()=>(function(o,c){Se(o).Ca.add(c),c.next()})(await No(r),n))),()=>{n.Nu(),r.asyncQueue.enqueueAndForget((async()=>(function(o,c){Se(o).Ca.delete(c)})(await No(r),n)))}}function nT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const R6="ComponentProvider",r1=new Map;function N6(r,e,n,s,o){return new GI(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,nT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const rT="firestore.googleapis.com",i1=!0;class s1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=i1}else this.host=e.host,this.ssl=e.ssl??i1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eD)throw new ue(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new wI;switch(s.type){case"firstParty":return new NI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=r1.get(n);s&&(de(R6,"Removing Datastore"),r1.delete(n),s.terminate())})(this),Promise.resolve()}}function C6(r,e,n,s={}){r=rn(r,Cd);const o=ko(e),c=r._getSettings(),h={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(J1(`https://${p}`),W1("Firestore",!0)),c.host!==rT&&c.host!==p&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!gs(g,h)&&(r._setSettings(g),s.mockUserToken)){let y,x;if(typeof s.mockUserToken=="string")y=s.mockUserToken,x=tn.MOCK_USER;else{y=C2(s.mockUserToken,r._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ue(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new tn(E)}r._authCredentials=new SI(new $x(y,x))}}class As{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new As(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Dc(n,yt._jsonSchema))return new yt(e,s||null,new ve(rt.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Mt("string",yt._jsonSchemaVersion),referencePath:Mt("string")};class ps extends As{constructor(e,n,s){super(e,n,vd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ve(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function ht(r,e,...n){if(r=ft(r),Kx("collection","path",e),r instanceof Cd){const s=rt.fromString(e,...n);return vb(s),new ps(r,null,s)}{if(!(r instanceof yt||r instanceof ps))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return vb(s),new ps(r.firestore,null,s)}}function vt(r,e,...n){if(r=ft(r),arguments.length===1&&(e=ug.newId()),Kx("doc","path",e),r instanceof Cd){const s=rt.fromString(e,...n);return yb(s),new yt(r,null,new ve(s))}{if(!(r instanceof yt||r instanceof ps))throw new ue(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return yb(s),new yt(r.firestore,r instanceof ps?r.converter:null,new ve(s))}}const a1="AsyncQueue";class o1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UE(this,"async_queue_retry"),this._c=()=>{const s=ip();s&&de(a1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ip();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ip();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Uo(e))throw e;de(a1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ei("INTERNAL UNHANDLED ERROR: ",l1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ng.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:l1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function l1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class pr extends Cd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new o1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o1(e),this._firestoreClient=void 0,await e}}}function I6(r,e){const n=typeof r=="object"?r:Wp(),s=typeof r=="string"?r:Yh,o=va(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=R2("firestore");c&&C6(o,...c)}return o}function qo(r){if(r._terminated)throw new ue(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||D6(r),r._firestoreClient}function D6(r){const e=r._freezeSettings(),n=N6(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _6(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Wt.fromBase64String(e))}catch(n){throw new ue(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dc(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Mt("string",Kn._jsonSchemaVersion),bytes:Mt("string")};class Id{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dd{constructor(e){this._methodName=e}}class Hr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hr._jsonSchemaVersion}}static fromJSON(e){if(Dc(e,Hr._jsonSchema))return new Hr(e.latitude,e.longitude)}}Hr._jsonSchemaVersion="firestore/geoPoint/1.0",Hr._jsonSchema={type:Mt("string",Hr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class hr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dc(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hr(e.vectorValues);throw new ue(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:Mt("string",hr._jsonSchemaVersion),vectorValues:Mt("object")};const O6=/^__.*__$/;class j6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(e,this.data,n,this.fieldTransforms)}}class iT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:r})}}class Vg{constructor(e,n,s,o,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return nd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(sT(this.dataSource)&&O6.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class k6{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Sd(e)}createContext(e,n,s,o=!1){return new Vg({dataSource:e,methodName:n,targetDoc:s,path:Jt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vc(r){const e=r._freezeSettings(),n=Sd(r._databaseId);return new k6(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Pg(r,e,n,s,o,c={}){const h=r.createContext(c.merge||c.mergeFields?2:0,e,n,o);Ug("Data must be an object, but it was:",h,s);const p=lT(s,h);let g,y;if(c.merge)g=new Dn(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const x=[];for(const E of c.mergeFields){const w=Co(e,E,n);if(!h.contains(w))throw new ue(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);hT(x,w)||x.push(w)}g=new Dn(x),y=h.fieldTransforms.filter((E=>g.covers(E.field)))}else g=null,y=h.fieldTransforms;return new j6(new bn(p),g,y)}class Od extends Dd{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}class Lg extends Dd{_toFieldTransform(e){return new b4(e.path,new _c)}isEqual(e){return e instanceof Lg}}function aT(r,e,n,s){const o=r.createContext(1,e,n);Ug("Data must be an object, but it was:",o,s);const c=[],h=bn.empty();ws(s,((g,y)=>{const x=uT(e,g,n);y=ft(y);const E=o.childContextForFieldPath(x);if(y instanceof Od)c.push(x);else{const w=Pc(y,E);w!=null&&(c.push(x),h.set(x,w))}}));const p=new Dn(c);return new iT(h,p,o.fieldTransforms)}function oT(r,e,n,s,o,c){const h=r.createContext(1,e,n),p=[Co(e,s,n)],g=[o];if(c.length%2!=0)throw new ue(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)p.push(Co(e,c[w])),g.push(c[w+1]);const y=[],x=bn.empty();for(let w=p.length-1;w>=0;--w)if(!hT(y,p[w])){const I=p[w];let U=g[w];U=ft(U);const q=h.childContextForFieldPath(I);if(U instanceof Od)y.push(I);else{const H=Pc(U,q);H!=null&&(y.push(I),x.set(I,H))}}const E=new Dn(y);return new iT(x,E,h.fieldTransforms)}function M6(r,e,n,s=!1){return Pc(n,r.createContext(s?4:3,e))}function Pc(r,e){if(cT(r=ft(r)))return Ug("Unsupported field value:",e,r),lT(r,e);if(r instanceof Dd)return(function(s,o){if(!sT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const c=[];let h=0;for(const p of s){let g=Pc(p,o.childContextForArray(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}})(r,e)}return(function(s,o){if((s=ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return y4(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=at.fromDate(s);return{timestampValue:Wh(o.serializer,c)}}if(s instanceof at){const c=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wh(o.serializer,c)}}if(s instanceof Hr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:RE(o.serializer,s._byteString)};if(s instanceof yt){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:_g(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof hr)return(function(h,p){const g=h instanceof hr?h.toArray():h;return{mapValue:{fields:{[nE]:{stringValue:rE},[Qh]:{arrayValue:{values:g.map((x=>{if(typeof x!="number")throw p.createError("VectorValues must only contain numeric values.");return gg(p.serializer,x)}))}}}}}})(s,o);if(kE(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${md(s)}`)})(r,e)}function lT(r,e){const n={};return Xx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(r,((s,o)=>{const c=Pc(o,e.childContextForField(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function cT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof at||r instanceof Hr||r instanceof Kn||r instanceof yt||r instanceof Dd||r instanceof hr||kE(r))}function Ug(r,e,n){if(!cT(n)||!Yx(n)){const s=md(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Co(r,e,n){if((e=ft(e))instanceof Id)return e._internalPath;if(typeof e=="string")return uT(r,e);throw nd("Field path arguments must be of type string or ",r,!1,void 0,n)}const V6=new RegExp("[~\\*/\\[\\]]");function uT(r,e,n){if(e.search(V6)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Id(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function nd(r,e,n,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new ue(ne.INVALID_ARGUMENT,p+r+g)}function hT(r,e){return r.some((n=>n.isEqual(e)))}class P6{convertValue(e,n="none"){switch(bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Qh].arrayValue?.values?.map((s=>Tt(s.doubleValue)));return new hr(n)}convertGeoPoint(e){return new Hr(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=yd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pc(e));default:return null}}convertTimestamp(e){const n=vs(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ye(jE(s),9688,{name:e});const o=new gc(s.get(1),s.get(3)),c=new ve(s.popFirst(5));return o.isEqual(n)||Ei(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}class zg extends P6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function pi(){return new Lg("serverTimestamp")}const c1="@firebase/firestore",u1="4.11.0";function Pp(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class dT{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new L6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Co("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class L6 extends dT{data(){return super.data()}}function fT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class mT extends Bg{}function pT(r,e,...n){let s=[];e instanceof Bg&&s.push(e),s=s.concat(n),(function(c){const h=c.filter((g=>g instanceof Hg)).length,p=c.filter((g=>g instanceof qg)).length;if(h>1||h>0&&p>0)throw new ue(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class qg extends mT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new qg(e,n,s)}_apply(e){const n=this._parse(e);return yT(e._query,n),new As(e.firestore,e.converter,Ap(e._query,n))}_parse(e){const n=Vc(e.firestore);return(function(c,h,p,g,y,x,E){let w;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){d1(E,x);const U=[];for(const q of E)U.push(h1(g,c,q));w={arrayValue:{values:U}}}else w=h1(g,c,E)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||d1(E,x),w=M6(p,h,E,x==="in"||x==="not-in");return kt.create(y,x,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Hg extends Bg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:mr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)yT(h,g),h=Ap(h,g)})(e._query,n),new As(e.firestore,e.converter,Ap(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fg extends mT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fg(e,n)}_apply(e){const n=(function(o,c,h){if(o.startAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vc(c,h)})(e._query,this._field,this._direction);return new As(e.firestore,e.converter,c4(e._query,n))}}function gT(r,e="asc"){const n=e,s=Co("orderBy",r);return Fg._create(s,n)}function h1(r,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new ue(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hE(e)&&n.indexOf("/")!==-1)throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ve.isDocumentKey(s))throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Ab(r,new ve(s))}if(n instanceof yt)return Ab(r,n._key);throw new ue(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(n)}.`)}function d1(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yT(r,e){const n=(function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Gg(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends dT{constructor(e,n,s,o,c,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Co("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=la._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}la._jsonSchemaVersion="firestore/documentSnapshot/1.0",la._jsonSchema={type:Mt("string",la._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class kh extends la{data(e={}){return super.data(e)}}class ca{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new rc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new kh(this._firestore,this._userDataWriter,s.key,s,new rc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((p=>{const g=new kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new rc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new kh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new rc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),x=h.indexOf(p.doc.key)),{type:U6(p.type),doc:g,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ug.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function U6(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:Mt("string",ca._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class z6{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Vc(e)}set(e,n,s){this._verifyNotCommitted();const o=ap(e,this._firestore),c=Gg(o.converter,n,s),h=Pg(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,cn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const c=ap(e,this._firestore);let h;return h=typeof(n=ft(n))=="string"||n instanceof Id?oT(this._dataReader,"WriteBatch.update",c._key,n,s,o):aT(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(h.toMutation(c._key,cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ap(e,this._firestore);return this._mutations=this._mutations.concat(new Td(n._key,cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ue(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ap(r,e){if((r=ft(r)).firestore!==e)throw new ue(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function f1(r){r=rn(r,yt);const e=rn(r.firestore,pr),n=qo(e);return T6(n,r._key).then((s=>vT(e,r,s)))}function Mh(r){r=rn(r,As);const e=rn(r.firestore,pr),n=qo(e),s=new zg(e);return fT(r._query),w6(n,r._query).then((o=>new ca(e,s,r,o)))}function m1(r,e,n){r=rn(r,yt);const s=rn(r.firestore,pr),o=Gg(r.converter,e,n),c=Vc(s);return Uc(s,[Pg(c,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,cn.none())])}function Io(r,e,n,...s){r=rn(r,yt);const o=rn(r.firestore,pr),c=Vc(o);let h;return h=typeof(e=ft(e))=="string"||e instanceof Id?oT(c,"updateDoc",r._key,e,n,s):aT(c,"updateDoc",r._key,e),Uc(o,[h.toMutation(r._key,cn.exists(!0))])}function Lc(r){return Uc(rn(r.firestore,pr),[new Td(r._key,cn.none())])}function Ec(r,e){const n=rn(r.firestore,pr),s=vt(r),o=Gg(r.converter,e),c=Vc(r.firestore);return Uc(n,[Pg(c,"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,cn.exists(!1))]).then((()=>s))}function un(r,...e){r=ft(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Pp(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Pp(e[s])){const y=e[s];e[s]=y.next?.bind(y),e[s+1]=y.error?.bind(y),e[s+2]=y.complete?.bind(y)}let c,h,p;if(r instanceof yt)h=rn(r.firestore,pr),p=vd(r._key.path),c={next:y=>{e[s]&&e[s](vT(h,r,y))},error:e[s+1],complete:e[s+2]};else{const y=rn(r,As);h=rn(y.firestore,pr),p=y._query;const x=new zg(h);c={next:E=>{e[s]&&e[s](new ca(h,x,y,E))},error:e[s+1],complete:e[s+2]},fT(r._query)}const g=qo(h);return E6(g,p,o,c)}function B6(r,e){r=rn(r,pr);const n=qo(r),s=Pp(e)?e:{next:e};return A6(n,s)}function Uc(r,e){const n=qo(r);return S6(n,e)}function vT(r,e,n){const s=n.docs.get(e._key),o=new zg(r);return new la(r,o,e._key,s,new rc(n.hasPendingWrites,n.fromCache),e.converter)}function _T(r){return r=rn(r,pr),qo(r),new z6(r,(e=>Uc(r,e)))}(function(e,n=!0){TI(Mo),Fr(new fr("firestore",((s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),p=new pr(new AI(s.getProvider("auth-internal")),new CI(h,s.getProvider("app-check-internal")),$I(h,o),h);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Yn(c1,u1,e),Yn(c1,u1,"esm2020")})();const bT="@firebase/installations",$g="0.6.19";const xT=1e4,ET=`w:${$g}`,TT="FIS_v2",q6="https://firebaseinstallations.googleapis.com/v1",H6=3600*1e3,F6="installations",G6="Installations";const $6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pa=new ya(F6,G6,$6);function wT(r){return r instanceof gr&&r.code.includes("request-failed")}function ST({projectId:r}){return`${q6}/projects/${r}/installations`}function AT(r){return{token:r.token,requestStatus:2,expiresIn:Y6(r.expiresIn),creationTime:Date.now()}}async function RT(r,e){const s=(await e.json()).error;return pa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function NT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function K6(r,{refreshToken:e}){const n=NT(r);return n.append("Authorization",Q6(e)),n}async function CT(r){const e=await r();return e.status>=500&&e.status<600?r():e}function Y6(r){return Number(r.replace("s","000"))}function Q6(r){return`${TT} ${r}`}async function X6({appConfig:r,heartbeatServiceProvider:e},{fid:n}){const s=ST(r),o=NT(r),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={fid:n,authVersion:TT,appId:r.appId,sdkVersion:ET},p={method:"POST",headers:o,body:JSON.stringify(h)},g=await CT(()=>fetch(s,p));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:AT(y.authToken)}}else throw await RT("Create Installation",g)}function IT(r){return new Promise(e=>{setTimeout(e,r)})}function J6(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const W6=/^[cdef][\w-]{21}$/,Lp="";function Z6(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const n=e5(r);return W6.test(n)?n:Lp}catch{return Lp}}function e5(r){return J6(r).substr(0,22)}function jd(r){return`${r.appName}!${r.appId}`}const DT=new Map;function OT(r,e){const n=jd(r);jT(n,e),t5(n,e)}function jT(r,e){const n=DT.get(r);if(n)for(const s of n)s(e)}function t5(r,e){const n=n5();n&&n.postMessage({key:r,fid:e}),r5()}let oa=null;function n5(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=r=>{jT(r.data.key,r.data.fid)}),oa}function r5(){DT.size===0&&oa&&(oa.close(),oa=null)}const i5="firebase-installations-database",s5=1,ga="firebase-installations-store";let op=null;function Kg(){return op||(op=nx(i5,s5,{upgrade:(r,e)=>{e===0&&r.createObjectStore(ga)}})),op}async function rd(r,e){const n=jd(r),o=(await Kg()).transaction(ga,"readwrite"),c=o.objectStore(ga),h=await c.get(n);return await c.put(e,n),await o.done,(!h||h.fid!==e.fid)&&OT(r,e.fid),e}async function kT(r){const e=jd(r),s=(await Kg()).transaction(ga,"readwrite");await s.objectStore(ga).delete(e),await s.done}async function kd(r,e){const n=jd(r),o=(await Kg()).transaction(ga,"readwrite"),c=o.objectStore(ga),h=await c.get(n),p=e(h);return p===void 0?await c.delete(n):await c.put(p,n),await o.done,p&&(!h||h.fid!==p.fid)&&OT(r,p.fid),p}async function Yg(r){let e;const n=await kd(r.appConfig,s=>{const o=a5(s),c=o5(r,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Lp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function a5(r){const e=r||{fid:Z6(),registrationStatus:0};return MT(e)}function o5(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(pa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=l5(r,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:c5(r)}:{installationEntry:e}}async function l5(r,e){try{const n=await X6(r,e);return rd(r.appConfig,n)}catch(n){throw wT(n)&&n.customData.serverCode===409?await kT(r.appConfig):await rd(r.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function c5(r){let e=await p1(r.appConfig);for(;e.registrationStatus===1;)await IT(100),e=await p1(r.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Yg(r);return s||n}return e}function p1(r){return kd(r,e=>{if(!e)throw pa.create("installation-not-found");return MT(e)})}function MT(r){return u5(r)?{fid:r.fid,registrationStatus:0}:r}function u5(r){return r.registrationStatus===1&&r.registrationTime+xT<Date.now()}async function h5({appConfig:r,heartbeatServiceProvider:e},n){const s=d5(r,n),o=K6(r,n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={installation:{sdkVersion:ET,appId:r.appId}},p={method:"POST",headers:o,body:JSON.stringify(h)},g=await CT(()=>fetch(s,p));if(g.ok){const y=await g.json();return AT(y)}else throw await RT("Generate Auth Token",g)}function d5(r,{fid:e}){return`${ST(r)}/${e}/authTokens:generate`}async function Qg(r,e=!1){let n;const s=await kd(r.appConfig,c=>{if(!VT(c))throw pa.create("not-registered");const h=c.authToken;if(!e&&p5(h))return c;if(h.requestStatus===1)return n=f5(r,e),c;{if(!navigator.onLine)throw pa.create("app-offline");const p=y5(c);return n=m5(r,p),p}});return n?await n:s.authToken}async function f5(r,e){let n=await g1(r.appConfig);for(;n.authToken.requestStatus===1;)await IT(100),n=await g1(r.appConfig);const s=n.authToken;return s.requestStatus===0?Qg(r,e):s}function g1(r){return kd(r,e=>{if(!VT(e))throw pa.create("not-registered");const n=e.authToken;return v5(n)?{...e,authToken:{requestStatus:0}}:e})}async function m5(r,e){try{const n=await h5(r,e),s={...e,authToken:n};return await rd(r.appConfig,s),n}catch(n){if(wT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kT(r.appConfig);else{const s={...e,authToken:{requestStatus:0}};await rd(r.appConfig,s)}throw n}}function VT(r){return r!==void 0&&r.registrationStatus===2}function p5(r){return r.requestStatus===2&&!g5(r)}function g5(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+H6}function y5(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function v5(r){return r.requestStatus===1&&r.requestTime+xT<Date.now()}async function _5(r){const e=r,{installationEntry:n,registrationPromise:s}=await Yg(e);return s?s.catch(console.error):Qg(e).catch(console.error),n.fid}async function b5(r,e=!1){const n=r;return await x5(n),(await Qg(n,e)).token}async function x5(r){const{registrationPromise:e}=await Yg(r);e&&await e}function E5(r){if(!r||!r.options)throw lp("App Configuration");if(!r.name)throw lp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!r.options[n])throw lp(n);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function lp(r){return pa.create("missing-app-config-values",{valueName:r})}const PT="installations",T5="installations-internal",w5=r=>{const e=r.getProvider("app").getImmediate(),n=E5(e),s=va(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},S5=r=>{const e=r.getProvider("app").getImmediate(),n=va(e,PT).getImmediate();return{getId:()=>_5(n),getToken:o=>b5(n,o)}};function A5(){Fr(new fr(PT,w5,"PUBLIC")),Fr(new fr(T5,S5,"PRIVATE"))}A5();Yn(bT,$g);Yn(bT,$g,"esm2020");const id="analytics",R5="firebase_id",N5="origin",C5=60*1e3,I5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xg="https://www.googletagmanager.com/gtag/js";const hn=new ud("@firebase/analytics");const D5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new ya("analytics","Analytics",D5);function O5(r){if(!r.startsWith(Xg)){const e=On.create("invalid-gtag-resource",{gtagURL:r});return hn.warn(e.message),""}return r}function LT(r){return Promise.all(r.map(e=>e.catch(n=>n)))}function j5(r,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(r,e)),n}function k5(r,e){const n=j5("firebase-js-sdk-policy",{createScriptURL:O5}),s=document.createElement("script"),o=`${Xg}?l=${r}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function M5(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function V5(r,e,n,s,o,c){const h=s[o];try{if(h)await e[h];else{const g=(await LT(n)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(p){hn.error(p)}r("config",o,c)}async function P5(r,e,n,s,o){try{let c=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const p=await LT(n);for(const g of h){const y=p.find(E=>E.measurementId===g),x=y&&e[y.appId];if(x)c.push(x);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,o||{})}catch(c){hn.error(c)}}function L5(r,e,n,s){async function o(c,...h){try{if(c==="event"){const[p,g]=h;await P5(r,e,n,p,g)}else if(c==="config"){const[p,g]=h;await V5(r,e,n,s,p,g)}else if(c==="consent"){const[p,g]=h;r("consent",p,g)}else if(c==="get"){const[p,g,y]=h;r("get",p,g,y)}else if(c==="set"){const[p]=h;r("set",p)}else r(c,...h)}catch(p){hn.error(p)}}return o}function U5(r,e,n,s,o){let c=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=L5(c,r,e,n),{gtagCore:c,wrappedGtag:window[o]}}function z5(r){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Xg)&&n.src.includes(r))return n;return null}const B5=30,q5=1e3;class H5{constructor(e={},n=q5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const UT=new H5;function F5(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function G5(r){const{appId:e,apiKey:n}=r,s={method:"GET",headers:F5(n)},o=I5.replace("{app-id}",e),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let h="";try{const p=await c.json();p.error?.message&&(h=p.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:c.status,responseMessage:h})}return c.json()}async function $5(r,e=UT,n){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw On.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw On.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Q5;return setTimeout(async()=>{p.abort()},C5),zT({appId:s,apiKey:o,measurementId:c},h,p,e)}async function zT(r,{throttleEndTimeMillis:e,backoffCount:n},s,o=UT){const{appId:c,measurementId:h}=r;try{await K5(s,e)}catch(p){if(h)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:h};throw p}try{const p=await G5(r);return o.deleteThrottleMetadata(c),p}catch(p){const g=p;if(!Y5(g)){if(o.deleteThrottleMetadata(c),h)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:h};throw p}const y=Number(g?.customData?.httpStatus)===503?z_(n,o.intervalMillis,B5):z_(n,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return o.setThrottleMetadata(c,x),hn.debug(`Calling attemptFetch again in ${y} millis`),zT(r,x,s,o)}}function K5(r,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);r.addEventListener(()=>{clearTimeout(c),s(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Y5(r){if(!(r instanceof gr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class Q5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function X5(r,e,n,s,o){if(o&&o.global){r("event",n,s);return}else{const c=await e,h={...s,send_to:c};r("event",n,h)}}async function J5(r,e,n,s){if(s&&s.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return r("set",o),Promise.resolve()}else{const o=await e;r("config",o,{update:!0,user_properties:n})}}async function W5(){if(Qp())try{await Xp()}catch(r){return hn.warn(On.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return hn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Z5(r,e,n,s,o,c,h){const p=$5(r);p.then(w=>{n[w.measurementId]=w.appId,r.options.measurementId&&w.measurementId!==r.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>hn.error(w)),e.push(p);const g=W5().then(w=>{if(w)return s.getId()}),[y,x]=await Promise.all([p,g]);z5(c)||k5(c,y.measurementId),o("js",new Date);const E=h?.config??{};return E[N5]="firebase",E.update=!0,x!=null&&(E[R5]=x),o("config",y.measurementId,E),y.measurementId}class eO{constructor(e){this.app=e}_delete(){return delete Eo[this.app.options.appId],Promise.resolve()}}let Eo={},y1=[];const v1={};let cp="dataLayer",tO="gtag",_1,Jg,b1=!1;function nO(){const r=[];if(Yp()&&r.push("This is a browser extension environment."),Z1()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});hn.warn(n.message)}}function rO(r,e,n){nO();const s=r.options.appId;if(!s)throw On.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(Eo[s]!=null)throw On.create("already-exists",{id:s});if(!b1){M5(cp);const{wrappedGtag:c,gtagCore:h}=U5(Eo,y1,v1,cp,tO);Jg=c,_1=h,b1=!0}return Eo[s]=Z5(r,y1,v1,e,_1,cp,n),new eO(r)}function iO(r=Wp()){r=ft(r);const e=va(r,id);return e.isInitialized()?e.getImmediate():sO(r)}function sO(r,e={}){const n=va(r,id);if(n.isInitialized()){const o=n.getImmediate();if(gs(e,n.getOptions()))return o;throw On.create("already-initialized")}return n.initialize({options:e})}async function aO(){if(Yp()||!Z1()||!Qp())return!1;try{return await Xp()}catch{return!1}}function oO(r,e,n){r=ft(r),J5(Jg,Eo[r.app.options.appId],e,n).catch(s=>hn.error(s))}function lO(r,e,n,s){r=ft(r),X5(Jg,Eo[r.app.options.appId],e,n,s).catch(o=>hn.error(o))}const x1="@firebase/analytics",E1="0.10.19";function cO(){Fr(new fr(id,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return rO(s,o,n)},"PUBLIC")),Fr(new fr("analytics-internal",r,"PRIVATE")),Yn(x1,E1),Yn(x1,E1,"esm2020");function r(e){try{const n=e.getProvider(id).getImmediate();return{logEvent:(s,o,c)=>lO(n,s,o,c),setUserProperties:(s,o)=>oO(n,s,o)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}}}cO();const uO={apiKey:"AIzaSyBCbreS0UhPNHd1gon3RCaU8BpTNaoc5_w",authDomain:"buwembo-property-app.firebaseapp.com",projectId:"buwembo-property-app",storageBucket:"buwembo-property-app.firebasestorage.app",messagingSenderId:"549237684790",appId:"1:549237684790:web:77b14ad3b7bfd6916df697",measurementId:"G-DB07FG1451"},Wg=rx(uO),xe=I6(Wg),ho=_I(Wg);aO().then(r=>{r&&iO(Wg)});const BT=P.createContext(void 0),hO=({children:r})=>{const[e,n]=P.useState(null),[s,o]=P.useState(!0);P.useEffect(()=>{const x=oC(ho,async E=>{if(o(!0),E&&xe)try{const w=vt(xe,"users",E.uid);await Io(w,{lastActive:new Date().toISOString()}).catch(()=>{});const I=await f1(w);if(I.exists()){const U=I.data();n({uid:E.uid,email:E.email||"",role:U.role||"user",username:U.username||"User",lastActive:U.lastActive})}else n(null)}catch(w){console.error("Firestore sync error:",w),n(null)}else n(null);o(!1)});return()=>x()},[]);const c=async(x,E)=>{await iC(ho,x,E)},h=async()=>{const x=new di,w=(await NC(ho,x)).user;if(!xe)return;const I=vt(xe,"users",w.uid);if(!(await f1(I)).exists()){const q={username:w.displayName||w.email?.split("@")[0]||"User",role:"user",email:w.email||"",createdAt:new Date().toISOString(),lastActive:new Date().toISOString()};await m1(I,q),n({uid:w.uid,email:w.email||"",role:"user",username:q.username})}},p=async()=>{await lC(ho),n(null)},g=async(x,E,w,I)=>{const U=await rC(ho,x,E);xe&&await m1(vt(xe,"users",U.user.uid),{username:w,role:I,email:x,createdAt:new Date().toISOString(),lastActive:new Date().toISOString()})},y=async x=>{await nC(ho,x)};return m.jsx(BT.Provider,{value:{currentUser:e,loading:s,login:c,logout:p,registerNewUser:g,loginWithGoogle:h,resetUserPassword:y},children:!s&&r})},Md=()=>{const r=P.useContext(BT);if(!r)throw new Error("useAuth must be used within AuthProvider");return r};const qT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const dO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const fO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const T1=r=>{const e=fO(r);return e.charAt(0).toUpperCase()+e.slice(1)};var mO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const gO=P.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:h,...p},g)=>P.createElement("svg",{ref:g,...mO,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:qT("lucide",o),...!c&&!pO(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,x])=>P.createElement(y,x)),...Array.isArray(c)?c:[c]]));const ge=(r,e)=>{const n=P.forwardRef(({className:s,...o},c)=>P.createElement(gO,{ref:c,iconNode:e,className:qT(`lucide-${dO(T1(r))}`,`lucide-${r}`,s),...o}));return n.displayName=T1(r),n};const yO=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],vO=ge("arrow-down-right",yO);const _O=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bO=ge("arrow-left",_O);const xO=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],EO=ge("arrow-right-left",xO);const TO=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],wO=ge("arrow-up-right",TO);const SO=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ts=ge("building-2",SO);const AO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],RO=ge("calendar-days",AO);const NO=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],CO=ge("chart-pie",NO);const IO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zg=ge("circle-alert",IO);const DO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],OO=ge("circle-check-big",DO);const jO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Up=ge("circle-check",jO);const kO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],MO=ge("circle-plus",kO);const VO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vd=ge("clock",VO);const PO=[["path",{d:"m17 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"adpv5j"}],["path",{d:"M17 22v-4h-4",key:"ex1ofj"}],["path",{d:"M20.996 15.251A4.5 4.5 0 0 0 17.495 8h-1.79a7 7 0 1 0-12.709 5.607",key:"ziqt14"}],["path",{d:"M7 10v4h4",key:"1j6gx1"}],["path",{d:"m7 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"19q5h7"}]],LO=ge("cloud-sync",PO);const UO=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],zO=ge("cloud",UO);const BO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],HT=ge("database",BO);const qO=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],HO=ge("dollar-sign",qO);const FO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ey=ge("download",FO);const GO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$O=ge("eye-off",GO);const KO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YO=ge("eye",KO);const QO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],XO=ge("file-chart-column-increasing",QO);const JO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],FT=ge("file-down",JO);const WO=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],GT=ge("file-text",WO);const ZO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],e3=ge("funnel",ZO);const t3=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],$T=ge("hammer",t3);const n3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],r3=ge("history",n3);const i3=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],s3=ge("house",i3);const a3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],o3=ge("key",a3);const l3=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],c3=ge("layers",l3);const u3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],h3=ge("layout-dashboard",u3);const d3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],w1=ge("loader-circle",d3);const f3=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],m3=ge("log-in",f3);const p3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],g3=ge("log-out",p3);const y3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],v3=ge("mail",y3);const _3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],KT=ge("map-pin",_3);const b3=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sd=ge("pen-line",b3);const x3=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],E3=ge("pen",x3);const T3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YT=ge("plus",T3);const w3=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],QT=ge("printer",w3);const S3=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],XT=ge("refresh-ccw",S3);const A3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],R3=ge("refresh-cw",A3);const N3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],C3=ge("rotate-ccw",N3);const I3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D3=ge("save",I3);const O3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pd=ge("search",O3);const j3=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],k3=ge("server",j3);const M3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V3=ge("settings",M3);const P3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],L3=ge("shield-alert",P3);const U3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ld=ge("shield-check",U3);const z3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],B3=ge("shield",z3);const q3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],H3=ge("sparkles",q3);const F3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Tc=ge("trash-2",F3);const G3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$3=ge("trending-up",G3);const K3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Y3=ge("triangle-alert",K3);const Q3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],JT=ge("upload",Q3);const X3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],J3=ge("user-minus",X3);const W3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Z3=ge("user-plus",W3);const ej=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],tj=ge("user",ej);const nj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ud=ge("users",nj);const rj=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ij=ge("wallet",rj);const sj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],aj=ge("wifi-off",sj);const oj=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],WT=ge("wrench",oj);const lj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cj=ge("x",lj),uj=()=>{const[r,e]=P.useState(null),[n,s]=P.useState(!1);P.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&s(!0);const c=h=>{h.preventDefault(),e(h)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",()=>{s(!0),e(null)}),()=>window.removeEventListener("beforeinstallprompt",c)},[]);const o=async()=>{if(!r)return;(await r.prompt()).outcome==="accepted"&&e(null)};return n||!r?null:m.jsxs("button",{onClick:o,className:"flex items-center gap-3 w-full px-4 py-3 text-sm font-bold text-emerald-700 bg-emerald-50 hover:bg-emerald-100 rounded-xl transition-all border border-emerald-200 mt-4 group",children:[m.jsx(ey,{size:18,className:"group-hover:bounce"}),m.jsx("span",{children:"Install for Offline Use"})]})},hj="modulepreload",dj=function(r){return"/property-app-updates/"+r},S1={},fj=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(x){return Promise.all(x.map(E=>Promise.resolve(E).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var h=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");o=y(n.map(x=>{if(x=dj(x),x in S1)return;S1[x]=!0;const E=x.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${w}`))return;const I=document.createElement("link");if(I.rel=E?"stylesheet":hj,E||(I.as="script"),I.crossOrigin="",I.href=x,g&&I.setAttribute("nonce",g),document.head.appendChild(I),E)return new Promise((U,q)=>{I.addEventListener("load",U),I.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${x}`)))})}))}function c(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return o.then(p=>{for(const g of p||[])g.status==="rejected"&&c(g.reason);return e().catch(c)})};function mj(r={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:o,onRegisteredSW:c,onRegisterError:h}=r;let p,g;const y=async(E=!0)=>{await g};async function x(){if("serviceWorker"in navigator){if(p=await fj(async()=>{const{Workbox:E}=await import("./workbox-window.prod.es5-CU9ER5ry.js");return{Workbox:E}},[]).then(({Workbox:E})=>new E("/property-app-updates/sw.js",{scope:"/property-app-updates/",type:"classic"})).catch(E=>{h?.(E)}),!p)return;p.addEventListener("activated",E=>{(E.isUpdate||E.isExternal)&&window.location.reload()}),p.addEventListener("installed",E=>{E.isUpdate||s?.()}),p.register({immediate:e}).then(E=>{c?c("/property-app-updates/sw.js",E):o?.(E)}).catch(E=>{h?.(E)})}}return g=x(),y}function pj(r={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:s,onRegistered:o,onRegisteredSW:c,onRegisterError:h}=r,[p,g]=P.useState(!1),[y,x]=P.useState(!1),[E]=P.useState(()=>mj({immediate:e,onOfflineReady(){x(!0),s?.()},onNeedRefresh(){g(!0),n?.()},onRegistered:o,onRegisteredSW:c,onRegisterError:h}));return{needRefresh:[p,g],offlineReady:[y,x],updateServiceWorker:E}}const gj=()=>{const{offlineReady:[r,e],needRefresh:[n,s],updateServiceWorker:o}=pj(),c=()=>{e(!1),s(!1)};return!n&&!r?null:m.jsx("div",{className:"mx-4 my-4 p-4 bg-blue-600 rounded-2xl shadow-lg shadow-blue-200 border border-blue-400 animate-in fade-in slide-in-from-bottom-4 duration-500",children:m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2 text-white",children:[m.jsx(H3,{size:18,className:"text-blue-200"}),m.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:n?"System Update Ready":"Ready for Offline"})]}),m.jsx("p",{className:"text-[11px] text-blue-100 font-medium leading-relaxed",children:n?"A new version of the Management System is available with latest changes.":"The system is now cached and fully available for offline use."}),m.jsx("div",{className:"flex gap-2",children:n?m.jsxs("button",{onClick:()=>o(!0),className:"flex-1 bg-white text-blue-600 py-2 rounded-lg text-[10px] font-bold uppercase flex items-center justify-center gap-2 hover:bg-blue-50 transition-colors",children:[m.jsx(XT,{size:12})," Update Now"]}):m.jsx("button",{onClick:c,className:"flex-1 bg-blue-500 text-white py-2 rounded-lg text-[10px] font-bold uppercase hover:bg-blue-400 transition-colors",children:"Dismiss"})})]})})},yj=()=>{const[r,e]=P.useState(window.navigator.onLine),[n,s]=P.useState(!0),[o,c]=P.useState(new Date);P.useEffect(()=>{const p=()=>e(!0),g=()=>e(!1);window.addEventListener("online",p),window.addEventListener("offline",g);const y=B6(xe,()=>{s(!0),c(new Date)});return()=>{window.removeEventListener("online",p),window.removeEventListener("offline",g),y()}},[]);const h=p=>p.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});return r?m.jsxs("div",{className:"flex flex-col items-end gap-1",children:[m.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full border transition-all duration-500 ${n?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-blue-50 text-blue-600 border-blue-100 shadow-sm"}`,children:[n?m.jsx(zO,{size:14,strokeWidth:3}):m.jsx(R3,{size:14,strokeWidth:3,className:"animate-spin"}),m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:n?"Cloud Synced":"Updating..."})]}),o&&n&&m.jsxs("div",{className:"flex items-center gap-1 text-gray-400 mr-2",children:[m.jsx(Vd,{size:10}),m.jsxs("span",{className:"text-[9px] font-medium italic",children:["Last seen by cloud at ",h(o)]})]})]}):m.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-50 text-red-600 rounded-full border border-red-100 animate-pulse",children:[m.jsx(aj,{size:14,strokeWidth:3}),m.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Offline"})]})},vj=({children:r})=>{const e=wi(),{currentUser:n,logout:s}=Md(),o=[{path:"/",label:"Dashboard",icon:h3},{path:"/properties",label:"Properties",icon:Ts},{path:"/tenants",label:"Tenants",icon:Ud},{path:"/repairs",label:"Repairs",icon:WT},{path:"/reports",label:"Reports",icon:XO},{path:"/vacated",label:"Vacated",icon:J3},{path:"/settings",label:"System Settings",icon:V3}];return m.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[m.jsxs("aside",{className:"w-72 bg-blue-900 text-white flex-shrink-0 sticky top-0 h-screen hidden md:flex flex-col shadow-2xl",children:[m.jsxs("div",{className:"p-6 mb-2",children:[m.jsxs("h1",{className:"font-bold uppercase leading-tight text-white",style:{fontSize:"18px",letterSpacing:"0.01em",lineHeight:"1.1"},children:["Buwembo & Co.",m.jsx("span",{className:"block text-blue-400",style:{fontSize:"15px",marginTop:"2px"},children:"Advocates"})]}),m.jsxs("div",{className:"mt-4 pt-2 border-t border-blue-800/50 flex flex-col gap-3",children:[m.jsx("p",{className:"text-[10px] text-blue-200/60 font-bold uppercase tracking-[0.2em]",children:"Property Management"}),m.jsx(yj,{})]})]}),m.jsx(gj,{}),m.jsxs("nav",{className:"flex-1 px-3 space-y-1 overflow-y-auto",children:[o.map(c=>{const h=c.icon,p=e.pathname===c.path;return m.jsxs(Ph,{to:c.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all text-sm font-semibold ${p?"bg-blue-600 text-white shadow-lg":"text-white hover:bg-white/10 hover:text-white"}`,children:[m.jsx(h,{size:19,className:p?"text-white":"text-blue-300"}),c.label]},c.path)}),n?.role==="admin"&&m.jsxs(Ph,{to:"/users",className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all text-sm font-semibold ${e.pathname==="/users"?"bg-purple-600 text-white shadow-lg":"text-purple-200 hover:bg-purple-500/10"}`,children:[m.jsx(Ld,{size:19,className:e.pathname==="/users"?"text-white":"text-purple-400"}),"User Management"]}),m.jsx("div",{className:"pt-4 mt-4 border-t border-blue-800/30",children:m.jsx(uj,{})})]}),m.jsxs("div",{className:"p-5 border-t border-blue-800/50 space-y-3",children:[m.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to logout?")&&s()},className:"flex items-center justify-center gap-2 w-full bg-white/5 hover:bg-red-500/20 text-red-400 py-3 rounded-xl text-xs font-bold transition border border-red-500/30 uppercase tracking-widest",children:[m.jsx(g3,{size:16}),"Sign Out"]}),m.jsx("div",{className:"text-center",children:m.jsxs("p",{className:"text-[10px] text-blue-300/40 font-medium italic",children:["Logged in as ",n?.username]})})]})]}),m.jsx("main",{className:"flex-1 overflow-y-auto bg-[#f8fafc]",children:m.jsx("div",{className:"p-10 max-w-[1600px] mx-auto text-left",children:r})})]})},_j=()=>{const[r,e]=P.useState(!1),n=async()=>{e(!0);try{const o=["properties","tenants","repairs","vacatedTenants"],c={timestamp:new Date().toISOString()};for(const y of o){const x=await Mh(ht(xe,y));c[y]=x.docs.map(E=>({id:E.id,...E.data()}))}const h=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),p=URL.createObjectURL(h),g=document.createElement("a");g.href=p,g.download=`Buwembo_Cloud_Backup_${new Date().toISOString().split("T")[0]}.json`,g.click()}catch{alert("Export failed. Please check your internet connection.")}finally{e(!1)}},s=o=>{const c=o.target.files?.[0];if(!c)return;const h=new FileReader;h.onload=async p=>{try{const g=JSON.parse(p.target?.result);if(window.confirm("WARNING: This will upload this backup to the CLOUD and affect all linked devices (including your Samsung phone). Continue?")){e(!0);const y=_T(xe);g.properties&&g.properties.forEach(x=>y.set(vt(xe,"properties",x.id),x)),g.tenants&&g.tenants.forEach(x=>y.set(vt(xe,"tenants",x.id),x)),g.repairs&&g.repairs.forEach(x=>y.set(vt(xe,"repairs",x.id),x)),g.vacatedTenants&&g.vacatedTenants.forEach(x=>y.set(vt(xe,"vacatedTenants",x.id),x)),await y.commit(),alert("Cloud Database restored and synchronized successfully!"),window.location.reload()}}catch{alert("Invalid backup file. Please ensure you are using a genuine Buwembo & Co. JSON file.")}finally{e(!1)}},h.readAsText(c)};return m.jsxs("div",{className:"w-full max-w-[1400px] mx-auto space-y-8 pb-12 px-4",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[m.jsx("div",{className:"p-3 bg-blue-900 text-white rounded-2xl shadow-lg",children:m.jsx(k3,{size:28})}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-blue-900 uppercase tracking-tight",children:"System Settings"}),m.jsx("p",{className:"text-gray-500 font-semibold text-[10px] uppercase tracking-[0.2em]",children:"Cloud Configuration & Backups"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100 flex flex-col justify-between",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h3",{className:"font-bold text-lg text-gray-800 uppercase tracking-tight",children:"System Version"}),m.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest border border-blue-100",children:"V3.1.0 Cloud"})]}),m.jsx("p",{className:"text-gray-500 text-sm font-medium leading-relaxed mb-8",children:"Your application is now linked to Firebase. Data is automatically synchronized between your devices."})]}),m.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50/50 rounded-2xl text-blue-700",children:[m.jsx(Ld,{size:20,className:"text-blue-600"}),m.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Cloud Sync Active"})]})]}),m.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-[2rem] shadow-sm border border-gray-100",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-gray-50 pb-4",children:[m.jsx("h3",{className:"font-bold text-lg text-gray-800 uppercase tracking-tight",children:"Cloud Data Management"}),m.jsx(HT,{className:"text-blue-900/10",size:32})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"font-bold text-sm text-gray-700 uppercase tracking-wide",children:"Download Cloud Backup"}),m.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Generate a JSON file containing all data currently stored in the cloud. Use this for offline archiving."}),m.jsxs("button",{onClick:n,disabled:r,className:"w-full bg-blue-900 text-white py-3.5 rounded-xl font-bold hover:bg-blue-800 flex items-center justify-center gap-2 transition-all shadow-md active:scale-[0.98] disabled:opacity-50",children:[m.jsx(ey,{size:18})," ",r?"SYNCING...":"DOWNLOAD BACKUP"]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h4",{className:"font-bold text-sm text-gray-700 uppercase tracking-wide",children:"Restore to Cloud"}),m.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"Upload a backup file to overwrite the cloud database. This will update your device simultaneously."}),m.jsxs("label",{className:`w-full border-2 border-dashed border-gray-200 text-gray-500 py-3 rounded-xl font-bold flex items-center justify-center gap-2 cursor-pointer hover:border-blue-400 hover:text-blue-600 transition-all text-xs ${r?"opacity-50 pointer-events-none":""}`,children:[m.jsx(JT,{size:18})," ",r?"UPLOADING...":"UPLOAD BACKUP FILE",m.jsx("input",{type:"file",className:"hidden",onChange:s,accept:".json"})]})]})]})]})]}),m.jsxs("div",{className:"bg-blue-900 p-6 rounded-[1.5rem] flex flex-col md:flex-row gap-6 items-center shadow-xl",children:[m.jsx("div",{className:"p-4 bg-blue-800 text-white rounded-xl shadow-inner",children:m.jsx(LO,{size:24})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-[11px] text-blue-200 font-bold uppercase mb-1 tracking-wider",children:"Multi-Device Synchronization"}),m.jsxs("p",{className:"text-xs text-white leading-relaxed font-medium",children:["Buwembo & Co. Advocates system is now ",m.jsx("strong",{children:"Cloud-Enabled"}),". Changes made on this device will appear on all the other devices linked to this account instantly. Always ensure you have a stable internet connection for real-time updates."]})]})]})]})},A1=()=>m.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-blue-900 z-[9999]",children:[m.jsxs("div",{className:"relative flex flex-col items-center animate-pulse",children:[m.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl flex items-center justify-center text-blue-900 shadow-2xl mb-6",children:m.jsx(Ts,{size:40})}),m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight uppercase",children:"Buwembo & Co."}),m.jsx("p",{className:"text-blue-300 text-sm font-medium tracking-[0.3em] uppercase mt-1",children:"Advocates"})]})]}),m.jsx("div",{className:"mt-12 w-48 h-1 bg-blue-800 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-blue-400 animate-loading-bar origin-left"})}),m.jsx("p",{className:"mt-4 text-blue-200/50 text-[10px] font-bold uppercase tracking-widest",children:"Securing Session..."}),m.jsx("style",{children:`
        @keyframes loading-bar {
          0% { transform: scaleX(0); }
          50% { transform: scaleX(0.7); }
          100% { transform: scaleX(1); }
        }
        .animate-loading-bar {
          animation: loading-bar 1.5s infinite ease-in-out;
        }
      `})]}),ZT=P.createContext(void 0),bj=({children:r})=>{const[e,n]=P.useState(3700),[s,o]=P.useState("UGX"),[c,h]=P.useState(!0);P.useEffect(()=>{(async()=>{try{const E=await(await fetch("https://open.er-api.com/v6/latest/USD")).json();E.rates&&E.rates.UGX&&n(E.rates.UGX)}catch(x){console.error("Failed to fetch exchange rate, using fallback.",x)}finally{h(!1)}})()},[]);const p=()=>{o(y=>y==="UGX"?"USD":"UGX")},g=y=>s==="UGX"?`UGX ${Math.floor(y).toLocaleString()}`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(y);return m.jsx(ZT.Provider,{value:{exchangeRate:e,currency:s,loading:c,toggleCurrency:p,formatUgx:g},children:r})},Ho=()=>{const r=P.useContext(ZT);if(!r)throw new Error("useCurrency must be used within a CurrencyProvider");return r},xj="3.1.0",Ej={version:xj},Tj=()=>{const r=od(),[e]=P.useState(localStorage.getItem("last_backup_date")),n=()=>{if(!e)return!0;const s=new Date;return s.setDate(s.getDate()-7),new Date(e)<s};return m.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm text-left",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),m.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Version ",Ej.version," Stable"]})]}),m.jsx(Ld,{size:16,className:"text-green-500"})]}),m.jsxs("div",{className:`flex items-center gap-3 p-4 rounded-xl mb-4 border ${n()?"bg-red-50 border-red-100":"bg-gray-50 border-gray-100"}`,children:[m.jsx(HT,{size:18,className:n()?"text-red-500":"text-gray-400"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Cloud Sync Status"}),m.jsx("p",{className:`text-sm font-semibold ${n()?"text-red-700":"text-gray-900"}`,children:e?"System Connected":"Initial Backup Required"})]})]}),m.jsxs("button",{onClick:()=>r("/system"),className:"w-full flex items-center justify-center gap-2 py-3 bg-blue-50 text-blue-700 rounded-lg text-sm font-semibold hover:bg-blue-100 transition-all",children:[m.jsx(XT,{size:16}),"System Settings"]})]})},wj=()=>{const{formatUgx:r,currency:e,exchangeRate:n}=Ho(),[s,o]=P.useState([]),[c,h]=P.useState([]),[p,g]=P.useState([]),[y,x]=P.useState({totalProperties:0,activeTenants:0,totalRepairs:0,totalRevenue:0,totalBalance:0});P.useEffect(()=>{const U=un(ht(xe,"properties"),q=>{const H=q.docs.map(k=>({id:k.id,...k.data()}));o(H);const J=un(ht(xe,"tenants"),k=>{const Z=k.docs.map(K=>({id:K.id,...K.data()})),ce=un(ht(xe,"repairs"),K=>{const oe=K.docs.map(C=>({id:C.id,...C.data()})),S=new Date;S.setHours(0,0,0,0);const R=Z.map(C=>{const je=new Date(C.paidUntil),ot=S>=je,D=Number(C.balance||0),se=ot?D+(Number(C.rentAmount)||0):D;let he=0;if(ot){const _e=Math.abs(S.getTime()-je.getTime());he=Math.ceil(_e/(1e3*60*60*24))}return{...C,effectiveArrears:se,daysLate:he}}),N=R.filter(C=>C.effectiveArrears>0),L=Z.reduce((C,je)=>C+Number(je.lastAmountPaid||0),0),j=R.reduce((C,je)=>C+je.effectiveArrears,0),B=oe.reduce((C,je)=>C+Number(je.cost||0),0);h(N.sort((C,je)=>je.effectiveArrears-C.effectiveArrears)),g(oe.slice(-4).reverse()),x({totalProperties:H.length,activeTenants:Z.length,totalRepairs:B,totalRevenue:L,totalBalance:j})});return()=>ce()});return()=>J()});return()=>U()},[]);const E=U=>{const q=n||3800,H=e==="UGX"?U/q:U*q;return`${e==="UGX"?"USD $":"UGX "}${H.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`},w=async()=>{const U={properties:s,tenants:(await Mh(ht(xe,"tenants"))).docs.map(J=>({id:J.id,...J.data()})),repairs:(await Mh(ht(xe,"repairs"))).docs.map(J=>({id:J.id,...J.data()})),vacatedTenants:(await Mh(ht(xe,"vacatedTenants"))).docs.map(J=>({id:J.id,...J.data()}))},q=new Blob([JSON.stringify(U,null,2)],{type:"application/json"}),H=document.createElement("a");H.href=URL.createObjectURL(q),H.download=`Buwembo_Cloud_Backup_${new Date().toISOString().split("T")[0]}.json`,H.click(),localStorage.setItem("last_backup_date",new Date().toISOString())},I=U=>{const q=U.target.files?.[0];if(!q)return;const H=new FileReader;H.onload=async J=>{try{const k=JSON.parse(J.target?.result);if(!window.confirm("Upload this backup to the cloud?"))return;const Z=_T(xe);k.properties&&k.properties.forEach(ce=>Z.set(vt(xe,"properties",ce.id),ce)),k.tenants&&k.tenants.forEach(ce=>Z.set(vt(xe,"tenants",ce.id),ce)),k.repairs&&k.repairs.forEach(ce=>Z.set(vt(xe,"repairs",ce.id),ce)),k.vacatedTenants&&k.vacatedTenants.forEach(ce=>Z.set(vt(xe,"vacatedTenants",ce.id),ce)),await Z.commit(),alert("Cloud synchronization successful!")}catch{alert("Failed to sync.")}},H.readAsText(q)};return m.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-8 pb-12 text-left",children:[m.jsxs("div",{className:"px-1",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Dashboard"}),m.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Real-time Cloud Management"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[m.jsx(Eh,{icon:m.jsx(Ts,{size:24}),label:"Total Units",value:y.totalProperties,color:"blue"}),m.jsx(Eh,{icon:m.jsx(Ud,{size:24}),label:"Active Tenants",value:y.activeTenants,color:"green"}),m.jsx(Eh,{icon:m.jsx($3,{size:24}),label:"Gross Revenue",value:r(y.totalRevenue),subValue:E(y.totalRevenue),color:"purple"}),m.jsx(Eh,{icon:m.jsx(Zg,{size:24}),label:"Total Arrears",value:r(y.totalBalance),subValue:E(y.totalBalance),color:"red"})]}),m.jsxs("div",{className:"flex flex-col xl:flex-row gap-8",children:[m.jsxs("div",{className:"flex-1 min-w-0 space-y-8",children:[m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50",children:m.jsxs("h3",{className:"font-bold text-gray-800 text-sm flex items-center gap-2",children:[m.jsx(Vd,{className:"text-red-600",size:18})," Overdue Payments"]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"bg-gray-50 text-gray-500 font-medium",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-left",children:"Tenant"}),m.jsx("th",{className:"px-6 py-4 text-left",children:"Unit"}),m.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Total Owed"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100",children:c.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"p-12 text-center text-gray-400",children:"All accounts are settled"})}):c.map(U=>m.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[m.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900",children:U.name}),m.jsx("td",{className:"px-6 py-4 text-gray-600",children:s.find(q=>q.id===U.propertyId)?.name||"N/A"}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${U.daysLate>0?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"}`,children:U.daysLate>0?`${U.daysLate} days late`:"Balance Owed"})}),m.jsxs("td",{className:"px-6 py-4 text-right",children:[m.jsx("div",{className:"font-bold text-red-600",children:r(U.effectiveArrears)}),m.jsx("div",{className:"text-[10px] text-red-400 font-bold uppercase",children:E(U.effectiveArrears)})]})]},U.id))})]})})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-gray-100",children:m.jsxs("h3",{className:"font-bold text-gray-800 text-sm flex items-center gap-2",children:[m.jsx($T,{className:"text-orange-500",size:18})," Recent Maintenance"]})}),m.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-5",children:p.length===0?m.jsx("p",{className:"col-span-2 text-center py-8 text-gray-400 text-sm",children:"No recent repairs"}):p.map((U,q)=>m.jsxs("div",{className:"p-5 border border-gray-100 rounded-xl bg-gray-50/30",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:U.issue}),m.jsx("span",{className:"font-bold text-blue-600 text-sm",children:r(U.cost)})]}),m.jsx("div",{className:"text-xs text-gray-500",children:s.find(H=>H.id===U.propertyId)?.name||"General Property"})]},q))})]})]}),m.jsxs("div",{className:"w-full xl:w-80 space-y-6",children:[m.jsxs("div",{className:"bg-blue-600 p-6 rounded-2xl text-white shadow-lg relative overflow-hidden",children:[m.jsx(Ld,{className:"absolute top-[-10px] right-[-10px] text-white opacity-10",size:100}),m.jsx("h3",{className:"text-lg font-bold mb-2",children:"Cloud Sync"}),m.jsx("p",{className:"text-blue-100 text-sm mb-6",children:"Backup your cloud data or restore from a JSON file."}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("button",{onClick:w,className:"bg-white text-blue-700 py-3 rounded-lg font-semibold text-xs flex flex-col items-center justify-center gap-1 hover:bg-blue-50 transition-all",children:[m.jsx(ey,{size:16})," Backup"]}),m.jsxs("label",{className:"border border-blue-400 bg-blue-700 text-white py-3 rounded-lg font-semibold text-xs flex flex-col items-center justify-center gap-1 cursor-pointer hover:bg-blue-800 transition-all",children:[m.jsx(JT,{size:16})," Restore",m.jsx("input",{type:"file",accept:".json",onChange:I,className:"hidden"})]})]})]}),m.jsxs("div",{className:"bg-gray-900 p-6 rounded-2xl text-white shadow-lg",children:[m.jsx("p",{className:"text-gray-400 text-xs font-medium uppercase mb-2",children:"Net Cash Flow"}),m.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:r(y.totalRevenue-y.totalRepairs)}),m.jsx("p",{className:"text-xs font-bold text-emerald-500/80 mt-1",children:E(y.totalRevenue-y.totalRepairs)})]}),m.jsx(Tj,{})]})]})]})},Eh=({icon:r,label:e,value:n,subValue:s,color:o})=>{const c={blue:"text-blue-600 bg-blue-50 border-blue-100",green:"text-emerald-600 bg-emerald-50 border-emerald-100",purple:"text-purple-600 bg-purple-50 border-purple-100",red:"text-red-600 bg-red-50 border-red-100"};return m.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm transition-all hover:shadow-md h-full",children:[m.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center mb-4 ${c[o]}`,children:r}),m.jsx("p",{className:"text-gray-500 text-xs font-medium uppercase mb-1",children:e}),m.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n}),s&&m.jsx("p",{className:`text-[10px] font-bold mt-1 ${c[o].split(" ")[0]}`,children:s})]})},Sj=()=>{const{formatUgx:r,currency:e,exchangeRate:n}=Ho(),[s,o]=P.useState([]),[c,h]=P.useState([]),[p,g]=P.useState(null),[y,x]=P.useState(""),[E,w]=P.useState({name:"",location:"",price:0,description:""}),[I,U]=P.useState("0");P.useEffect(()=>{const S=un(ht(xe,"properties"),N=>{const L=N.docs.map(j=>({id:j.id,...j.data()}));o(L)}),R=un(ht(xe,"tenants"),N=>{const L=N.docs.map(j=>({id:j.id,...j.data()}));h(L)});return()=>{S(),R()}},[]);const q=S=>{const R=n||3800;return e==="UGX"?`USD $${(S/R).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:`UGX ${(S*R).toLocaleString()}`},H=S=>{const R=Number(S.target.value),N=n||3800;w({...E,price:R}),U((R/N).toFixed(2))},J=S=>{const R=Number(S.target.value),N=n||3800;U(S.target.value),w({...E,price:Math.round(R*N)})},k=async S=>{S.preventDefault();try{if(p){const R=vt(xe,"properties",p);await Io(R,{...E,updatedAt:pi()}),g(null)}else await Ec(ht(xe,"properties"),{...E,createdAt:pi()});w({name:"",location:"",price:0,description:""}),U("0")}catch(R){console.error("Firebase Error:",R),alert("Failed to save property to the cloud.")}},Z=S=>{const R=n||3800;g(S.id),w({name:S.name,location:S.location,price:S.price,description:S.description}),U((S.price/R).toFixed(2)),window.scrollTo({top:0,behavior:"smooth"})},ce=async S=>{const R=c.filter(N=>N.propertyId===S);if(R.length>0){alert(`Access Denied: Cannot delete. This property has ${R.length} active tenant(s).`);return}if(window.confirm("Are you sure you want to permanently delete this property? This will sync for all users."))try{await Lc(vt(xe,"properties",S))}catch{alert("Error deleting property from cloud.")}},K=S=>c.filter(R=>R.propertyId===S).length,oe=s.filter(S=>S.name.toLowerCase().includes(y.toLowerCase())||S.location.toLowerCase().includes(y.toLowerCase())||S.description.toLowerCase().includes(y.toLowerCase()));return m.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-8 pb-12",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight flex items-center gap-3",children:"Properties"}),m.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Manage your real estate assets"})]}),m.jsxs("div",{className:"relative w-full md:w-80 group",children:[m.jsx(Pd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-600 transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Search properties...",value:y,onChange:S=>x(S.target.value),className:"w-full py-2.5 pl-10 pr-4 rounded-lg border border-gray-200 bg-white shadow-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none text-sm font-medium transition-all"})]})]}),m.jsxs("form",{onSubmit:k,className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-100",children:[m.jsx("div",{className:`p-2 rounded-lg ${p?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"}`,children:p?m.jsx(sd,{size:20}):m.jsx(MO,{size:20})}),m.jsx("h2",{className:"text-lg font-bold text-gray-900",children:p?"Edit Property Details":"Register New Property"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"lg:col-span-1",children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Property Name"}),m.jsx("input",{value:E.name,onChange:S=>w({...E,name:S.target.value}),required:!0,placeholder:"e.g. Buwembo Plaza",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none text-sm transition-all"})]}),m.jsxs("div",{className:"lg:col-span-1",children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Location"}),m.jsx("input",{value:E.location,onChange:S=>w({...E,location:S.target.value}),required:!0,placeholder:"e.g. Kampala Central",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none text-sm transition-all"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"block text-xs font-medium text-blue-700 mb-1.5",children:"Monthly Rent (UGX)"}),m.jsx("input",{type:"number",value:E.price||"",onChange:H,className:"w-full px-4 py-2.5 border border-blue-200 bg-blue-50/50 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none text-sm font-semibold text-blue-900 transition-all",placeholder:"0"})]}),m.jsxs("div",{className:"relative",children:[m.jsx("label",{className:"block text-xs font-medium text-green-700 mb-1.5",children:"Equivalent (USD)"}),m.jsx("input",{type:"number",step:"0.01",value:I==="0"?"":I,onChange:J,className:"w-full px-4 py-2.5 border border-green-200 bg-green-50/50 rounded-lg focus:border-green-500 focus:ring-2 focus:ring-green-100 outline-none text-sm font-semibold text-green-900 transition-all",placeholder:"0.00"})]})]}),m.jsxs("div",{className:"mt-5",children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Description / Notes"}),m.jsx("textarea",{value:E.description,onChange:S=>w({...E,description:S.target.value}),placeholder:"Add any additional details about amenities or condition...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none text-sm transition-all resize-y min-h-[80px]",rows:2})]}),m.jsxs("div",{className:"flex gap-3 mt-6",children:[m.jsx("button",{type:"submit",className:`px-6 py-2.5 rounded-lg font-semibold shadow-sm text-sm transition-all flex items-center gap-2 ${p?"bg-orange-600 hover:bg-orange-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:p?"Save Changes":"Create Property"}),p&&m.jsx("button",{type:"button",onClick:()=>{g(null),w({name:"",location:"",price:0,description:""}),U("0")},className:"px-6 py-2.5 rounded-lg border border-gray-300 text-gray-700 font-semibold text-sm hover:bg-gray-50 transition-all",children:"Cancel"})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50",children:m.jsx("h3",{className:"font-bold text-gray-800 text-sm",children:"Property Inventory"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-left",children:[m.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Property Details"}),m.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Location"}),m.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Tenants"}),m.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Rent"}),m.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100",children:oe.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"p-12 text-center text-gray-400 text-sm",children:"No properties found matching your search."})}):oe.map(S=>m.jsxs("tr",{className:"hover:bg-gray-50 transition-colors group",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:m.jsx(s3,{size:18})}),m.jsxs("div",{children:[m.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:S.name}),m.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs mt-0.5",children:S.description||"No description"})]})]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-sm",children:[m.jsx(KT,{size:14,className:"text-gray-400"}),S.location]})}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:[m.jsx(Ud,{size:12})," ",K(S.id)," Occupied"]})}),m.jsxs("td",{className:"px-6 py-4 text-right",children:[m.jsx("div",{className:"font-bold text-gray-900 text-sm",children:r(S.price)}),m.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:q(S.price)})]}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>Z(S),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit",children:m.jsx(sd,{size:16})}),m.jsx("button",{onClick:()=>ce(S.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:m.jsx(Tc,{size:16})})]})})]},S.id))})]})})]})]})},Aj=()=>{const{formatUgx:r,toggleCurrency:e,currency:n,exchangeRate:s}=Ho(),[o,c]=P.useState([]),[h,p]=P.useState([]),[g,y]=P.useState(!1),[x,E]=P.useState(""),[w,I]=P.useState(null),[U,q]=P.useState({show:!1,tenant:null,reason:""}),[H,J]=P.useState({show:!1,tenant:null,amount:0}),[k,Z]=P.useState({id:"",name:"",contact:"",propertyId:"",rentAmount:0,rentFrequency:"Monthly",paidUntil:new Date().toISOString().split("T")[0],balance:0,lastAmountPaid:0,paymentHistory:[]});P.useEffect(()=>{const D=pT(ht(xe,"tenants"),gT("name","asc")),se=un(D,Re=>{const M=Re.docs.map(ee=>({id:ee.id,...ee.data()}));c(M)}),he=ht(xe,"properties"),_e=un(he,Re=>{const M=Re.docs.map(ee=>({id:ee.id,...ee.data()}));p(M)});return()=>{se(),_e()}},[]);const ce=D=>{const se=s||3800;return n==="UGX"?`USD $${(D/se).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:`UGX ${(D*se).toLocaleString()}`},K=(D,se,he)=>{const _e=Number(D),Re=s||3800;Z(se==="USD"?{...k,[he]:Math.round(_e*Re)}:{...k,[he]:_e})},oe=D=>{const se=new Date;se.setHours(0,0,0,0);const he=new Date(D.paidUntil),_e=se>=he,Re=Number(D.balance||0);return _e?Re+(Number(D.rentAmount)||0):Re},S=D=>{if(oe(D)>0)return{label:"ARREARS",color:"bg-red-100 text-red-700 border-red-200",icon:Zg};const he=new Date,Re=new Date(D.paidUntil).getTime()-he.getTime();return Math.ceil(Re/(1e3*60*60*24))<=7?{label:"DUE SOON",color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:Vd}:{label:"ACTIVE",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:OO}},R=async()=>{const D={name:k.name||"Unnamed",contact:k.contact||"",propertyId:k.propertyId||"",rentAmount:Number(k.rentAmount)||0,rentFrequency:k.rentFrequency||"Monthly",paidUntil:k.paidUntil||new Date().toISOString().split("T")[0],balance:Math.max(0,Number(k.rentAmount||0)-Number(k.lastAmountPaid||0)),lastAmountPaid:Number(k.lastAmountPaid)||0,paymentHistory:k.paymentHistory||[],updatedAt:pi()};try{k.id?await Io(vt(xe,"tenants",k.id),D):await Ec(ht(xe,"tenants"),{...D,createdAt:pi()}),y(!1),B()}catch(se){alert("Error saving: "+se)}},N=async()=>{const{tenant:D,reason:se}=U;if(!D)return;const he={name:D.name||"",propertyId:D.propertyId||"",rent:D.rentAmount||0,amountPaid:D.lastAmountPaid||0,balance:D.balance||0,expiryDate:D.paidUntil||"",vacatedDate:new Date().toISOString().split("T")[0],reason:se||"Standard Vacation",archivedAt:pi()};try{await Ec(ht(xe,"vacatedTenants"),he),await Lc(vt(xe,"tenants",D.id)),q({show:!1,tenant:null,reason:""})}catch(_e){alert("Error archiving: "+_e)}},L=D=>{q({show:!0,tenant:D,reason:""})},j=D=>{Z({...D,contact:D.contact||"",rentFrequency:D.rentFrequency||"Monthly"}),y(!0)},B=()=>{Z({id:"",name:"",contact:"",propertyId:"",rentAmount:0,rentFrequency:"Monthly",paidUntil:new Date().toISOString().split("T")[0],balance:0,lastAmountPaid:0,paymentHistory:[]})},C=D=>{const se=oe(D);J({show:!0,tenant:D,amount:se})},je=async()=>{const{tenant:D,amount:se}=H;if(!D||se<=0)return;const he=(D.lastAmountPaid||0)+se,_e=Math.max(0,(D.rentAmount||0)-he),Re={date:new Date().toLocaleString(),amount:se,currency:"UGX",altAmount:ce(se)};let M=D.paidUntil,ee=he;if(_e<=0){const ae=new Date(D.paidUntil);D.rentFrequency==="3 Months"?ae.setMonth(ae.getMonth()+3):D.rentFrequency==="6 Months"?ae.setMonth(ae.getMonth()+6):D.rentFrequency==="Yearly"?ae.setFullYear(ae.getFullYear()+1):ae.setMonth(ae.getMonth()+1),M=ae.toISOString().split("T")[0],ee=0}try{await Io(vt(xe,"tenants",D.id),{lastAmountPaid:ee,paidUntil:M,balance:_e,paymentHistory:[Re,...D.paymentHistory||[]],updatedAt:pi()}),J({show:!1,tenant:null,amount:0})}catch(ae){alert("Payment failed: "+ae)}},ot=o.filter(D=>(D.name||"").toLowerCase().includes(x.toLowerCase())||h.find(se=>se.id===D.propertyId)?.name.toLowerCase().includes(x.toLowerCase()));return m.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 pb-12",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end md:items-center gap-4 bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Tenant Directory"}),m.jsxs("p",{className:"text-gray-500 text-sm mt-1 font-medium",children:["1 USD = ",(s||0).toLocaleString()," UGX"]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-4 py-3 bg-white border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50 transition-all shadow-sm active:scale-95",children:[m.jsx(EO,{size:18,className:"text-blue-600"}),m.jsx("span",{children:n==="UGX"?"UGX":"USD"})]}),m.jsxs("button",{onClick:()=>{B(),y(!0)},className:"bg-blue-900 text-white px-5 py-3 rounded-xl flex items-center gap-2 hover:bg-blue-800 transition-all font-semibold shadow-md active:scale-95 text-sm",children:[m.jsx(YT,{size:18})," Add Tenant"]})]})]}),m.jsxs("div",{className:"relative max-w-md",children:[m.jsx(Pd,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),m.jsx("input",{type:"text",placeholder:"Search tenants...",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-blue-500 outline-none transition-all shadow-sm bg-white",value:x,onChange:D=>E(D.target.value)})]}),m.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50/50 border-b border-gray-100",children:[m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Tenant"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Rent Amount"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Paid So Far"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider text-red-600",children:"Arrears"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),m.jsx("th",{className:"p-4 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Paid Until"}),m.jsx("th",{className:"p-4 text-right text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100",children:ot.map(D=>{const se=h.find(Re=>Re.id===D.propertyId),he=S(D),_e=oe(D);return m.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors group",children:[m.jsxs("td",{className:"p-4",children:[m.jsx("div",{className:"font-semibold text-gray-900",children:D.name}),m.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[m.jsx("span",{className:"text-xs text-gray-400",children:se?.name||"No Unit"}),m.jsx("span",{className:"px-1.5 py-0.5 bg-blue-50 text-blue-600 text-[10px] font-bold rounded uppercase border border-blue-100",children:D.rentFrequency||"Monthly"})]})]}),m.jsxs("td",{className:"p-4",children:[m.jsx("div",{className:"font-medium text-gray-900",children:r(D.rentAmount||0)}),m.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:ce(D.rentAmount||0)})]}),m.jsxs("td",{className:"p-4",children:[m.jsx("div",{className:"text-emerald-600 font-bold",children:r(D.lastAmountPaid||0)}),m.jsx("div",{className:"text-[10px] text-emerald-400 font-bold uppercase",children:ce(D.lastAmountPaid||0)})]}),m.jsxs("td",{className:"p-4",children:[m.jsx("div",{className:`font-black ${_e>0?"text-red-600":"text-gray-300"}`,children:_e>0?r(_e):"CLEARED"}),_e>0&&m.jsx("div",{className:"text-[10px] text-red-400 font-bold uppercase",children:ce(_e)})]}),m.jsx("td",{className:"p-4",children:m.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-bold uppercase border ${he.color}`,children:he.label})}),m.jsx("td",{className:"p-4 text-sm font-medium text-gray-600",children:new Date(D.paidUntil).toLocaleDateString(void 0,{dateStyle:"medium"})}),m.jsx("td",{className:"p-4 text-right",children:m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[m.jsx("button",{onClick:()=>I(D),className:"p-2 text-gray-400 hover:text-blue-600 bg-gray-50 rounded-lg",children:m.jsx(r3,{size:16})}),m.jsx("button",{onClick:()=>C(D),className:"p-2 text-green-600 bg-green-50 hover:bg-green-100 rounded-lg",children:m.jsx(HO,{size:16})}),m.jsx("button",{onClick:()=>j(D),className:"p-2 text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg",children:m.jsx(E3,{size:16})}),m.jsx("button",{onClick:()=>L(D),className:"p-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg",children:m.jsx(Tc,{size:16})})]})})]},D.id)})})]})})}),U.show&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[70]",children:m.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl overflow-hidden border border-gray-100",children:[m.jsxs("div",{className:"p-6 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Tc,{size:32})}),m.jsx("h2",{className:"font-bold text-gray-800 text-xl",children:"Vacate Tenant?"}),m.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["This will move ",m.jsx("b",{children:U.tenant?.name})," to the archive. They will no longer appear in active units."]})]}),m.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase ml-1",children:"Reason for Vacating"}),m.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none text-sm font-medium",value:U.reason,onChange:D=>q({...U,reason:D.target.value}),children:[m.jsx("option",{value:"",children:"Select a reason..."}),m.jsx("option",{value:"End of Lease",children:"End of Lease"}),m.jsx("option",{value:"Relocation",children:"Relocation"}),m.jsx("option",{value:"Eviction",children:"Eviction"}),m.jsx("option",{value:"Personal Reasons",children:"Personal Reasons"})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>q({show:!1,tenant:null,reason:""}),className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold hover:bg-gray-200 transition-all",children:"Cancel"}),m.jsx("button",{onClick:N,className:"flex-1 py-3 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 shadow-lg active:scale-95 transition-all",children:"Confirm"})]})]})]})}),w&&m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[60]",children:m.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl p-6",children:[m.jsxs("div",{className:"flex justify-between items-center border-b pb-4 mb-4",children:[m.jsxs("h2",{className:"font-bold text-xl text-gray-800",children:["History: ",w.name]}),m.jsx("button",{onClick:()=>I(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),m.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:w.paymentHistory?.length>0?w.paymentHistory.map((D,se)=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-xl border border-gray-100",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase",children:D.date}),m.jsx("p",{className:"font-bold text-gray-700",children:"Payment Received"})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-black text-emerald-600",children:["+",Number(D.amount||0).toLocaleString()," ",D.currency==="UGX"?"UGX":"USD"]}),m.jsx("p",{className:"text-[10px] text-emerald-400 font-bold uppercase",children:D.altAmount||ce(D.amount||0)})]})]},se)):m.jsx("p",{className:"text-center text-gray-400 py-10",children:"No history available"})})]})}),H.show&&m.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 z-[60]",children:m.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm shadow-2xl border border-gray-100 overflow-hidden",children:[m.jsxs("div",{className:"p-6 text-center border-b border-gray-50",children:[m.jsx("h2",{className:"font-bold text-gray-800 text-lg",children:"Record Payment"}),m.jsx("p",{className:"text-sm text-gray-500",children:H.tenant?.name})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"bg-blue-50 p-3 rounded-xl text-center",children:[m.jsx("p",{className:"text-[10px] font-bold text-blue-400 uppercase",children:"Total Arrears Due"}),m.jsx("p",{className:"font-black text-blue-900",children:r(H.amount)})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-3 text-gray-400 text-xs font-bold uppercase",children:"USD"}),m.jsx("input",{type:"number",className:"w-full pl-12 p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none font-bold",placeholder:"0.00",value:(H.amount/(s||3800)).toFixed(2),onChange:D=>J({...H,amount:Number(D.target.value)*(s||3800)})})]}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-3 text-gray-400 text-xs font-bold uppercase",children:"UGX"}),m.jsx("input",{type:"number",className:"w-full pl-12 p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none font-bold",placeholder:"0",value:H.amount,onChange:D=>J({...H,amount:Number(D.target.value)})})]})]}),m.jsxs("div",{className:"flex gap-3 pt-2",children:[m.jsx("button",{onClick:()=>J({show:!1,tenant:null,amount:0}),className:"flex-1 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold hover:bg-gray-200 transition-all",children:"Cancel"}),m.jsx("button",{onClick:je,className:"flex-1 py-3 bg-emerald-600 text-white rounded-xl font-bold hover:bg-emerald-700 shadow-lg active:scale-95 transition-all",children:"Confirm"})]})]})]})}),g&&m.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl overflow-hidden border border-gray-100",children:[m.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[m.jsx("h2",{className:"font-bold text-gray-800 text-lg",children:k.id?"Edit Tenant":"New Tenant"}),m.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600 w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-200",children:""})]}),m.jsxs("div",{className:"p-6 space-y-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase",children:"Tenant Name"}),m.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none",value:k.name,onChange:D=>Z({...k,name:D.target.value})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsx("input",{type:"text",placeholder:"Contact",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none",value:k.contact,onChange:D=>Z({...k,contact:D.target.value})}),m.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none text-sm",value:k.propertyId,onChange:D=>Z({...k,propertyId:D.target.value}),children:[m.jsx("option",{value:"",children:"Select Unit"}),h.map(D=>m.jsx("option",{value:D.id,children:D.name},D.id))]}),m.jsxs("select",{className:"w-full p-3 bg-blue-50 border border-blue-100 text-blue-900 rounded-xl outline-none font-bold text-sm",value:k.rentFrequency,onChange:D=>Z({...k,rentFrequency:D.target.value}),children:[m.jsx("option",{value:"Monthly",children:"Monthly"}),m.jsx("option",{value:"3 Months",children:"Quarterly (3m)"}),m.jsx("option",{value:"6 Months",children:"Bi-Annual (6m)"}),m.jsx("option",{value:"Yearly",children:"Yearly"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Total Rent Amount"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-3.5 text-gray-400 text-xs font-bold",children:"USD"}),m.jsx("input",{type:"number",className:"w-full pl-12 p-3 bg-blue-50 border border-blue-100 rounded-xl outline-none font-bold text-blue-900",value:(k.rentAmount/(s||3800)).toFixed(2),onChange:D=>K(D.target.value,"USD","rentAmount")})]}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-3.5 text-gray-400 text-xs font-bold",children:"UGX"}),m.jsx("input",{type:"number",className:"w-full pl-12 p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none font-bold",value:k.rentAmount,onChange:D=>K(D.target.value,"UGX","rentAmount")})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Paid So Far"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-3.5 text-emerald-400 text-xs font-bold",children:"USD"}),m.jsx("input",{type:"number",className:"w-full pl-12 p-3 bg-emerald-50 border border-emerald-100 rounded-xl outline-none font-bold text-emerald-800",value:(k.lastAmountPaid/(s||3800)).toFixed(2),onChange:D=>K(D.target.value,"USD","lastAmountPaid")})]}),m.jsxs("div",{className:"relative",children:[m.jsx("span",{className:"absolute left-3 top-3.5 text-emerald-400 text-xs font-bold",children:"UGX"}),m.jsx("input",{type:"number",className:"w-full pl-12 p-3 bg-emerald-50 border border-emerald-200 rounded-xl outline-none font-bold text-emerald-800",value:k.lastAmountPaid,onChange:D=>K(D.target.value,"UGX","lastAmountPaid")})]})]})]}),m.jsxs("div",{className:"p-3 bg-red-50 rounded-xl border border-red-100 text-center",children:[m.jsx("label",{className:"text-xs font-bold text-red-400 uppercase",children:"Current Balance Due"}),m.jsx("div",{className:"text-lg font-black text-red-700",children:r(k.rentAmount-k.lastAmountPaid)}),m.jsx("p",{className:"text-[10px] text-red-500 font-bold uppercase",children:ce(k.rentAmount-k.lastAmountPaid)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Paid Until"}),m.jsx("input",{type:"date",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl outline-none",value:k.paidUntil,onChange:D=>Z({...k,paidUntil:D.target.value})})]}),m.jsx("button",{onClick:R,className:"w-full py-3 bg-blue-900 text-white rounded-xl font-bold hover:bg-blue-800 transition-all shadow-md active:scale-95",children:"Save Tenant Record"})]})]})})]})},Rj=()=>{const{formatUgx:r,currency:e,exchangeRate:n}=Ho(),[s,o]=P.useState("all"),[c,h]=P.useState({tenants:[],properties:[],repairs:[]});P.useEffect(()=>{const k=un(ht(xe,"properties"),Z=>{const ce=Z.docs.map(oe=>({id:oe.id,...oe.data()})),K=un(ht(xe,"tenants"),oe=>{const S=oe.docs.map(N=>({id:N.id,...N.data()})),R=un(ht(xe,"repairs"),N=>{const L=N.docs.map(j=>({id:j.id,...j.data()}));h({tenants:S,properties:ce,repairs:L})});return()=>R()});return()=>K()});return()=>k()},[]);const p=k=>{const Z=n||3800,ce=e==="UGX"?k/Z:k*Z;return`${e==="UGX"?"USD $":"UGX "}${ce.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`},g=new Date;g.setHours(0,0,0,0);const y=c.tenants.map(k=>{const Z=new Date(k.paidUntil),ce=g>=Z,K=Number(k.balance||0),oe=ce?K+(Number(k.rentAmount)||0):K;let S=0;if(ce){const N=Math.abs(g.getTime()-Z.getTime());S=Math.ceil(N/(1e3*60*60*24))}const R=c.properties.find(N=>N.id===k.propertyId);return{...k,effectiveArrears:oe,daysLate:S,propertyName:R?R.name:"Unassigned Unit"}}),x=s==="all"?y:y.filter(k=>k.propertyId===s),E=s==="all"?c.repairs:c.repairs.filter(k=>k.propertyId===s),w=x.filter(k=>k.effectiveArrears>0).sort((k,Z)=>Z.effectiveArrears-k.effectiveArrears),I=x.reduce((k,Z)=>k+Number(Z.lastAmountPaid||0),0),U=x.reduce((k,Z)=>k+Z.effectiveArrears,0),q=E.reduce((k,Z)=>k+Number(Z.cost||0),0),H=I-q,J=()=>{const k=s==="all"?"Full Portfolio":c.properties.find(S=>S.id===s)?.name,ce=[[`FINANCIAL REPORT: ${k?.toUpperCase()}`],["Generated",new Date().toLocaleString()],[""],["Metric","Value (UGX)"],["Total Collected",I],["Total Arrears",U],["Repairs Outlay",q],["Net Cash Position",H],[""],["ARREARS RISK TRACKING"],["Tenant Name","Status","Total Owed (UGX)"],...w.map(S=>[S.name,S.daysLate>0?`${S.daysLate} Days Late`:"Balance Due",S.effectiveArrears]),[""],["MAINTENANCE LOG"],["Issue","Cost (UGX)"],...E.map(S=>[S.issue,S.cost])].map(S=>S.join(",")).join(`
`),K=new Blob([ce],{type:"text/csv"}),oe=document.createElement("a");oe.href=URL.createObjectURL(K),oe.download=`${k?.replace(/\s+/g,"_")}_Report_v3.csv`,oe.click()};return m.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-8 pb-12 text-left",children:[m.jsxs("div",{className:"flex flex-col xl:flex-row justify-between items-start xl:items-center bg-white p-6 rounded-2xl shadow-sm border border-gray-200 gap-6 print:hidden",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl",children:m.jsx(Ts,{size:24})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Property Analytics"}),m.jsx("p",{className:"text-gray-500 text-xs font-medium uppercase tracking-wider",children:"Buwembo & Co. Management"})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full xl:w-auto",children:[m.jsxs("div",{className:"relative flex-grow md:w-64",children:[m.jsx(e3,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),m.jsxs("select",{value:s,onChange:k=>o(k.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm font-semibold text-gray-700 outline-none focus:ring-2 focus:ring-blue-100 transition-all appearance-none",children:[m.jsx("option",{value:"all",children:"All Properties"}),c.properties.map(k=>m.jsx("option",{value:k.id,children:k.name},k.id))]})]}),m.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-5 py-2.5 bg-white border border-gray-200 text-gray-700 rounded-lg text-sm font-semibold hover:bg-gray-50 transition-all",children:[m.jsx(QT,{size:16})," Print"]}),m.jsxs("button",{onClick:J,className:"flex items-center gap-2 px-5 py-2.5 bg-emerald-600 text-white rounded-lg text-sm font-semibold hover:bg-emerald-700 shadow-sm transition-all",children:[m.jsx(FT,{size:16})," Export CSV"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("span",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:m.jsx(wO,{size:20})}),m.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Gross Revenue"})]}),m.jsx("div",{className:"text-xl font-bold text-gray-900",children:r(I)}),m.jsx("div",{className:"text-[10px] font-bold text-emerald-600 mt-1",children:p(I)})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("span",{className:"p-2 bg-red-50 text-red-600 rounded-lg",children:m.jsx(vO,{size:20})}),m.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Total Arrears"})]}),m.jsx("div",{className:"text-xl font-bold text-gray-900",children:r(U)}),m.jsx("div",{className:"text-[10px] font-bold text-red-600 mt-1",children:p(U)})]}),m.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-gray-200 shadow-sm",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("span",{className:"p-2 bg-orange-50 text-orange-600 rounded-lg",children:m.jsx(CO,{size:20})}),m.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Repairs"})]}),m.jsx("div",{className:"text-xl font-bold text-gray-900",children:r(q)}),m.jsx("div",{className:"text-[10px] font-bold text-orange-600 mt-1",children:p(q)})]}),m.jsxs("div",{className:"bg-blue-600 p-6 rounded-2xl shadow-lg text-white",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsx("span",{className:"p-2 bg-blue-500 text-white rounded-lg",children:m.jsx(ij,{size:20})}),m.jsx("span",{className:"text-[10px] font-bold text-blue-100 uppercase tracking-widest",children:"Net Position"})]}),m.jsx("div",{className:"text-xl font-bold",children:r(H)}),m.jsx("div",{className:"text-[10px] font-bold text-blue-100 mt-1",children:p(H)})]})]}),m.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden text-left",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50/50",children:m.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Aging Arrears Table (Dynamic)"})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsx("table",{className:"w-full text-left text-sm",children:m.jsx("tbody",{className:"divide-y divide-gray-100",children:w.length>0?w.map(k=>m.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[m.jsxs("td",{className:"px-6 py-4",children:[m.jsx("div",{className:"font-bold text-gray-900",children:k.name}),s==="all"&&m.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:k.propertyName})]}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold ${k.daysLate>0?"bg-red-600 text-white":"bg-orange-100 text-orange-700"}`,children:k.daysLate>0?`${k.daysLate} Days Late`:"Balance Due"})}),m.jsxs("td",{className:"px-6 py-4 text-right",children:[m.jsx("div",{className:"font-bold text-red-600",children:r(k.effectiveArrears)}),m.jsx("div",{className:"text-[10px] text-red-400 font-bold",children:p(k.effectiveArrears)})]})]},k.id)):m.jsx("tr",{children:m.jsx("td",{className:"px-6 py-10 text-center text-gray-400 italic text-sm",children:"No arrears found for this selection."})})})})})]}),m.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden text-left",children:[m.jsx("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-50/50",children:m.jsx("h3",{className:"text-sm font-bold text-gray-800",children:"Recent Maintenance Costs"})}),m.jsx("div",{className:"p-6 space-y-4",children:E.length>0?E.slice(-5).reverse().map((k,Z)=>m.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl border border-gray-100",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-gray-800 text-sm",children:k.issue}),m.jsx("p",{className:"text-[10px] text-blue-600 font-bold uppercase",children:c.properties.find(ce=>ce.id===k.propertyId)?.name})]}),m.jsx("div",{className:"text-right font-bold text-gray-900 text-sm",children:r(k.cost)})]},Z)):m.jsx("div",{className:"py-10 text-center text-gray-400 italic text-sm",children:"No repair records found."})})]})]})]})},Nj=()=>{const r=od(),[e,n]=P.useState(!1),[s,o]=P.useState({name:"",location:"",units:"",type:"Residential",description:"",status:"Active"}),c=h=>{h.preventDefault();const p=JSON.parse(localStorage.getItem("properties")||"[]"),g={id:crypto.randomUUID(),...s,createdAt:new Date().toISOString()};localStorage.setItem("properties",JSON.stringify([...p,g])),n(!0),setTimeout(()=>{r("/dashboard")},1500)};return e?m.jsxs("div",{className:"w-full h-[60vh] flex flex-col items-center justify-center space-y-4",children:[m.jsx("div",{className:"bg-green-100 text-green-600 p-6 rounded-full animate-bounce",children:m.jsx(Up,{size:60})}),m.jsx("h2",{className:"text-3xl font-black uppercase text-gray-800",children:"Property Registered!"}),m.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs",children:"Updating Global Registry..."})]}):m.jsxs("div",{className:"w-full space-y-10 pb-12 animate-in fade-in duration-500",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 px-2",children:[m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-gray-400 hover:text-blue-600 font-black text-[10px] uppercase tracking-[0.2em] mb-4 transition-colors",children:[m.jsx(bO,{size:14})," Back to Portfolio"]}),m.jsxs("h1",{className:"text-4xl font-black text-gray-900 uppercase tracking-tight flex items-center gap-4",children:[m.jsx(Ts,{className:"text-blue-700",size:40}),"Add New Property"]}),m.jsx("p",{className:"text-gray-500 font-bold uppercase tracking-widest text-xs mt-1 ml-1",children:"Global Asset Entry  Buwembo & Co."})]}),m.jsx("button",{onClick:()=>r("/dashboard"),className:"p-4 bg-white text-gray-400 rounded-2xl border border-gray-100 hover:bg-red-50 hover:text-red-500 transition-all shadow-sm",children:m.jsx(cj,{size:24})})]}),m.jsxs("form",{onSubmit:c,className:"w-full bg-white rounded-[3rem] shadow-sm border border-gray-100 overflow-hidden",children:[m.jsxs("div",{className:"p-10 xl:p-20 space-y-16",children:[m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[m.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:m.jsx(c3,{size:18})}),m.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-tighter text-xl",children:"Core Identity"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-10",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Property Name"}),m.jsx("input",{required:!0,type:"text",value:s.name,onChange:h=>o({...s,name:h.target.value}),placeholder:"e.g., Buwembo Heights",className:"w-full p-5 bg-gray-50 border-2 border-transparent focus:border-blue-600 focus:bg-white rounded-2xl outline-none font-bold transition-all text-gray-800"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Location / Address"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{required:!0,type:"text",value:s.location,onChange:h=>o({...s,location:h.target.value}),placeholder:"e.g., Kampala Central",className:"w-full p-5 pl-14 bg-gray-50 border-2 border-transparent focus:border-blue-600 focus:bg-white rounded-2xl outline-none font-bold transition-all text-gray-800"}),m.jsx(KT,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-300",size:20})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Total Units"}),m.jsx("input",{required:!0,type:"number",value:s.units,onChange:h=>o({...s,units:h.target.value}),placeholder:"Number of rooms/shops",className:"w-full p-5 bg-gray-50 border-2 border-transparent focus:border-blue-600 focus:bg-white rounded-2xl outline-none font-bold transition-all text-gray-800"})]})]})]}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex items-center gap-3 border-b border-gray-100 pb-4",children:[m.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:m.jsx(GT,{size:18})}),m.jsx("h3",{className:"font-black text-gray-800 uppercase tracking-tighter text-xl",children:"Classification & Notes"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-10",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"Property Type"}),m.jsxs("select",{value:s.type,onChange:h=>o({...s,type:h.target.value}),className:"w-full p-5 bg-gray-50 border-2 border-transparent focus:border-blue-600 focus:bg-white rounded-2xl outline-none font-bold transition-all text-gray-800 appearance-none",children:[m.jsx("option",{children:"Residential"}),m.jsx("option",{children:"Commercial"}),m.jsx("option",{children:"Mixed Use"}),m.jsx("option",{children:"Industrial"})]})]}),m.jsxs("div",{className:"md:col-span-3 space-y-3",children:[m.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] ml-1",children:"General Description"}),m.jsx("textarea",{rows:1,value:s.description,onChange:h=>o({...s,description:h.target.value}),placeholder:"Describe amenities, proximity to roads, etc.",className:"w-full p-5 bg-gray-50 border-2 border-transparent focus:border-blue-600 focus:bg-white rounded-2xl outline-none font-bold transition-all text-gray-800"})]})]})]})]}),m.jsxs("div",{className:"bg-gray-50 p-10 xl:px-20 flex flex-col md:flex-row justify-between items-center gap-6",children:[m.jsxs("div",{className:"flex items-center gap-3 text-gray-400 italic",children:[m.jsx(Up,{size:18}),m.jsx("span",{className:"text-xs font-bold",children:"All changes are localized to your device storage."})]}),m.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[m.jsx("button",{type:"button",onClick:()=>r(-1),className:"flex-1 md:flex-none px-10 py-5 text-gray-400 font-black uppercase tracking-widest text-[10px] hover:text-gray-700 transition-colors",children:"Discard"}),m.jsxs("button",{type:"submit",className:"flex-1 md:flex-none px-16 py-5 bg-blue-700 text-white rounded-2xl font-black uppercase tracking-widest text-[10px] shadow-xl shadow-blue-100 hover:bg-blue-800 transition-all flex items-center justify-center gap-3",children:[m.jsx(D3,{size:18}),"Confirm & Register"]})]})]})]})]})},Cj=()=>{const{formatUgx:r,currency:e,exchangeRate:n}=Ho(),[s,o]=P.useState([]),[c,h]=P.useState([]),[p,g]=P.useState("");P.useEffect(()=>{const I=un(ht(xe,"properties"),q=>{const H=q.docs.map(J=>({id:J.id,...J.data()}));h(H)}),U=un(ht(xe,"vacatedTenants"),q=>{const H=q.docs.map(J=>({id:J.id,...J.data()}));o(H)});return()=>{I(),U()}},[]);const y=I=>{const U=n||3800;return e==="UGX"?`USD $${(I/U).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:`UGX ${(I*U).toLocaleString()}`},x=async I=>{const U=s.find(q=>q.id===I);if(U&&window.confirm(`Restore ${U.name} to active tenants?`))try{await Ec(ht(xe,"tenants"),{name:U.name,contact:"",propertyId:U.propertyId,rentAmount:U.rent,lastAmountPaid:U.amountPaid,balance:U.balance,paidUntil:U.expiryDate||new Date().toISOString().split("T")[0],rentFrequency:"Monthly",paymentHistory:[],restoredAt:pi()}),await Lc(vt(xe,"vacatedTenants",I))}catch(q){console.error("Restore failed:",q),alert("Failed to restore tenant. Please check your connection.")}},E=()=>{const I=["Name","Property","Amount Paid (UGX)","Balance (UGX)","Reason","Vacated Date"],U=w.map(k=>[k.name,c.find(Z=>Z.id===k.propertyId)?.name||"N/A",k.amountPaid,k.balance,k.reason||"N/A",k.vacatedDate]),q=[I,...U].map(k=>k.join(",")).join(`
`),H=new Blob([q],{type:"text/csv"}),J=document.createElement("a");J.href=URL.createObjectURL(H),J.download=`Vacated_Archive_${new Date().toISOString().split("T")[0]}.csv`,J.click()},w=s.filter(I=>{const U=c.find(H=>H.id===I.propertyId),q=p.toLowerCase();return I.name.toLowerCase().includes(q)||U?.name.toLowerCase().includes(q)||""||I.reason?.toLowerCase().includes(q)||""});return m.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-8 pb-12",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 print:hidden",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight flex items-center gap-3",children:"Vacated Tenants Archive"}),m.jsx("p",{className:"text-gray-500 text-sm mt-1 font-medium",children:"Historical records and final account balances"})]}),m.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[m.jsxs("div",{className:"relative flex-grow md:w-80 group",children:[m.jsx(Pd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-600 transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Search name, unit or reason...",value:p,onChange:I=>g(I.target.value),className:"w-full py-2.5 pl-10 pr-4 rounded-lg border border-gray-200 bg-white shadow-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none text-sm font-medium transition-all"})]}),m.jsxs("button",{onClick:()=>window.print(),className:"bg-white border border-gray-200 px-4 py-2.5 rounded-lg hover:bg-gray-50 text-gray-700 font-semibold text-sm flex items-center gap-2 transition-all",children:[m.jsx(QT,{size:16})," Print"]}),m.jsxs("button",{onClick:E,className:"bg-emerald-600 text-white px-4 py-2.5 rounded-lg hover:bg-emerald-700 shadow-sm font-semibold text-sm flex items-center gap-2 transition-all",children:[m.jsx(FT,{size:16})," Export CSV"]})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden w-full",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-gray-800 text-sm",children:"Historical Ledger"}),m.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:[w.length," Archived Records"]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50 text-xs font-semibold text-gray-500 uppercase tracking-wider border-b border-gray-100",children:[m.jsx("th",{className:"px-6 py-4",children:"Tenant & Previous Unit"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Total Paid"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Final Balance"}),m.jsx("th",{className:"px-6 py-4 text-center",children:"Reason"}),m.jsx("th",{className:"px-6 py-4 text-center",children:"Departure Date"}),m.jsx("th",{className:"px-6 py-4 text-center print:hidden",children:"Reinstatement"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100",children:w.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"px-6 py-20 text-center",children:m.jsxs("div",{className:"flex flex-col items-center opacity-30",children:[m.jsx(Ud,{size:48}),m.jsx("p",{className:"mt-4 font-bold text-gray-500",children:"No vacated records found"})]})})}):w.map(I=>{const U=c.find(q=>q.id===I.propertyId);return m.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[m.jsxs("td",{className:"px-6 py-4",children:[m.jsx("div",{className:"font-bold text-gray-900 text-sm",children:I.name}),m.jsx("div",{className:"flex items-center gap-2 mt-0.5",children:m.jsxs("span",{className:"text-[10px] text-blue-600 font-bold flex items-center gap-1",children:[m.jsx(Ts,{size:10})," ",U?.name||"Unit Not Found"]})})]}),m.jsxs("td",{className:"px-6 py-4 text-right",children:[m.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:r(I.amountPaid)}),m.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-tight",children:y(I.amountPaid)})]}),m.jsxs("td",{className:"px-6 py-4 text-right",children:[m.jsx("div",{className:`font-bold text-sm ${I.balance>0?"text-red-600":"text-emerald-600"}`,children:I.balance>0?`-${r(I.balance)}`:"Settled"}),I.balance>0&&m.jsx("div",{className:"text-[10px] text-red-400 font-bold uppercase tracking-tight",children:y(I.balance)})]}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsx("span",{className:"px-2.5 py-1 bg-amber-50 text-amber-700 border border-amber-100 rounded-lg text-[10px] font-bold uppercase",children:I.reason||"N/A"})}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-gray-100 rounded-full text-[10px] font-bold text-gray-600 uppercase",children:[m.jsx(RO,{size:10})," ",I.vacatedDate]})}),m.jsx("td",{className:"px-6 py-4 text-center print:hidden",children:m.jsxs("button",{onClick:()=>x(I.id),className:"inline-flex items-center gap-2 px-4 py-1.5 bg-gray-900 text-white rounded-lg hover:bg-blue-600 transition-all text-[10px] font-bold uppercase tracking-tight shadow-sm active:scale-95",children:[m.jsx(C3,{size:12})," Restore"]})})]},I.id)})})]})})]}),m.jsx("style",{children:`
        @media print {
          body { background: white !important; font-size: 10pt; }
          .max-w-7xl { max-width: 100% !important; margin: 0 !important; }
          .shadow-sm { box-shadow: none !important; }
          .rounded-2xl { border-radius: 4px !important; }
          .bg-gray-50 { background-color: #f9fafb !important; -webkit-print-color-adjust: exact; }
          .print\\:hidden { display: none !important; }
          th { border-bottom: 2px solid #000 !important; }
        }
      `})]})},Ij=()=>{const{formatUgx:r,currency:e,exchangeRate:n}=Ho(),[s,o]=P.useState([]),[c,h]=P.useState([]),[p,g]=P.useState(null),[y,x]=P.useState(""),[E,w]=P.useState({propertyId:"",issue:"",description:"",cost:0,status:"Pending",date:new Date().toISOString().split("T")[0]}),[I,U]=P.useState("0");P.useEffect(()=>{const K=un(ht(xe,"properties"),S=>{const R=S.docs.map(N=>({id:N.id,name:N.data().name}));o(R)}),oe=un(ht(xe,"repairs"),S=>{const R=S.docs.map(N=>({id:N.id,...N.data()}));h(R)});return()=>{K(),oe()}},[]);const q=K=>{const oe=n||3800;return e==="UGX"?`USD $${(K/oe).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`:`UGX ${(K*oe).toLocaleString()}`},H=K=>{w({...E,cost:K}),U((K/(n||3800)).toFixed(2))},J=K=>{U(K.toString()),w({...E,cost:Math.round(K*(n||3800))})},k=async K=>{K.preventDefault();try{if(p){const oe=vt(xe,"repairs",p);await Io(oe,{...E,updatedAt:pi()}),g(null)}else await Ec(ht(xe,"repairs"),{...E,createdAt:pi()});w({propertyId:"",issue:"",description:"",cost:0,status:"Pending",date:new Date().toISOString().split("T")[0]}),U("0")}catch(oe){console.error("Firebase Error:",oe),alert("Failed to save the repair record to the cloud.")}},Z=async K=>{if(window.confirm("Permanently delete this maintenance record? This will sync for all users."))try{await Lc(vt(xe,"repairs",K))}catch{alert("Error deleting record from cloud.")}},ce=c.filter(K=>{const oe=s.find(S=>S.id===K.propertyId);return K.issue.toLowerCase().includes(y.toLowerCase())||oe?.name.toLowerCase().includes(y.toLowerCase())});return m.jsxs("div",{className:"w-full max-w-7xl mx-auto space-y-8 pb-12",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight flex items-center gap-3",children:"Repairs & Maintenance"}),m.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Track property upkeep and service costs"})]}),m.jsxs("div",{className:"relative w-full md:w-80 group",children:[m.jsx(Pd,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-600 transition-colors",size:18}),m.jsx("input",{type:"text",placeholder:"Search by issue or property...",value:y,onChange:K=>x(K.target.value),className:"w-full py-2.5 pl-10 pr-4 rounded-lg border border-gray-200 bg-white shadow-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100 outline-none text-sm font-medium transition-all"})]})]}),m.jsxs("form",{onSubmit:k,className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-100",children:[m.jsx("div",{className:`p-2 rounded-lg ${p?"bg-orange-50 text-orange-600":"bg-blue-50 text-blue-600"}`,children:p?m.jsx(sd,{size:20}):m.jsx(YT,{size:20})}),m.jsx("h2",{className:"text-lg font-bold text-gray-900",children:p?"Update Maintenance Record":"Log New Repair Task"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5 flex items-center gap-1.5",children:[m.jsx(Ts,{size:14,className:"text-gray-400"})," Property"]}),m.jsxs("select",{value:E.propertyId,onChange:K=>w({...E,propertyId:K.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm bg-white focus:border-blue-500 outline-none",required:!0,children:[m.jsx("option",{value:"",children:"Select a unit..."}),s.map(K=>m.jsx("option",{value:K.id,children:K.name},K.id))]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5 flex items-center gap-1.5",children:[m.jsx(WT,{size:14,className:"text-gray-400"})," Issue Summary"]}),m.jsx("input",{type:"text",value:E.issue,onChange:K=>w({...E,issue:K.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:border-blue-500 outline-none",placeholder:"e.g., Plumbing Leak",required:!0})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5 flex items-center gap-1.5",children:[m.jsx(Vd,{size:14,className:"text-gray-400"})," Status & Date"]}),m.jsxs("select",{value:E.status,onChange:K=>w({...E,status:K.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm bg-white focus:border-blue-500 outline-none",children:[m.jsx("option",{value:"Pending",children:"Pending Review"}),m.jsx("option",{value:"In Progress",children:"In Progress"}),m.jsx("option",{value:"Completed",children:"Completed"})]}),m.jsx("input",{type:"date",value:E.date,onChange:K=>w({...E,date:K.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg text-sm text-gray-600 focus:border-blue-500 outline-none"})]}),m.jsxs("div",{className:"space-y-4 lg:col-span-2",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-blue-700 mb-1.5",children:"Estimated Cost (UGX)"}),m.jsx("input",{type:"number",value:E.cost||"",onChange:K=>H(Number(K.target.value)),className:"w-full px-4 py-2.5 border border-blue-200 bg-blue-50/30 rounded-lg text-sm font-semibold focus:border-blue-500 outline-none",placeholder:"0"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-green-700 mb-1.5",children:"Estimated Cost (USD)"}),m.jsx("input",{type:"number",step:"0.01",value:I==="0"?"":I,onChange:K=>J(Number(K.target.value)),className:"w-full px-4 py-2.5 border border-green-200 bg-green-50/30 rounded-lg text-sm font-semibold focus:border-green-500 outline-none",placeholder:"0.00"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5 flex items-center gap-1.5",children:[m.jsx(GT,{size:14,className:"text-gray-400"})," Description / Notes"]}),m.jsx("textarea",{value:E.description,onChange:K=>w({...E,description:K.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm focus:border-blue-500 outline-none resize-none",rows:1,placeholder:"Optional details..."})]})]})]}),m.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-100 flex gap-3",children:[m.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-semibold text-sm transition-all shadow-sm",children:p?"Update Record":"Save Record"}),p&&m.jsx("button",{type:"button",onClick:()=>{g(null),w({propertyId:"",issue:"",description:"",cost:0,status:"Pending",date:new Date().toISOString().split("T")[0]}),U("0")},className:"px-6 py-2.5 border border-gray-300 rounded-lg text-sm font-medium",children:"Cancel"})]})]}),m.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-gray-800 text-sm",children:"Maintenance Log"}),m.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:[ce.length," entries found"]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-xs font-semibold text-gray-500 uppercase tracking-wider",children:[m.jsx("th",{className:"px-6 py-4",children:"Issue Details"}),m.jsx("th",{className:"px-6 py-4 text-center",children:"Status"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Costing"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100",children:ce.length===0?m.jsx("tr",{children:m.jsxs("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-400 italic",children:[m.jsx(Zg,{size:32,className:"mx-auto mb-2 opacity-20"}),"No records matching your search."]})}):ce.map(K=>{const oe=s.find(S=>S.id===K.propertyId);return m.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[m.jsxs("td",{className:"px-6 py-4",children:[m.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:K.issue}),m.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[m.jsxs("span",{className:"text-[10px] text-blue-600 font-medium flex items-center gap-1",children:[m.jsx(Ts,{size:10})," ",oe?.name||"Unknown Property"]}),m.jsxs("span",{className:"text-[10px] text-gray-400",children:[" ",K.date]})]}),K.description&&m.jsxs("div",{className:"text-xs text-gray-400 mt-1 italic truncate max-w-xs",children:['"',K.description,'"']})]}),m.jsx("td",{className:"px-6 py-4 text-center",children:m.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wide ${K.status==="Completed"?"bg-emerald-100 text-emerald-700":K.status==="In Progress"?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"}`,children:[K.status==="Completed"&&m.jsx(Up,{size:10}),K.status==="In Progress"&&m.jsx($T,{size:10}),K.status]})}),m.jsxs("td",{className:"px-6 py-4 text-right",children:[m.jsx("div",{className:"font-bold text-gray-900 text-sm",children:r(K.cost)}),m.jsx("div",{className:"text-[10px] text-gray-400 font-bold uppercase",children:q(K.cost)})]}),m.jsx("td",{className:"px-6 py-4 text-right",children:m.jsxs("div",{className:"flex justify-end gap-1",children:[m.jsx("button",{onClick:()=>{g(K.id),w({...K}),U((K.cost/(n||3800)).toFixed(2)),window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",children:m.jsx(sd,{size:16})}),m.jsx("button",{onClick:()=>Z(K.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",children:m.jsx(Tc,{size:16})})]})})]},K.id)})})]})})]})]})},Dj=()=>{const[r,e]=P.useState(""),[n,s]=P.useState(""),[o,c]=P.useState(!1),[h,p]=P.useState(""),{login:g,loginWithGoogle:y}=Md(),x=async w=>{w.preventDefault();try{await g(r,n),window.location.href="/property-app-updates/"}catch{p("Invalid credentials. Please use your registered email and password.")}},E=async()=>{try{await y(),window.location.href="/property-app-updates/"}catch{p("Google Sign-In failed. Please try again.")}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-blue-900 px-4",children:m.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-[2.5rem] shadow-2xl border border-white/10",children:[m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"mx-auto h-40 w-40 bg-blue-900 rounded-2xl flex items-center justify-center overflow-hidden mb-6 shadow-xl ring-4 ring-blue-50",children:m.jsx("img",{src:"/property-app-updates/pwa-512x512.png",alt:"Buwembo & Co. Logo",className:"w-full h-full object-cover"})}),m.jsx("h2",{className:"text-2xl font-black text-blue-900 tracking-tight uppercase leading-none",children:"Buwembo & Co."}),m.jsx("p",{className:"mt-1 text-xs text-blue-400 font-bold uppercase tracking-[0.2em]",children:"Advocates"}),m.jsx("p",{className:"mt-1 text-[10px] text-blue-800 font-bold uppercase tracking-[0.2em]",children:"Property Management System"})]}),m.jsxs("form",{className:"mt-8 space-y-5",onSubmit:x,children:[h&&m.jsxs("div",{className:"bg-red-50 border border-red-100 text-red-600 px-4 py-3 rounded-xl flex items-center gap-3 text-xs font-bold animate-pulse",children:[m.jsx(L3,{size:16})," ",h]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"text-left",children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Email Address"}),m.jsx("div",{className:"mt-1",children:m.jsx("input",{type:"email",required:!0,className:"block w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:bg-white outline-none transition-all text-sm font-medium",placeholder:"name@firm.com",value:r,onChange:w=>e(w.target.value)})})]}),m.jsxs("div",{className:"text-left",children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Password"}),m.jsxs("div",{className:"mt-1 relative",children:[m.jsx("input",{type:o?"text":"password",required:!0,className:"block w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:bg-white outline-none transition-all text-sm font-medium",placeholder:"",value:n,onChange:w=>s(w.target.value)}),m.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-blue-600 transition-colors",children:o?m.jsx($O,{size:20}):m.jsx(YO,{size:20})})]})]})]}),m.jsxs("button",{type:"submit",className:"group relative w-full flex justify-center py-4 px-4 border border-transparent text-sm font-bold rounded-2xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none shadow-lg shadow-blue-200 transition-all active:scale-[0.98]",children:[m.jsx("span",{className:"absolute left-4 inset-y-0 flex items-center",children:m.jsx(m3,{className:"h-5 w-5 text-blue-300"})}),"Secure Sign In"]})]}),m.jsxs("div",{className:"relative my-6",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t border-gray-100"})}),m.jsx("div",{className:"relative flex justify-center text-[10px] uppercase",children:m.jsx("span",{className:"bg-white px-4 text-gray-400 font-bold tracking-widest",children:"Or continue with"})})]}),m.jsxs("button",{onClick:E,type:"button",className:"w-full flex items-center justify-center gap-3 py-4 px-4 bg-white border-2 border-gray-100 rounded-2xl text-sm font-bold text-gray-700 hover:bg-gray-50 hover:border-gray-200 transition-all active:scale-[0.98] shadow-sm",children:[m.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"Sign in with Google"]}),m.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest text-center mt-8",children:"Authorized Access Only"})]})})},Oj=()=>{const{registerNewUser:r,currentUser:e,resetUserPassword:n}=Md(),[s,o]=P.useState([]),[c,h]=P.useState(!0),[p,g]=P.useState(""),[y,x]=P.useState(""),[E,w]=P.useState(""),[I,U]=P.useState("user"),[q,H]=P.useState(!1);P.useEffect(()=>{const K=pT(ht(xe,"users"),gT("username","asc")),oe=un(K,S=>{const R=S.docs.map(N=>({uid:N.id,...N.data()}));o(R),h(!1)},S=>{console.error("User Listener Error:",S),h(!1)});return()=>oe()},[]);const J=async K=>{K.preventDefault(),H(!0);try{await r(p.trim(),y,E.trim(),I),g(""),x(""),w(""),U("user"),alert(`Staff account for ${E} created in the cloud successfully!`)}catch(oe){alert(`Creation Failed: ${oe.message}`)}finally{H(!1)}},k=async(K,oe)=>{if(window.confirm(`Send a secure password reset link to ${oe} (${K})?`))try{await n(K),alert(`Reset link sent to ${K}. Please ask them to check their inbox.`)}catch(S){alert("Error sending reset email: "+S.message)}},Z=async(K,oe)=>{if(K===e?.uid){alert("Security Protocol: You cannot change your own administrative permissions.");return}const S=oe==="admin"?"user":"admin";try{await Io(vt(xe,"users",K),{role:S})}catch{alert("Permission denied. Check Firestore rules.")}},ce=async(K,oe)=>{if(K===e?.uid){alert("Security Protocol: You cannot delete the active admin session.");return}if(window.confirm(`PERMANENT ACTION: Remove all cloud access for ${oe}?`))try{await Lc(vt(xe,"users",K))}catch{alert("Delete failed. This user might have active session locks.")}};return e?.role!=="admin"?m.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-gray-400",children:[m.jsx(Y3,{size:48,className:"mb-4 text-orange-400"}),m.jsx("p",{className:"font-bold text-lg",children:"Access Denied"}),m.jsx("p",{className:"text-sm italic",children:"This directory is restricted to System Administrators only."})]}):m.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 pb-12 text-left px-4",children:[m.jsxs("div",{className:"px-1",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"System Personnel"}),m.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Cloud Directory  Buwembo & Co. Advocates"})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200 h-fit sticky top-24",children:[m.jsxs("h3",{className:"font-bold text-gray-800 mb-4 flex items-center gap-2 text-sm uppercase tracking-wider",children:[m.jsx(Z3,{size:18,className:"text-blue-600"})," Register Staff"]}),m.jsxs("form",{onSubmit:J,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Full Name"}),m.jsx("input",{type:"text",required:!0,className:"w-full mt-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:E,onChange:K=>w(K.target.value),placeholder:"Full Name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Email Address"}),m.jsx("input",{type:"email",required:!0,className:"w-full mt-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:p,onChange:K=>g(K.target.value),placeholder:"name@buwembo.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"Initial Password"}),m.jsx("input",{type:"password",required:!0,className:"w-full mt-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:y,onChange:K=>x(K.target.value),placeholder:""})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest ml-1",children:"System Role"}),m.jsxs("select",{className:"w-full mt-1 px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-blue-500 outline-none",value:I,onChange:K=>U(K.target.value),children:[m.jsx("option",{value:"user",children:"Standard User (Properties/Tenants)"}),m.jsx("option",{value:"admin",children:"Admin (Full Access + User Mgmt)"})]})]}),m.jsx("button",{disabled:q,className:"w-full py-3.5 bg-blue-600 text-white rounded-xl font-bold text-sm hover:bg-blue-700 shadow-md flex items-center justify-center gap-2 transition-all disabled:bg-blue-300",children:q?m.jsx(w1,{className:"animate-spin",size:18}):"Provision Account"})]})]}),m.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gray-50/50 flex justify-between items-center",children:[m.jsx("h3",{className:"font-bold text-gray-800 text-sm uppercase tracking-wider",children:"Cloud Directory"}),m.jsx("span",{className:"text-[10px] bg-emerald-100 text-emerald-700 px-2 py-1 rounded-md font-bold uppercase tracking-widest",children:"Live Sync"})]}),m.jsx("div",{className:"overflow-x-auto",children:c?m.jsxs("div",{className:"p-20 flex flex-col items-center gap-4 text-gray-400",children:[m.jsx(w1,{className:"animate-spin",size:32}),m.jsx("p",{className:"text-xs font-medium uppercase tracking-widest",children:"Querying Firestore..."})]}):m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{className:"bg-gray-50 text-gray-400 text-[10px] font-bold uppercase tracking-widest",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4 text-left",children:"User Profile"}),m.jsx("th",{className:"px-6 py-4 text-left",children:"Status/Role"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(K=>m.jsxs("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`p-2.5 rounded-xl ${K.role==="admin"?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:K.role==="admin"?m.jsx(B3,{size:18}):m.jsx(tj,{size:18})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-bold text-gray-900 text-sm",children:K.username}),K.uid===e?.uid&&m.jsx("span",{className:"text-[9px] bg-blue-600 text-white px-1.5 py-0.5 rounded-lg font-bold uppercase tracking-tighter",children:"You"})]}),m.jsxs("p",{className:"text-[11px] text-gray-400 flex items-center gap-1 mt-0.5",children:[m.jsx(v3,{size:10})," ",K.email]})]})]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("button",{onClick:()=>Z(K.uid,K.role),className:`text-[10px] font-bold px-3 py-1.5 rounded-lg uppercase tracking-tighter cursor-pointer hover:shadow-sm transition-all border ${K.role==="admin"?"bg-purple-50 text-purple-700 border-purple-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:K.role})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center justify-end gap-1",children:[m.jsx("button",{onClick:()=>k(K.email,K.username),className:"p-2.5 rounded-xl text-gray-400 hover:text-orange-600 hover:bg-orange-50 transition-all",title:"Reset Password",children:m.jsx(o3,{size:18})}),m.jsx("button",{onClick:()=>ce(K.uid,K.username),disabled:K.uid===e?.uid,className:`p-2.5 rounded-xl transition-all ${K.uid===e?.uid?"text-gray-200 cursor-not-allowed":"text-gray-400 hover:text-red-600 hover:bg-red-50"}`,children:m.jsx(Tc,{size:18})})]})})]},K.uid))})]})})]})]})]})},jj=()=>{const{currentUser:r}=Md(),[e,n]=P.useState(!0);return P.useEffect(()=>{const s=setTimeout(()=>{n(!1)},1500);return()=>clearTimeout(s)},[]),e?m.jsx(A1,{}):r?m.jsx(vj,{children:m.jsx(P.Suspense,{fallback:m.jsx(A1,{}),children:m.jsxs(UA,{children:[m.jsx(lr,{path:"/",element:m.jsx(wj,{})}),m.jsx(lr,{path:"/properties",element:m.jsx(Sj,{})}),m.jsx(lr,{path:"/tenants",element:m.jsx(Aj,{})}),m.jsx(lr,{path:"/reports",element:m.jsx(Rj,{})}),m.jsx(lr,{path:"/add-property",element:m.jsx(Nj,{})}),m.jsx(lr,{path:"/repairs",element:m.jsx(Ij,{})}),m.jsx(lr,{path:"/vacated",element:m.jsx(Cj,{})}),m.jsx(lr,{path:"/settings",element:m.jsx(_j,{})}),m.jsx(lr,{path:"/users",element:m.jsx(Oj,{})}),m.jsx(lr,{path:"*",element:m.jsx(PA,{to:"/",replace:!0})})]})})}):m.jsx(Dj,{})},kj=()=>(P.useEffect(()=>{if(localStorage.getItem("app_version")!=="2.0"){console.log("Upgrading System to Version 2.0...");const s=JSON.parse(localStorage.getItem("tenants")||"[]").map(g=>({...g,propertyId:g.propertyId||"unassigned",balance:Number(g.balance||0),amountPaid:Number(g.amountPaid||0),nextPaymentDate:g.nextPaymentDate||new Date().toISOString().split("T")[0]}));localStorage.setItem("tenants",JSON.stringify(s));const c=JSON.parse(localStorage.getItem("repairs")||"[]").map(g=>({...g,propertyId:g.propertyId||"unassigned",cost:Number(g.cost||0),issue:g.issue||g.description||"Unspecified Repair"}));localStorage.setItem("repairs",JSON.stringify(c));const p=JSON.parse(localStorage.getItem("properties")||"[]").map(g=>({...g,id:g.id?.toString()||Math.random().toString(36).substr(2,9)}));localStorage.setItem("properties",JSON.stringify(p)),localStorage.setItem("app_version","2.0"),window.location.assign(window.location.origin+"/property-app-updates/")}},[]),m.jsx(hO,{children:m.jsx(bj,{children:m.jsx(c2,{basename:"/property-app-updates",children:m.jsx("div",{className:"min-h-screen bg-gray-50 font-sans antialiased",children:m.jsx(jj,{})})})})})),Mj=BS.createRoot(document.getElementById("root"));Mj.render(m.jsx(jS.StrictMode,{children:m.jsx(kj,{})}));
